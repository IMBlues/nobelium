<!DOCTYPE html><html lang="zh-CN"><head><meta name="viewport" content="width=device-width"/><title>ReDoS：正则也许会让你的系统更脆弱</title><meta name="robots" content="follow, index"/><meta charSet="UTF-8"/><meta name="keywords" content="Blog, Notion, Tech, Python, Django"/><meta name="description"/><meta property="og:locale" content="zh-CN"/><meta property="og:title" content="ReDoS：正则也许会让你的系统更脆弱"/><meta property="og:description"/><meta property="og:url" content="https://next.emergencyexit.xyz/"/><meta property="og:image" content="https://og-image-craigary.vercel.app/ReDoS%EF%BC%9A%E6%AD%A3%E5%88%99%E4%B9%9F%E8%AE%B8%E4%BC%9A%E8%AE%A9%E4%BD%A0%E7%9A%84%E7%B3%BB%E7%BB%9F%E6%9B%B4%E8%84%86%E5%BC%B1.png?theme=dark&amp;md=1&amp;fontSize=125px&amp;images=https%3A%2F%2Fnobelium.vercel.app%2Flogo-for-dark-bg.svg"/><meta property="og:type" content="article"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:description"/><meta name="twitter:title" content="ReDoS：正则也许会让你的系统更脆弱"/><meta name="twitter:image" content="https://og-image-craigary.vercel.app/ReDoS%EF%BC%9A%E6%AD%A3%E5%88%99%E4%B9%9F%E8%AE%B8%E4%BC%9A%E8%AE%A9%E4%BD%A0%E7%9A%84%E7%B3%BB%E7%BB%9F%E6%9B%B4%E8%84%86%E5%BC%B1.png?theme=dark&amp;md=1&amp;fontSize=125px&amp;images=https%3A%2F%2Fnobelium.vercel.app%2Flogo-for-dark-bg.svg"/><meta property="article:published_time"/><meta property="article:author" content="bluesyu"/><meta name="next-head-count" content="18"/><link rel="preload" href="/fonts/IBMPlexSansVar-Roman.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><link rel="preload" href="/fonts/IBMPlexSansVar-Italic.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/><link rel="preload" as="style" data-href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&amp;display=swap"/><link rel="stylesheet" data-href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&amp;display=swap"/><noscript><link rel="stylesheet" data-href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&amp;display=swap"/></noscript><link rel="icon" href="/favicon.svg" type="image/svg+xml"/><link rel="icon" href="/favicon.ico"/><link rel="apple-touch-icon" sizes="192x192" href="/apple-touch-icon.png"/><link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="/feed"/><meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)"/><meta name="theme-color" content="#18181B" media="(prefers-color-scheme: dark)"/><link rel="preload" href="/_next/static/css/60da561f991c2132.css" as="style"/><link rel="stylesheet" href="/_next/static/css/60da561f991c2132.css" data-n-g=""/><link rel="preload" href="/_next/static/css/6a5815369e10547f.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6a5815369e10547f.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-a8e4a2662f5d619d.js" defer=""></script><script src="/_next/static/chunks/main-e557dee8cfeafd6c.js" defer=""></script><script src="/_next/static/chunks/pages/_app-176803f32ae4a7f0.js" defer=""></script><script src="/_next/static/chunks/b5f2ed29-08db60af0c3043ba.js" defer=""></script><script src="/_next/static/chunks/684-63c1a25e215d8bed.js" defer=""></script><script src="/_next/static/chunks/580-c0214944b9e37cce.js" defer=""></script><script src="/_next/static/chunks/818-6b9da8a8c865d7d5.js" defer=""></script><script src="/_next/static/chunks/pages/%5Bslug%5D-097086ca2ead5d58.js" defer=""></script><script src="/_next/static/AgCQyszJ-wVJWr_Otvcbb/_buildManifest.js" defer=""></script><script src="/_next/static/AgCQyszJ-wVJWr_Otvcbb/_ssgManifest.js" defer=""></script><script src="/_next/static/AgCQyszJ-wVJWr_Otvcbb/_middlewareManifest.js" defer=""></script><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap"/></head><body class="bg-day dark:bg-night"><div id="__next" data-reactroot=""><div><div class="wrapper font-sans"><div class="observer-element h-4 md:h-12"></div><div class="sticky-nav m-auto w-full h-6 flex flex-row justify-between items-center mb-2 md:mb-12 py-8 bg-opacity-60 max-w-3xl px-4" id="sticky-nav"><div class="flex items-center"><a aria-label="布鲁斯鱼的妙想天开" href="/"><div class="h-6"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="24" height="24" class="fill-current text-black dark:text-white"></rect><rect width="24" height="24" fill="url(#paint0_radial)"></rect><defs><radialGradient id="paint0_radial" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="rotate(45) scale(39.598)"><stop stop-color="#CFCFCF" stop-opacity="0.6"></stop><stop offset="1" stop-color="#E9E9E9" stop-opacity="0"></stop></radialGradient></defs></svg></div></a><p class="ml-2 font-medium text-day dark:text-night header-name">ReDoS：正则也许会让你的系统更脆弱</p></div><div class="flex-shrink-0"><ul class="flex flex-row"><li class="block ml-4 text-black dark:text-gray-50 nav"><a href="/">博客</a></li><li class="block ml-4 text-black dark:text-gray-50 nav"><a href="/about">关于</a></li><li class="block ml-4 text-black dark:text-gray-50 nav"><a href="/feed">订阅</a></li><li class="block ml-4 text-black dark:text-gray-50 nav"><a href="/search">搜索</a></li></ul></div></div><main class="m-auto flex-grow w-full transition-all max-w-2xl px-4"><article><h1 class="font-bold text-3xl text-black dark:text-white">ReDoS：正则也许会让你的系统更脆弱</h1><nav class="flex mt-7 items-start text-gray-500 dark:text-gray-400"><div class="flex mb-4"><a href="https://twitter.com/bluesedenyu" class="flex"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2724%27%20height=%2724%27/%3e"/></span><img alt="bluesyu" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="rounded-full" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="bluesyu" srcSet="https://gravatar.com/avatar/d54f099771ff5f17709b76693f693e2e?imwidth=32 1x, https://gravatar.com/avatar/d54f099771ff5f17709b76693f693e2e?imwidth=48 2x" src="https://gravatar.com/avatar/d54f099771ff5f17709b76693f693e2e?imwidth=48" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="rounded-full" loading="lazy"/></noscript></span><p class="ml-2 md:block">bluesyu</p></a><span class="block"> / </span></div><div class="mr-2 mb-4 md:ml-0">2022 年 3 月 1 日</div><div class="flex flex-nowrap max-w-full overflow-x-auto article-tags"><a href="/tag/python"><p class="mr-1 rounded-full px-2 py-1 border leading-none text-sm dark:border-gray-600">python</p></a><a href="/tag/tech"><p class="mr-1 rounded-full px-2 py-1 border leading-none text-sm dark:border-gray-600">tech</p></a><a href="/tag/regex"><p class="mr-1 rounded-full px-2 py-1 border leading-none text-sm dark:border-gray-600">regex</p></a><a href="/tag/nfa"><p class="mr-1 rounded-full px-2 py-1 border leading-none text-sm dark:border-gray-600">nfa</p></a><a href="/tag/dfa"><p class="mr-1 rounded-full px-2 py-1 border leading-none text-sm dark:border-gray-600">dfa</p></a><a href="/tag/security"><p class="mr-1 rounded-full px-2 py-1 border leading-none text-sm dark:border-gray-600">security</p></a></div></nav><div class="-mt-4"><main class="notion light-mode notion-page notion-block-9d18b689cdc24d3f81daa690c700caee"><div class="notion-viewport"></div><div class="notion-collection-row"><div class="notion-collection-row-body"><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M10.889 5.5H3.11v1.556h7.778V5.5zm1.555-4.444h-.777V0H10.11v1.056H3.89V0H2.333v1.056h-.777c-.864 0-1.548.7-1.548 1.555L0 12.5c0 .856.692 1.5 1.556 1.5h10.888C13.3 14 14 13.356 14 12.5V2.611c0-.855-.7-1.555-1.556-1.555zm0 11.444H1.556V3.944h10.888V12.5zM8.556 8.611H3.11v1.556h5.445V8.61z"></path></svg><div class="notion-collection-column-title-body">date</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-date">Mar 1, 2022</span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 4.568a.5.5 0 00-.5-.5h-6a.5.5 0 00-.5.5v1.046a.5.5 0 00.5.5h6a.5.5 0 00.5-.5V4.568zM.5 1a.5.5 0 00-.5.5v1.045a.5.5 0 00.5.5h12a.5.5 0 00.5-.5V1.5a.5.5 0 00-.5-.5H.5zM0 8.682a.5.5 0 00.5.5h11a.5.5 0 00.5-.5V7.636a.5.5 0 00-.5-.5H.5a.5.5 0 00-.5.5v1.046zm0 3.068a.5.5 0 00.5.5h9a.5.5 0 00.5-.5v-1.045a.5.5 0 00-.5-.5h-9a.5.5 0 00-.5.5v1.045z"></path></svg><div class="notion-collection-column-title-body">slug</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-text">redos-and-why</span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 13A6 6 0 107 1a6 6 0 000 12zM3.751 5.323A.2.2 0 013.909 5h6.182a.2.2 0 01.158.323L7.158 9.297a.2.2 0 01-.316 0L3.751 5.323z"></path></svg><div class="notion-collection-column-title-body">status</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-select"><div class="notion-property-select-item notion-item-red">Published</div></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M4 3a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zm0 4a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zm0 4a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zM2 4a1 1 0 110-2 1 1 0 010 2zm0 4a1 1 0 110-2 1 1 0 010 2zm0 4a1 1 0 110-2 1 1 0 010 2z"></path></svg><div class="notion-collection-column-title-body">tags</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-multi_select"><div class="notion-property-multi_select-item notion-item-brown">python</div><div class="notion-property-multi_select-item notion-item-orange">tech</div><div class="notion-property-multi_select-item notion-item-orange">regex</div><div class="notion-property-multi_select-item notion-item-gray">nfa</div><div class="notion-property-multi_select-item notion-item-orange">dfa</div><div class="notion-property-multi_select-item notion-item-purple">security</div></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 4.568a.5.5 0 00-.5-.5h-6a.5.5 0 00-.5.5v1.046a.5.5 0 00.5.5h6a.5.5 0 00.5-.5V4.568zM.5 1a.5.5 0 00-.5.5v1.045a.5.5 0 00.5.5h12a.5.5 0 00.5-.5V1.5a.5.5 0 00-.5-.5H.5zM0 8.682a.5.5 0 00.5.5h11a.5.5 0 00.5-.5V7.636a.5.5 0 00-.5-.5H.5a.5.5 0 00-.5.5v1.046zm0 3.068a.5.5 0 00.5.5h9a.5.5 0 00.5-.5v-1.045a.5.5 0 00-.5-.5h-9a.5.5 0 00-.5.5v1.045z"></path></svg><div class="notion-collection-column-title-body">summary</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-text"></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 13A6 6 0 107 1a6 6 0 000 12zM3.751 5.323A.2.2 0 013.909 5h6.182a.2.2 0 01.158.323L7.158 9.297a.2.2 0 01-.316 0L3.751 5.323z"></path></svg><div class="notion-collection-column-title-body">type</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-select"><div class="notion-property-select-item notion-item-purple">Post</div></span></div></div></div></div><div class="notion-table-of-contents notion-gray notion-block-71c5c2ad3a0042a5854d1ffd540fb85b"><a href="#16167b014e884180872922c343d81f2f" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:0">引</span></a><a href="#06a24e1d70ff4b4d8890c4411ad92c88" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:0">Evil Regex 大敌当前</span></a><a href="#11ab27b4d2ec4f7399a9aecafa750e00" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:0">知己知彼，百战不殆</span></a><a href="#1596c45ca40b4f4998f3be993530b2ee" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">NFA vs DFA</span></a><a href="#b0f1e34a5f0242bb83f7f49d56c2621f" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">Thompson NFA 构造 vs DFA</span></a><a href="#ddeb7f785eb14d7b868a6917822d6ab5" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">为什么主流编程语言这么慢？</span></a><a href="#6e320bb2c4334d31af6172db35ede111" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:0">正面对抗 Evil Regex</span></a><a href="#8a414c655d0842eb9a242a88266b28e7" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">pyre2</span></a><a href="#12c4a78bedf14dcf8397441db47e3f36" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">regex</span></a><a href="#8ef69d8b54184936a684009d1c35948e" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:0">总结</span></a></div><h3 class="notion-h notion-h2 notion-h-indent-0 notion-block-16167b014e884180872922c343d81f2f" data-id="16167b014e884180872922c343d81f2f"><span><div id="16167b014e884180872922c343d81f2f" class="notion-header-anchor"></div><a class="notion-hash-link" href="#16167b014e884180872922c343d81f2f" title="引"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">引</span></span></h3><div class="notion-text notion-block-64a4a303b845467c8de321306c3fee84">这里有一段看起来稀松平常、人畜无害的 Python 代码，你可以试着执行一下：</div><pre class="notion-code language-python"><code class="language-python"><span class="token keyword">import</span> re
<span class="token keyword">import</span> time


value <span class="token operator">=</span> <span class="token string">"aaaaaaaaaaaaaaaaaaaaaaaaaaaaabs"</span>
strange_regex <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">"(a+)+s"</span><span class="token punctuation">)</span>

start <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
re<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>strange_regex<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
end <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">print</span><span class="token punctuation">(</span>end <span class="token operator">-</span> start<span class="token punctuation">)</span></code></pre><div class="notion-text notion-block-6bb9397fa1ab4801b7edd5bff3e9243b">不知道大家执行了多久，在我开发机上使用 Python 3.6+（包括 3.10.x）<b>需要耗费20秒以上</b>，即使 CPU ——Apple M1 Pro 的性能已经相当强悍了。</div><div class="notion-text notion-block-e33e99798c1f48bd897156f2a344cbf3">可以试想一下，如果在生产环境服务的关键请求链路中存在这样正则匹配，加上不可控的用户输入，很容易落入“性能陷阱”，轻则拖慢系统，重则直接让服务暴露在 <a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://en.wikipedia.org/wiki/ReDoS">ReDoS</a> (Regual Expression Denial-of-Service) 的风险之下。</div><div class="notion-text notion-block-429048f3ea3c4f989258b2e1a3aa81c4">随手一搜，已经有不少相关的案例发生：<a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-23343">CVE-2021-23343</a> 、<a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-41817">CVE-2021-41817</a>。所以，它值得我们格外重视。</div><h3 class="notion-h notion-h2 notion-h-indent-0 notion-block-06a24e1d70ff4b4d8890c4411ad92c88" data-id="06a24e1d70ff4b4d8890c4411ad92c88"><span><div id="06a24e1d70ff4b4d8890c4411ad92c88" class="notion-header-anchor"></div><a class="notion-hash-link" href="#06a24e1d70ff4b4d8890c4411ad92c88" title="Evil Regex 大敌当前"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">Evil Regex 大敌当前</span></span></h3><div class="notion-text notion-block-421e347965f04238accb85b4748a20b0">先来看一些和上面例子类似的、典型的邪恶正则：</div><ul class="notion-list notion-list-disc notion-block-98d8301372354699a816e8fd5bc08002"><li><code class="notion-inline-code">(a+)+</code></li></ul><ul class="notion-list notion-list-disc notion-block-0d6cd58d075b49089d85ceaf2ab1753e"><li><code class="notion-inline-code">([a-zA-Z]+)*</code></li></ul><ul class="notion-list notion-list-disc notion-block-51804104983f4c3981f8d0f152a88f9f"><li><code class="notion-inline-code">(a|aa)+</code></li></ul><ul class="notion-list notion-list-disc notion-block-d0d2e591195a4ac8b863524a9b98eba7"><li><code class="notion-inline-code">(a|a?)+</code></li></ul><ul class="notion-list notion-list-disc notion-block-c6b2c4201dcd4463b918ba3275a4887b"><li><code class="notion-inline-code">(a|a)+$</code></li></ul><ul class="notion-list notion-list-disc notion-block-b4e5e7f0f44740ff8b09a30eb3ab254a"><li> <code class="notion-inline-code">(.*a){x} for x \&gt; 10</code></li></ul><div class="notion-text notion-block-95a16b9277c84bd788ffad18af9382a9">它们都有共同的一些特点：</div><ul class="notion-list notion-list-disc notion-block-eb56bd6f90c74deaaf58989c90b25b0a"><li>存在子表达重复——形如 <code class="notion-inline-code">()+</code> 、 <code class="notion-inline-code">()*</code></li></ul><ul class="notion-list notion-list-disc notion-block-0f99c854d6a74797b1fb0c53db1de6a8"><li>在重复的子表达中：</li><ul class="notion-list notion-list-disc notion-block-0f99c854d6a74797b1fb0c53db1de6a8"><li>存在重复项—— <code class="notion-inline-code">(a+)+</code></li><li>存在交替重复—— <code class="notion-inline-code">(a|aa)+</code></li></ul></ul><ul class="notion-list notion-list-disc notion-block-481496a757be470f9f6e511dc06659e9"><li>在重复的子表达的末尾，存在一个子表达式无法匹配的内容，例如 <code class="notion-inline-code">(a|a)+$</code></li></ul><div class="notion-text notion-block-a492ebc689144979995324686ba5ca7f">那么为什么这些重复会导致匹配速度如此之慢呢？我们要看看正则的具体实现思路。</div><h3 class="notion-h notion-h2 notion-h-indent-0 notion-block-11ab27b4d2ec4f7399a9aecafa750e00" data-id="11ab27b4d2ec4f7399a9aecafa750e00"><span><div id="11ab27b4d2ec4f7399a9aecafa750e00" class="notion-header-anchor"></div><a class="notion-hash-link" href="#11ab27b4d2ec4f7399a9aecafa750e00" title="知己知彼，百战不殆"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">知己知彼，百战不殆</span></span></h3><div class="notion-text notion-block-492dbeb1cfc1451b95d0a1dbecd70d7a">当前主流语言的正则实现机制都是构建<a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://en.wikipedia.org/wiki/Nondeterministic_finite_automaton"><b>非确定有限状态自动机(NFA)</b></a><b> </b>，相较于<a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://en.wikipedia.org/wiki/Deterministic_finite_automaton"><b>确定有限状态自动机(DFA)</b></a>，前者会使用<a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://en.wikipedia.org/wiki/Backtracking">回溯法(backtracking)</a>，这也是导致邪恶正则存在的根因。</div><h4 class="notion-h notion-h3 notion-h-indent-1 notion-block-1596c45ca40b4f4998f3be993530b2ee" data-id="1596c45ca40b4f4998f3be993530b2ee"><span><div id="1596c45ca40b4f4998f3be993530b2ee" class="notion-header-anchor"></div><a class="notion-hash-link" href="#1596c45ca40b4f4998f3be993530b2ee" title="NFA vs DFA"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">NFA vs DFA</span></span></h4><div class="notion-text notion-block-3f9b78a623b0451c9cf0799a903fdc0b">（该章节中的图例均来自<a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://swtch.com/~rsc/regexp/regexp1.html">这篇文章</a>，我在这里做了内容简化，建议有兴趣的同学阅读英文原文）</div><div class="notion-text notion-block-620943d008c0426da775e5a82b0f2f74">FA 有限自动机，又称 FSM 有限状态机，在当前的语境下，我们统一都是用 FA 来描述。这种计算模型比较常见，所以我们就着重关注 NFA 和 DFA 的对比。</div><div class="notion-text notion-block-36f538b5c08e41df94547097e1490efd">首先，来看一个简单的正则表达式—— <code class="notion-inline-code">a(bb)+a</code> ，它可以转换成以下两种表达：</div><div class="notion-row notion-block-8b914cd473c64b568ab10330ec59c60f"><div class="notion-column notion-block-9cbe557272fc42eb982c33bdfb7972bd" style="width:calc((100% - (1 * min(32px, 4vw))) * 0.5)"><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-64d3af5c94464206883ad1543abd6203"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:100%;max-width:100%;flex-direction:column;height:54px"><img style="object-fit:contain" src="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fe41cc1a4-ae04-422e-8a4d-22e77e03d496%2FUntitled.png?table=block&amp;id=64d3af5c-9446-4206-883a-d1543abd6203&amp;cache=v2" loading="lazy" alt="DFA" decoding="async"/><figcaption class="notion-asset-caption">DFA</figcaption></div></figure></div><div class="notion-spacer"></div><div class="notion-column notion-block-3a10ae26ed6b4fee9b000d4e03623deb" style="width:calc((100% - (1 * min(32px, 4vw))) * 0.5)"><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-6fdf1be8b201455488080f316c0cea35"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:100%;max-width:100%;flex-direction:column;height:54px"><img style="object-fit:contain" src="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F18765429-1c82-4046-9afe-21a3a68d505d%2FUntitled.png?table=block&amp;id=6fdf1be8-b201-4554-8808-0f316c0cea35&amp;cache=v2" loading="lazy" alt="NFA" decoding="async"/><figcaption class="notion-asset-caption">NFA</figcaption></div></figure></div><div class="notion-spacer"></div></div><div class="notion-text notion-block-351ce2ee5b03445fa5e21f10c9d4c8f5">上面两张图能够很清晰地表现出二者的不同：</div><ul class="notion-list notion-list-disc notion-block-0f74de50e44b48628c88eb34d668addd"><li>DFA 中，每一个状态在接收到输入时，下一个状态都是确定的。</li></ul><ul class="notion-list notion-list-disc notion-block-6db506c14054421eb3826a97952bf93c"><li>NFA 中，存在某些状态在接收到输入时，无法确定下一个状态：例如图中的 S2 接收到字符 b，S1 和 S3 都是可能的下一个状态。所以系统在分支选择时，需要进行猜测。</li></ul><div class="notion-text notion-block-1b2eff3ae49e4c19b23519afe1033bfd">理论上，每一条正则表达式都可以等同转换成一个 NFA 状态机，那么如果使用 NFA 进行匹配，如何处理猜测分支就很重要了。下面我们来看一个简单遍历猜测的例子。</div><div class="notion-text notion-block-61de96581b8649f9a63000513ca7458b">根据正则 <code class="notion-inline-code">abab|abbb</code> 我们可以建立如下的 NFA：</div><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-a81212ec0de24ed5befc71a01610d802"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:364px;max-width:100%;flex-direction:column"><img style="object-fit:contain" src="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F100299f6-ef9d-41f6-b77c-dfbcb1644614%2FUntitled.png?table=block&amp;id=a81212ec-0de2-4ed5-befc-71a01610d802&amp;cache=v2" loading="lazy" alt="notion image" decoding="async"/></div></figure><div class="notion-text notion-block-9d8ec084d55741759e4c296c58045065">模拟计算机匹配输入 <code class="notion-inline-code">abbb</code>，可以有如下两种路径：</div><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-e4c28ba34b134c6ca5a9a0d69c02ed8f"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:100%;max-width:100%;flex-direction:column;height:100%"><img style="object-fit:contain" src="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F2d01c07f-0cde-40f3-8ad1-837137c1d9d8%2FUntitled.png?table=block&amp;id=e4c28ba3-4b13-4c6c-a5a9-a0d69c02ed8f&amp;cache=v2" loading="lazy" alt="notion image" decoding="async"/></div></figure><div class="notion-text notion-block-0fd8ce7c02894191b05b1c13de3bf6d6">以 Step 0 开始的路径，在匹配到第三个字符时出错，此时不得不采用回溯，再次从一开始进行匹配，即 Step 4 → Step 8。</div><div class="notion-text notion-block-98ec072a50a04ad68c2e3b7317d2b355">通过这个回溯方法，我们来思考正则表达式 <span role="button" tabindex="0" class="notion-equation notion-equation-inline"><span></span></span> 与字符串 <span role="button" tabindex="0" class="notion-equation notion-equation-inline"><span></span></span> 匹配：</div><div class="notion-text notion-block-50124f3a5808418c8ce289482e7c3f29">如果每一次判断 <span role="button" tabindex="0" class="notion-equation notion-equation-inline"><span></span></span> 是否存在时，都会尝试匹配“存在”的情况，再匹配不存在的情况，而整个字符串长度为 <span role="button" tabindex="0" class="notion-equation notion-equation-inline"><span></span></span>，也就是时间复杂度为  <span role="button" tabindex="0" class="notion-equation notion-equation-inline"><span></span></span>。</div><div class="notion-text notion-block-d65ba5a0c9b140f9a94c6fd9c0987fce">当前主流的语言（Perl, PCRE, Python, Ruby等）采用了<b>递归</b>来实现深度优先回溯，相较于 <a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://en.wikipedia.org/wiki/Thompson%27s_construction">Thompson NFA</a>，最终实现的效果都是惊人的糟糕。</div><div class="notion-row notion-block-4088dc8fdb2b46e39e930be62fcd58b6"><div class="notion-column notion-block-cf952c80f58d42c494f54b20d578f2b2" style="width:calc((100% - (1 * min(32px, 4vw))) * 0.5)"><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-08040b98a5b94de2945d4247f370a6ec"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:301px;max-width:100%;flex-direction:column"><img style="object-fit:contain" src="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F62d6c97a-651f-4dae-9157-3711b51864ef%2FUntitled.png?table=block&amp;id=08040b98-a5b9-4de2-945d-4247f370a6ec&amp;cache=v2" loading="lazy" alt="notion image" decoding="async"/></div></figure></div><div class="notion-spacer"></div><div class="notion-column notion-block-98b4b7afbadd4ca487963dc17f121754" style="width:calc((100% - (1 * min(32px, 4vw))) * 0.5)"><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-46b7fb61de5e43cda2bb4539a1289ce4"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:302px;max-width:100%;flex-direction:column"><img style="object-fit:contain" src="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fc1b2f543-8d54-4deb-be08-868bc57b76b6%2FUntitled.png?table=block&amp;id=46b7fb61-de5e-43cd-a2bb-4539a1289ce4&amp;cache=v2" loading="lazy" alt="notion image" decoding="async"/></div></figure></div><div class="notion-spacer"></div></div><h4 class="notion-h notion-h3 notion-h-indent-1 notion-block-b0f1e34a5f0242bb83f7f49d56c2621f" data-id="b0f1e34a5f0242bb83f7f49d56c2621f"><span><div id="b0f1e34a5f0242bb83f7f49d56c2621f" class="notion-header-anchor"></div><a class="notion-hash-link" href="#b0f1e34a5f0242bb83f7f49d56c2621f" title="Thompson NFA 构造 vs DFA"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">Thompson NFA 构造 vs DFA</span></span></h4><div class="notion-text notion-block-afff615182dc435797079cc33b8aefd7">为什么使用了 Thompson NFA 构造出的正则匹配会快这么多呢？主要的原因是：通过划分多个子表达式，合并相同的内容，从而减少了回溯次数。</div><div class="notion-text notion-block-6cdd0a3f42c640deb1ff811859b6d99d"><span role="button" tabindex="0" class="notion-equation notion-equation-inline"><span></span></span> 可以转换成 Thompson 构造，图示：</div><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-bd7f13b291b6492a8f8a5d6ca6538309"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:100%;max-width:100%;flex-direction:column;height:100%"><img style="object-fit:contain" src="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F72c2591d-be7f-4f93-b93b-30904f2f6b6c%2FUntitled.png?table=block&amp;id=bd7f13b2-91b6-492a-8f8a-5d6ca6538309&amp;cache=v2" loading="lazy" alt="notion image" decoding="async"/></div></figure><div class="notion-text notion-block-4adb904d36044ce89832ec563f19787d">稍微做一些解释：</div><ul class="notion-list notion-list-disc notion-block-294f0999d9db457992ec78d4fcf9fe15"><li>q 是开始，f 是结束，白圈是状态，连线是流转</li></ul><ul class="notion-list notion-list-disc notion-block-c912429971304c0ca8c14ebace72871d"><li>ε 代表着无输入</li></ul><div class="notion-text notion-block-9e2bbaa903264df6abc8ed9da0294974">通过以上的结构，Thompson NFA 匹配的时间复杂度为  <span role="button" tabindex="0" class="notion-equation notion-equation-inline"><span></span></span>，空间复杂度为<span role="button" tabindex="0" class="notion-equation notion-equation-inline"><span></span></span>。</div><div class="notion-blank notion-block-260ec4a9ed5046938614b4ab45ae7d56"> </div><div class="notion-text notion-block-bd241b5ae0bf4d23b71a7cdd8c3e8648">而 DFA 更容易理解，因为它是典型的空间换时间。</div><div class="notion-row notion-block-8b5cf75e5a9943e0899a0d186eb3497b"><div class="notion-column notion-block-acc05c036d394d77997d269693990926" style="width:calc((100% - (1 * min(32px, 4vw))) * 0.5)"><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-dd9acf4affef4e29a77df33a9f6ee061"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:424px;max-width:100%;flex-direction:column"><img style="object-fit:contain" src="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F7febb121-726d-47a6-80c5-9351397addd6%2FUntitled.png?table=block&amp;id=dd9acf4a-ffef-4e29-a77d-f33a9f6ee061&amp;cache=v2" loading="lazy" alt="NFA" decoding="async"/><figcaption class="notion-asset-caption">NFA</figcaption></div></figure></div><div class="notion-spacer"></div><div class="notion-column notion-block-c621a865b06447f4b2fd833d81b688d3" style="width:calc((100% - (1 * min(32px, 4vw))) * 0.5)"><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-d8d60f096b0f4e069dc8b2409811f5ac"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:496px;max-width:100%;flex-direction:column"><img style="object-fit:contain" src="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F903b942f-49b7-4953-923c-55fb6d520bd5%2FUntitled.png?table=block&amp;id=d8d60f09-6b0f-4e06-9dc8-b2409811f5ac&amp;cache=v2" loading="lazy" alt="DFA" decoding="async"/><figcaption class="notion-asset-caption">DFA</figcaption></div></figure></div><div class="notion-spacer"></div></div><div class="notion-text notion-block-323df8cbfe25433eba3d392eb38f2e8b">可以看到每一个 DFA 的状态都等同于某一时刻 NFA 状态列表，所以 DFA 在最坏情况下，空间复杂度 <span role="button" tabindex="0" class="notion-equation notion-equation-inline"><span></span></span>，也会在构建阶段消耗更多时间。同时没有了回溯，整个匹配时间就是字符串长度，复杂度为 <span role="button" tabindex="0" class="notion-equation notion-equation-inline"><span></span></span>。为了保证 DFA 的空间消耗，一般都会额外对构建出的 <a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://en.wikipedia.org/wiki/DFA_minimization">DFA 做简化</a>，减少图的大小。</div><h4 class="notion-h notion-h3 notion-h-indent-1 notion-block-ddeb7f785eb14d7b868a6917822d6ab5" data-id="ddeb7f785eb14d7b868a6917822d6ab5"><span><div id="ddeb7f785eb14d7b868a6917822d6ab5" class="notion-header-anchor"></div><a class="notion-hash-link" href="#ddeb7f785eb14d7b868a6917822d6ab5" title="为什么主流编程语言这么慢？"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">为什么主流编程语言这么慢？</span></span></h4><div class="notion-text notion-block-556cfad12c9a4e90bc6a5aa982a85b89">说来有趣，Thompson NFA 构造法应该是编译原理的基础概念，DFA 方法从概念上也是比较简单，为什么当前的主流语言没有采用，反而采用了一个带有回溯的、效果远逊的版本？</div><div class="notion-text notion-block-4b68cbc5f2e14f5bbff6d29e174812aa">经过一番冲浪搜索，简单概括我找到的结论：<b>历史的局限</b>。</div><blockquote class="notion-quote notion-block-f0186a0b42784296a704da19665a61ff"><em>While writing the text editor sam [6] in the early 1980s, Rob Pike wrote a new regular expression implementation, which Dave Presotto extracted into a library that appeared in the Eighth Edition. Pike&#x27;s implementation incorporated submatch tracking into an efficient NFA simulation but, like the rest of the Eighth Edition source, was not widely distributed. Pike himself did not realize that his technique was anything new. </em><span class="notion-red"><em>Henry Spencer reimplemented the Eighth Edition library interface from scratch, but using backtracking, and released his implementation into the public domain.</em></span><em> </em><span class="notion-red"><em>It became very widely used, eventually serving as the basis for the slow regular expression implementations mentioned earlier: Perl, PCRE, Python, and so on.</em></span></blockquote><div class="notion-text notion-block-7f091f2eb6e74c62bbd877d83c1d92a8">可以从上文得知，正则匹配的实现首先需要兼容原来的使用方式，而当时开发者并未了解 NFA 模拟方法，而是自己从零实现了一个回溯方法，并且被广泛地传播开了。即使这个实现很慢，但是由于已经被大规模采用，且能满足大多数的使用场景，各个主流语言也没有替换它。</div><h3 class="notion-h notion-h2 notion-h-indent-0 notion-block-6e320bb2c4334d31af6172db35ede111" data-id="6e320bb2c4334d31af6172db35ede111"><span><div id="6e320bb2c4334d31af6172db35ede111" class="notion-header-anchor"></div><a class="notion-hash-link" href="#6e320bb2c4334d31af6172db35ede111" title="正面对抗 Evil Regex"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">正面对抗 Evil Regex</span></span></h3><div class="notion-text notion-block-ed1e3a4cebbf4d4689dc02e9e576134b">既然当前主流语言的实现肯定会存在性能陷阱，我们是否有办法检测邪恶正则呢？答案是肯定的。</div><div class="notion-text notion-block-787a7eab4c8143eea147b25f34efb1c4">在社区里有不少相关项目，例如：<a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/doyensec/regexploit">regexploit</a> 、<a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/olivo/redos-detector">redos-detector</a> 、<a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/davisjam/vuln-regex-detector">vuln-regex-detector</a> 等，它们都可以扫描出有风险的正则，就像这样：</div><pre class="notion-code language-shell"><code class="language-shell">$ echo <span class="token string">"(a+)+s"</span> <span class="token operator">|</span> regexploit
<span class="token literal-property property">Pattern</span><span class="token operator">:</span> <span class="token punctuation">(</span>a<span class="token operator">+</span><span class="token punctuation">)</span><span class="token operator">+</span>s
<span class="token operator">--</span><span class="token operator">-</span>
<span class="token function">Redos</span><span class="token punctuation">(</span>starriness<span class="token operator">=</span><span class="token number">11</span><span class="token punctuation">,</span> prefix_sequence<span class="token operator">=</span><span class="token constant">SEQ</span><span class="token punctuation">{</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span> redos_sequence<span class="token operator">=</span><span class="token constant">SEQ</span><span class="token punctuation">{</span> <span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token operator">+</span><span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token operator">+</span><span class="token punctuation">}</span> <span class="token punctuation">[</span>s<span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> repeated_character<span class="token operator">=</span><span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">,</span> killer<span class="token operator">=</span>None<span class="token punctuation">)</span>
Worst<span class="token operator">-</span><span class="token keyword">case</span> <span class="token literal-property property">complexity</span><span class="token operator">:</span> <span class="token number">11</span> <span class="token function">⭐⭐⭐⭐⭐⭐⭐⭐⭐⭐</span> <span class="token punctuation">(</span>exponential<span class="token punctuation">)</span>
Repeated character<span class="token operator">:</span> <span class="token punctuation">[</span>a<span class="token punctuation">]</span>
<span class="token literal-property property">Example</span><span class="token operator">:</span> <span class="token string">'a'</span> <span class="token operator">*</span> <span class="token number">3456</span></code></pre><div class="notion-text notion-block-1e6c9924ca8148c2adbe7335b9bf6c62">但是它们局限于静态的正则扫描，对于我们开发者而言，静态防御并不能完全清除风险。更好的思路是直接替换语言的默认实现。以 Python 举例，我们也找到了一些替换库：</div><h4 class="notion-h notion-h3 notion-h-indent-1 notion-block-8a414c655d0842eb9a242a88266b28e7" data-id="8a414c655d0842eb9a242a88266b28e7"><span><div id="8a414c655d0842eb9a242a88266b28e7" class="notion-header-anchor"></div><a class="notion-hash-link" href="#8a414c655d0842eb9a242a88266b28e7" title="pyre2"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">pyre2</span></span></h4><pre class="notion-code language-shell"><code class="language-shell">pip install pyre2</code></pre><div class="notion-text notion-block-efda542abaf5447f92a67e6709475006">来自 <a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/google/re2/">Google re2</a> 模块的 Python 封装 <a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/facebook/pyre2">pyre2</a>，使用了 DFA 的构造方式。可以替换原生 <code class="notion-inline-code">re</code> 模块，大多数场景都可以得到速度的稳步提升，不存在性能陷阱。</div><div class="notion-text notion-block-289140745a58440b96faea1ec82f6395">但对于 DFA 模拟来说，都是自古华山一条道，比如 <code class="notion-inline-code">(?P=&lt;name&gt;)</code> 这样的属于 <code class="notion-inline-code">backreference</code> 的捕获组语法就无法支持了。</div><h4 class="notion-h notion-h3 notion-h-indent-1 notion-block-12c4a78bedf14dcf8397441db47e3f36" data-id="12c4a78bedf14dcf8397441db47e3f36"><span><div id="12c4a78bedf14dcf8397441db47e3f36" class="notion-header-anchor"></div><a class="notion-hash-link" href="#12c4a78bedf14dcf8397441db47e3f36" title="regex"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">regex</span></span></h4><pre class="notion-code language-shell"><code class="language-shell">pip install regex</code></pre><div class="notion-text notion-block-1f35e9047a1c4d47a37d67ce17ed1e04"><a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/mrabarnett/mrab-regex">regex</a> 模块<a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/mrabarnett/mrab-regex/issues/136">并未使用 DFA 构造</a>，在完全兼容 <code class="notion-inline-code">re</code> 模块的同时，支持了一些<a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/mrabarnett/mrab-regex#old-vs-new-behaviour">新特性</a>。由于实现方案的不同，也没有很明确的文档阐述，尚不清楚它具体的算法（<em>有待进一步从代码层面解读</em>），但是从效果上，它的性能要<a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/mrabarnett/mrab-regex/issues/320">略好于原生模块</a>，仅从文中里例子测试看来，也规避了性能陷阱，可以谨慎采用。</div><h3 class="notion-h notion-h2 notion-h-indent-0 notion-block-8ef69d8b54184936a684009d1c35948e" data-id="8ef69d8b54184936a684009d1c35948e"><span><div id="8ef69d8b54184936a684009d1c35948e" class="notion-header-anchor"></div><a class="notion-hash-link" href="#8ef69d8b54184936a684009d1c35948e" title="总结"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">总结</span></span></h3><ul class="notion-list notion-list-disc notion-block-4c31a30c7e0e4ba19ea2a53dafd478c5"><li>和很多其他场景一样，程序需要时刻警惕用户的输入，任何不经过校验的内容都可能将程序拖垮。</li></ul><ul class="notion-list notion-list-disc notion-block-18e7ee68eda94a45b67b4c11dffeb5a7"><li>理论和实际存在各种各样的鸿沟，在面临现实场景时，理想的想法落地总是困难的。</li></ul><ul class="notion-list notion-list-disc notion-block-a5f4f5f11c0843a7b1ab7a3cbee60843"><li>原生不代表就是最优秀的。有特殊需求时可以使用社区方案进行替换。</li></ul><div class="notion-blank notion-block-3672e91b6a7c4125b6980f6f543b1536"> </div><div class="notion-text notion-block-b38fb92df2184f5096ca8ac1e6c65b00">参考：</div><ul class="notion-list notion-list-disc notion-block-2d5c165011ab41b7950ff02c9a393e88"><li><a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://swtch.com/~rsc/regexp/regexp1.html">https://swtch.com/~rsc/regexp/regexp1.html</a></li></ul><ul class="notion-list notion-list-disc notion-block-67c19c430a1c49d1ac8563f6f162c2ef"><li><a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://owasp.org/www-community/attacks/Regular_expression_Denial_of_Service_-_ReDoS">https://owasp.org/www-community/attacks/Regular_expression_Denial_of_Service_-_ReDoS</a></li></ul><ul class="notion-list notion-list-disc notion-block-b05ea5bd8ae540baa38b654a5b723fac"><li><a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://shivankaul.com/blog/nfa-dfa-and-regexes">https://shivankaul.com/blog/nfa-dfa-and-regexes</a></li></ul><ul class="notion-list notion-list-disc notion-block-0049a5a2d6d54dae964b80639ecb4144"><li><a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://arstechnica.com/civis/viewtopic.php?f=20&amp;t=1195549">https://arstechnica.com/civis/viewtopic.php?f=20&amp;t=1195549</a></li></ul><ul class="notion-list notion-list-disc notion-block-237dd0aa005e4059a61b62f30bed7dc0"><li><a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://news.ycombinator.com/item?id=466957">https://news.ycombinator.com/item?id=466957</a></li></ul><ul class="notion-list notion-list-disc notion-block-9da5e5cb8a684f21bd2f67051397c140"><li><a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://medium.com/swlh/visualizing-thompsons-construction-algorithm-for-nfas-step-by-step-f92ef378581b">https://medium.com/swlh/visualizing-thompsons-construction-algorithm-for-nfas-step-by-step-f92ef378581b</a></li></ul><div class="notion-blank notion-block-3f8d2e743c47466294fb92ded6f58558"> </div></main></div></article><div class="flex justify-between font-medium text-gray-500 dark:text-gray-400"><a><button class="mt-2 cursor-pointer hover:text-black dark:hover:text-gray-100">← <!-- -->返回</button></a><a><button class="mt-2 cursor-pointer hover:text-black dark:hover:text-gray-100">↑ <!-- -->回到顶部</button></a></div><div></div></main><div class="mt-6 flex-shrink-0 m-auto w-full text-gray-500 dark:text-gray-400 transition-all max-w-2xl px-4"><hr class="border-gray-200 dark:border-gray-600"/><div class="my-4 text-sm leading-6"><div class="flex align-baseline justify-between flex-wrap"><p>© <!-- -->bluesyu<!-- --> <!-- -->2019 - 2022</p><a href="https://vercel.com?utm_source=Craigary&amp;utm_campaign=oss" target="_blank" rel="noreferrer" aria-label="Vercel"><svg width="135" height="28" viewBox="0 0 135 28" fill="none" xmlns="http://www.w3.org/2000/svg" class="inline-block"><g clip-path="url(#clip0)"><path d="M129.818 0H5.09091C2.27928 0 0 2.27928 0 5.09091V22.9091C0 25.7207 2.27928 28 5.09091 28H129.818C132.63 28 134.909 25.7207 134.909 22.9091V5.09091C134.909 2.27928 132.63 0 129.818 0Z" fill="black"></path><path d="M38.4601 9.68997V16.8639H39.355V14.3036H41.1597C42.507 14.3036 43.4665 13.354 43.4665 12.0117C43.4665 10.6445 42.5268 9.68997 41.1696 9.68997H38.4601ZM39.355 10.4854H40.9359C41.975 10.4854 42.5467 11.0273 42.5467 12.0117C42.5467 12.9613 41.9551 13.5081 40.9359 13.5081H39.355V10.4854ZM46.6734 16.9584C48.1996 16.9584 49.1442 15.9044 49.1442 14.1843C49.1442 12.4591 48.1996 11.4101 46.6734 11.4101C45.1471 11.4101 44.2025 12.4591 44.2025 14.1843C44.2025 15.9044 45.1471 16.9584 46.6734 16.9584ZM46.6734 16.1878C45.6591 16.1878 45.0874 15.452 45.0874 14.1843C45.0874 12.9116 45.6591 12.1807 46.6734 12.1807C47.6875 12.1807 48.2593 12.9116 48.2593 14.1843C48.2593 15.452 47.6875 16.1878 46.6734 16.1878ZM56.8255 11.5046H55.9654L54.9115 15.7901H54.8319L53.6338 11.5046H52.8135L51.6153 15.7901H51.5358L50.4818 11.5046H49.6167L51.1182 16.8639H51.9832L53.1764 12.7177H53.2559L54.4541 16.8639H55.3241L56.8255 11.5046ZM59.7043 12.1658C60.5544 12.1658 61.1212 12.7922 61.1411 13.7418H58.1879C58.2526 12.7922 58.8492 12.1658 59.7043 12.1658ZM61.1162 15.4769C60.8925 15.9492 60.4252 16.2027 59.7341 16.2027C58.8243 16.2027 58.2327 15.5315 58.1879 14.4726V14.4328H62.0409V14.1047C62.0409 12.4392 61.161 11.4101 59.7142 11.4101C58.2427 11.4101 57.298 12.5038 57.298 14.1892C57.298 15.8845 58.2277 16.9584 59.7142 16.9584C60.8875 16.9584 61.7227 16.3916 61.9714 15.4769H61.1162ZM63.1796 16.8639H64.0346V13.5429C64.0346 12.7873 64.6264 12.2404 65.4416 12.2404C65.6109 12.2404 65.9189 12.2702 65.9889 12.2901V11.435C65.8794 11.42 65.6999 11.4101 65.5612 11.4101C64.8504 11.4101 64.2338 11.778 64.0747 12.3H63.9951V11.5046H63.1796V16.8639ZM68.8423 12.1658C69.6925 12.1658 70.2595 12.7922 70.2792 13.7418H67.3259C67.3908 12.7922 67.9877 12.1658 68.8423 12.1658ZM70.2544 15.4769C70.0304 15.9492 69.5633 16.2027 68.8722 16.2027C67.9622 16.2027 67.371 15.5315 67.3259 14.4726V14.4328H71.179V14.1047C71.179 12.4392 70.2989 11.4101 68.8525 11.4101C67.3806 11.4101 66.4362 12.5038 66.4362 14.1892C66.4362 15.8845 67.3659 16.9584 68.8525 16.9584C70.0259 16.9584 70.8609 16.3916 71.1097 15.4769H70.2544ZM74.3017 16.9584C75.0424 16.9584 75.6788 16.6055 76.0167 16.0088H76.0962V16.8639H76.9114V9.37675H76.0568V12.3497H75.9817C75.6788 11.7631 75.0475 11.4101 74.3017 11.4101C72.9392 11.4101 72.0496 12.5038 72.0496 14.1843C72.0496 15.8696 72.929 16.9584 74.3017 16.9584ZM74.5002 12.1807C75.47 12.1807 76.0765 12.9563 76.0765 14.1843C76.0765 15.4222 75.4745 16.1878 74.5002 16.1878C73.5209 16.1878 72.9341 15.4371 72.9341 14.1843C72.9341 12.9364 73.5259 12.1807 74.5002 12.1807ZM83.7033 16.9584C85.0607 16.9584 85.9503 15.8597 85.9503 14.1843C85.9503 12.4989 85.0651 11.4101 83.7033 11.4101C82.9677 11.4101 82.316 11.773 82.0227 12.3497H81.9431V9.37675H81.0879V16.8639H81.9037V16.0088H81.9832C82.3211 16.6055 82.9575 16.9584 83.7033 16.9584ZM83.5041 12.1807C84.4835 12.1807 85.0651 12.9314 85.0651 14.1843C85.0651 15.4371 84.4835 16.1878 83.5041 16.1878C82.5299 16.1878 81.9234 15.4222 81.9234 14.1843C81.9234 12.9464 82.5299 12.1807 83.5041 12.1807ZM87.3478 18.8029C88.2972 18.8029 88.7249 18.435 89.1818 17.1921L91.2754 11.5046H90.3654L88.8986 15.9144H88.819L87.3478 11.5046H86.4231L88.4067 16.8689L88.3068 17.1871C88.0834 17.8334 87.8149 18.0671 87.3229 18.0671C87.2033 18.0671 87.069 18.0621 86.9647 18.0422V18.773C87.0843 18.7929 87.2332 18.8029 87.3478 18.8029ZM98.4148 16.8639L100.895 9.68997H99.5284L97.7383 15.3675H97.6543L95.8496 9.68997H94.4324L96.9384 16.8639H98.4148ZM103.516 12.295C104.257 12.295 104.744 12.8121 104.769 13.6175H102.208C102.263 12.822 102.78 12.295 103.516 12.295ZM104.778 15.3675C104.6 15.7702 104.177 15.9939 103.565 15.9939C102.755 15.9939 102.233 15.4272 102.203 14.5223V14.4577H106.001V14.06C106.001 12.3447 105.072 11.3156 103.521 11.3156C101.945 11.3156 100.965 12.4144 100.965 14.1644C100.965 15.9144 101.93 16.9733 103.53 16.9733C104.813 16.9733 105.723 16.3568 105.947 15.3675H104.778ZM107.036 16.8639H108.269V13.7219C108.269 12.9613 108.826 12.4641 109.626 12.4641C109.835 12.4641 110.163 12.4989 110.257 12.5337V11.3902C110.143 11.3555 109.924 11.3355 109.745 11.3355C109.045 11.3355 108.458 11.7333 108.308 12.2702H108.224V11.425H107.036V16.8639ZM115.627 13.2546C115.498 12.1111 114.652 11.3156 113.255 11.3156C111.62 11.3156 110.66 12.3647 110.66 14.1296C110.66 15.9193 111.625 16.9733 113.26 16.9733C114.638 16.9733 115.493 16.2077 115.627 15.0692H114.454C114.324 15.636 113.897 15.9392 113.255 15.9392C112.415 15.9392 111.908 15.273 111.908 14.1296C111.908 13.001 112.41 12.3497 113.255 12.3497C113.932 12.3497 114.339 12.7276 114.454 13.2546H115.627ZM118.883 12.295C119.624 12.295 120.112 12.8121 120.136 13.6175H117.576C117.63 12.822 118.148 12.295 118.883 12.295ZM120.147 15.3675C119.967 15.7702 119.545 15.9939 118.933 15.9939C118.123 15.9939 117.601 15.4272 117.571 14.5223V14.4577H121.369V14.06C121.369 12.3447 120.439 11.3156 118.888 11.3156C117.312 11.3156 116.333 12.4144 116.333 14.1644C116.333 15.9144 117.298 16.9733 118.899 16.9733C120.181 16.9733 121.091 16.3568 121.314 15.3675H120.147ZM122.453 16.8639H123.686V9.32202H122.453V16.8639Z" fill="white"></path><path d="M14.8431 8.27271L20.7772 18.4545H8.90918L14.8431 8.27271Z" fill="white"></path><path d="M27.6819 0V28" stroke="#5E5E5E" stroke-width="0.636364"></path></g><defs><clipPath id="clip0"><rect width="134.909" height="28" fill="white"></rect></clipPath></defs></svg></a></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"id":"9d18b689-cdc2-4d3f-81da-a690c700caee","date":{"start_date":"2022-03-01"},"type":["Post"],"slug":"redos-and-why","tags":["python","tech","regex","nfa","dfa","security"],"title":"ReDoS：正则也许会让你的系统更脆弱","status":["Published"],"createdTime":"Tue Oct 18 2022 02:11:18 GMT+0000 (Coordinated Universal Time)","fullWidth":false},"blockMap":{"block":{"9d18b689-cdc2-4d3f-81da-a690c700caee":{"role":"reader","value":{"id":"9d18b689-cdc2-4d3f-81da-a690c700caee","version":18,"type":"page","properties":{"NX\\Q":[["‣",[["d",{"type":"date","start_date":"2022-03-01"}]]]],"`gQ~":[["Post"]],"d]hq":[["redos-and-why"]],"sD^m":[["python,tech,regex,nfa,dfa,security"]],"title":[["ReDoS：正则也许会让你的系统更脆弱"]],"26ff3130-393a-45ac-92b5-7490d9b87515":[["post"]],"29e679ed-47a3-46c2-9eb4-9070171591b8":[["Yes"]],"b6d830ff-ce1d-4e76-a484-f0fc3f148c52":[["Yes"]],"f211bdc0-ee00-4186-9a7d-f68c055ec2ee":[["Published"]]},"content":["71c5c2ad-3a00-42a5-854d-1ffd540fb85b","16167b01-4e88-4180-8729-22c343d81f2f","64a4a303-b845-467c-8de3-21306c3fee84","911d0006-d6ae-4742-aad4-38e2ca7278b8","6bb9397f-a1ab-4801-b7ed-d5bff3e9243b","e33e9979-8c1f-48bd-8971-56f2a344cbf3","429048f3-ea3c-4f98-9258-b2e1a3aa81c4","06a24e1d-70ff-4b4d-8890-c4411ad92c88","421e3479-65f0-4238-accb-85b4748a20b0","98d83013-7235-4699-a816-e8fd5bc08002","0d6cd58d-075b-4908-9d85-ceaf2ab1753e","51804104-983f-4c39-81f8-d0f152a88f9f","d0d2e591-195a-4ac8-b863-524a9b98eba7","c6b2c420-1dcd-4463-b918-ba3275a4887b","b4e5e7f0-f447-40ff-8b09-a30eb3ab254a","95a16b92-77c8-4bd7-88ff-ad18af9382a9","eb56bd6f-90c7-4dea-af58-989c90b25b0a","0f99c854-d6a7-4797-b1fb-0c53db1de6a8","481496a7-57be-470f-9f6e-511dc06659e9","a492ebc6-8914-4979-9953-24686ba5ca7f","11ab27b4-d2ec-4f73-99a9-aecafa750e00","492dbeb1-cfc1-451b-95d0-a1dbecd70d7a","1596c45c-a40b-4f49-98f3-be993530b2ee","3f9b78a6-23b0-451c-9cf0-799a903fdc0b","620943d0-08c0-426d-a775-e5a82b0f2f74","36f538b5-c08e-41df-9454-7097e1490efd","8b914cd4-73c6-4b56-8ab1-0330ec59c60f","351ce2ee-5b03-445f-a5e2-1f10c9d4c8f5","0f74de50-e44b-4862-8c88-eb34d668addd","6db506c1-4054-421e-b382-6a97952bf93c","1b2eff3a-e49e-4c19-b235-19afe1033bfd","61de9658-1b86-49f9-a630-00513ca7458b","a81212ec-0de2-4ed5-befc-71a01610d802","9d8ec084-d557-4175-9e4c-296c58045065","e4c28ba3-4b13-4c6c-a5a9-a0d69c02ed8f","0fd8ce7c-0289-4191-b05b-1c13de3bf6d6","98ec072a-50a0-4ad6-8c2e-3b7317d2b355","50124f3a-5808-418c-8ce2-89482e7c3f29","d65ba5a0-c9b1-40f9-a94c-6fd9c0987fce","4088dc8f-db2b-46e3-9e93-0be62fcd58b6","b0f1e34a-5f02-42bb-83f7-f49d56c2621f","afff6151-82dc-4357-9707-9cc33b8aefd7","6cdd0a3f-42c6-40de-b1ff-811859b6d99d","bd7f13b2-91b6-492a-8f8a-5d6ca6538309","4adb904d-3604-4ce8-9832-ec563f19787d","294f0999-d9db-4579-92ec-78d4fcf9fe15","c9124299-7130-4c0c-a8c1-4ebace72871d","9e2bbaa9-0326-4df6-abc8-ed9da0294974","260ec4a9-ed50-4693-8614-b4ab45ae7d56","bd241b5a-e0bf-4d23-b71a-7cdd8c3e8648","8b5cf75e-5a99-43e0-899a-0d186eb3497b","323df8cb-fe25-433e-ba3d-392eb38f2e8b","ddeb7f78-5eb1-4d7b-868a-6917822d6ab5","556cfad1-2c9a-4e90-bc6a-5aa982a85b89","4b68cbc5-f2e1-4f5b-bff6-d29e174812aa","f0186a0b-4278-4296-a704-da19665a61ff","7f091f2e-b6e7-4c62-bbd8-77d83c1d92a8","6e320bb2-c433-4d31-af61-72db35ede111","ed1e3a4c-ebbf-4d46-89dc-02e9e576134b","787a7eab-4c81-43ee-a147-b25f34efb1c4","0d791d52-7a18-417f-97d7-773e638b0b5f","1e6c9924-ca81-48c2-adbe-7335b9bf6c62","8a414c65-5d08-42eb-9a24-2a88266b28e7","82dced55-2aec-41d0-850f-be70b02d6d72","efda542a-baf5-447f-92a6-7e6709475006","28914074-5a58-440b-96fa-ea1ec82f6395","12c4a78b-edf1-4dcf-8397-441db47e3f36","3fd5ce84-2b67-4fb5-a93a-1563fd770e90","1f35e904-7a1c-4d47-a37d-67ce17ed1e04","8ef69d8b-5418-4936-a684-009d1c35948e","4c31a30c-7e0e-4ba1-9ea2-a53dafd478c5","18e7ee68-eda9-4a45-b67b-4c11dffeb5a7","a5f4f5f1-1c08-43a7-b1ab-7a3cbee60843","3672e91b-6a7c-4125-b698-0f6f543b1536","b38fb92d-f218-4f50-96ca-8ac1e6c65b00","2d5c1650-11ab-41b7-950f-f02c9a393e88","67c19c43-0a1c-49d1-ac85-63f6f162c2ef","b05ea5bd-8ae5-40ba-a38b-654a5b723fac","0049a5a2-d6d5-4dae-964b-80639ecb4144","237dd0aa-005e-4059-a61b-62f30bed7dc0","9da5e5cb-8a68-4f21-bd2f-67051397c140","3f8d2e74-3c47-4662-94fb-92ded6f58558"],"format":{"page_icon":"😈","page_cover":"https://images.unsplash.com/photo-1508935620299-047e0e35fbe3?ixlib=rb-1.2.1\u0026q=85\u0026fm=jpg\u0026crop=entropy\u0026cs=srgb","copied_from_pointer":{"id":"652406ab-d410-41e4-afa4-97957b070d0e","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"page_cover_position":0.5},"created_time":1666059078026,"last_edited_by":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_time":1666059600000,"parent_id":"e34bec60-9b02-4ad8-aaf8-83369409cc9f","parent_table":"collection","alive":true,"copied_from":"652406ab-d410-41e4-afa4-97957b070d0e","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"a6089909-2d0d-43ef-af93-5e041712e826":{"role":"reader","value":{"id":"a6089909-2d0d-43ef-af93-5e041712e826","version":110,"type":"collection_view_page","view_ids":["065b98d2-d3b4-4dab-8b96-4eb118a3f311"],"collection_id":"e34bec60-9b02-4ad8-aaf8-83369409cc9f","format":{"block_locked":false,"block_locked_by":"2c0e0b01-f59e-4e03-b7b6-7d706eecada3","collection_pointer":{"id":"e34bec60-9b02-4ad8-aaf8-83369409cc9f","table":"collection","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"copied_from_pointer":{"id":"adc3552c-fc73-442a-b504-8d4b1eb0079a","table":"block","spaceId":"ac4cb96d-c8f8-4040-9bb2-868d9fc7f526"}},"permissions":[{"role":"editor","type":"user_permission","user_id":"f594524b-0941-4aea-99a2-9b9304033287"},{"role":"reader","type":"public_permission","added_timestamp":1666006306008}],"created_time":1665993658476,"last_edited_time":1666059762118,"parent_id":"b0a64676-90b9-4734-9c63-2d704ee573b6","parent_table":"space","alive":true,"copied_from":"adc3552c-fc73-442a-b504-8d4b1eb0079a","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"71c5c2ad-3a00-42a5-854d-1ffd540fb85b":{"role":"reader","value":{"id":"71c5c2ad-3a00-42a5-854d-1ffd540fb85b","version":1,"type":"table_of_contents","format":{"block_color":"gray","copied_from_pointer":{"id":"dd7eca0b-1d8e-4155-85ab-18307901f01f","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078023,"last_edited_by":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_time":1666059078023,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"dd7eca0b-1d8e-4155-85ab-18307901f01f","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"16167b01-4e88-4180-8729-22c343d81f2f":{"role":"reader","value":{"id":"16167b01-4e88-4180-8729-22c343d81f2f","version":1,"type":"sub_header","properties":{"title":[["引"]]},"format":{"copied_from_pointer":{"id":"8e10ba1f-c141-4080-8863-51ff7c2d97a4","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078022,"last_edited_time":1666059078022,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"8e10ba1f-c141-4080-8863-51ff7c2d97a4","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"64a4a303-b845-467c-8de3-21306c3fee84":{"role":"reader","value":{"id":"64a4a303-b845-467c-8de3-21306c3fee84","version":1,"type":"text","properties":{"title":[["这里有一段看起来稀松平常、人畜无害的 Python 代码，你可以试着执行一下："]]},"format":{"copied_from_pointer":{"id":"8031381f-26bb-4cc3-826d-07c7ab0b5cb7","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078022,"last_edited_time":1666059078022,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"8031381f-26bb-4cc3-826d-07c7ab0b5cb7","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"911d0006-d6ae-4742-aad4-38e2ca7278b8":{"role":"reader","value":{"id":"911d0006-d6ae-4742-aad4-38e2ca7278b8","version":1,"type":"code","properties":{"title":[["import re\nimport time\n\n\nvalue = \"aaaaaaaaaaaaaaaaaaaaaaaaaaaaabs\"\nstrange_regex = re.compile(\"(a+)+s\")\n\nstart = time.time()\nre.match(strange_regex, value)\nend = time.time()\n\nprint(end - start)"]],"language":[["Python"]]},"format":{"code_wrap":true,"copied_from_pointer":{"id":"26963e9b-9d01-4e1a-bec2-1c8dae3a2656","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078020,"last_edited_time":1666059078020,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"26963e9b-9d01-4e1a-bec2-1c8dae3a2656","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"6bb9397f-a1ab-4801-b7ed-d5bff3e9243b":{"role":"reader","value":{"id":"6bb9397f-a1ab-4801-b7ed-d5bff3e9243b","version":1,"type":"text","properties":{"title":[["不知道大家执行了多久，在我开发机上使用 Python 3.6+（包括 3.10.x）"],["需要耗费20秒以上",[["b"]]],["，即使 CPU ——Apple M1 Pro 的性能已经相当强悍了。"]]},"format":{"copied_from_pointer":{"id":"e9b3629a-3a2b-45a6-8d3e-d9d6a7307773","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078024,"last_edited_time":1666059078024,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"e9b3629a-3a2b-45a6-8d3e-d9d6a7307773","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"e33e9979-8c1f-48bd-8971-56f2a344cbf3":{"role":"reader","value":{"id":"e33e9979-8c1f-48bd-8971-56f2a344cbf3","version":1,"type":"text","properties":{"title":[["可以试想一下，如果在生产环境服务的关键请求链路中存在这样正则匹配，加上不可控的用户输入，很容易落入“性能陷阱”，轻则拖慢系统，重则直接让服务暴露在 "],["ReDoS",[["a","https://en.wikipedia.org/wiki/ReDoS"]]],[" (Regual Expression Denial-of-Service) 的风险之下。"]]},"format":{"copied_from_pointer":{"id":"6b65cd5e-4862-4fe0-a575-335da2a7f3f0","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078021,"last_edited_time":1666059078021,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"6b65cd5e-4862-4fe0-a575-335da2a7f3f0","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"429048f3-ea3c-4f98-9258-b2e1a3aa81c4":{"role":"reader","value":{"id":"429048f3-ea3c-4f98-9258-b2e1a3aa81c4","version":1,"type":"text","properties":{"title":[["随手一搜，已经有不少相关的案例发生："],["CVE-2021-23343",[["a","https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-23343"]]],[" 、"],["CVE-2021-41817",[["a","https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-41817"]]],["。所以，它值得我们格外重视。"]]},"format":{"copied_from_pointer":{"id":"2b4594a5-9d32-4f87-be8b-7ca6c74838e3","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078021,"last_edited_time":1666059078021,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"2b4594a5-9d32-4f87-be8b-7ca6c74838e3","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"06a24e1d-70ff-4b4d-8890-c4411ad92c88":{"role":"reader","value":{"id":"06a24e1d-70ff-4b4d-8890-c4411ad92c88","version":1,"type":"sub_header","properties":{"title":[["Evil Regex 大敌当前"]]},"format":{"copied_from_pointer":{"id":"d09102f8-fdbd-4b76-adaf-f6505ac2a83e","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078023,"last_edited_time":1666059078023,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"d09102f8-fdbd-4b76-adaf-f6505ac2a83e","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"421e3479-65f0-4238-accb-85b4748a20b0":{"role":"reader","value":{"id":"421e3479-65f0-4238-accb-85b4748a20b0","version":1,"type":"text","properties":{"title":[["先来看一些和上面例子类似的、典型的邪恶正则："]]},"format":{"copied_from_pointer":{"id":"20027492-dc46-4316-ac42-6aaaf37012e7","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078020,"last_edited_time":1666059078020,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"20027492-dc46-4316-ac42-6aaaf37012e7","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"98d83013-7235-4699-a816-e8fd5bc08002":{"role":"reader","value":{"id":"98d83013-7235-4699-a816-e8fd5bc08002","version":1,"type":"bulleted_list","properties":{"title":[["(a+)+",[["c"]]]]},"format":{"copied_from_pointer":{"id":"aecbafe0-7e36-43b1-bdc9-00a39ab3c3e3","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078022,"last_edited_time":1666059078022,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"aecbafe0-7e36-43b1-bdc9-00a39ab3c3e3","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"0d6cd58d-075b-4908-9d85-ceaf2ab1753e":{"role":"reader","value":{"id":"0d6cd58d-075b-4908-9d85-ceaf2ab1753e","version":1,"type":"bulleted_list","properties":{"title":[["([a-zA-Z]+)*",[["c"]]]]},"format":{"copied_from_pointer":{"id":"c5b74341-1256-4198-b674-86bf866efd6c","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078023,"last_edited_time":1666059078023,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"c5b74341-1256-4198-b674-86bf866efd6c","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"51804104-983f-4c39-81f8-d0f152a88f9f":{"role":"reader","value":{"id":"51804104-983f-4c39-81f8-d0f152a88f9f","version":1,"type":"bulleted_list","properties":{"title":[["(a|aa)+",[["c"]]]]},"format":{"copied_from_pointer":{"id":"372b3bcc-b036-4e6e-a4f8-00e053d09449","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078021,"last_edited_time":1666059078021,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"372b3bcc-b036-4e6e-a4f8-00e053d09449","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"d0d2e591-195a-4ac8-b863-524a9b98eba7":{"role":"reader","value":{"id":"d0d2e591-195a-4ac8-b863-524a9b98eba7","version":1,"type":"bulleted_list","properties":{"title":[["(a|a?)+",[["c"]]]]},"format":{"copied_from_pointer":{"id":"c2cef2bd-0ea8-4b31-b296-27c8261c6ccc","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078023,"last_edited_time":1666059078023,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"c2cef2bd-0ea8-4b31-b296-27c8261c6ccc","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"c6b2c420-1dcd-4463-b918-ba3275a4887b":{"role":"reader","value":{"id":"c6b2c420-1dcd-4463-b918-ba3275a4887b","version":1,"type":"bulleted_list","properties":{"title":[["(a|a)+$",[["c"]]]]},"format":{"copied_from_pointer":{"id":"df166bba-61a0-4689-a436-dfae40ee2576","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078023,"last_edited_time":1666059078023,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"df166bba-61a0-4689-a436-dfae40ee2576","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"b4e5e7f0-f447-40ff-8b09-a30eb3ab254a":{"role":"reader","value":{"id":"b4e5e7f0-f447-40ff-8b09-a30eb3ab254a","version":1,"type":"bulleted_list","properties":{"title":[[" "],["(.*a){x} for x \\\u003e 10",[["c"]]]]},"format":{"copied_from_pointer":{"id":"12c5ac34-6528-4646-8ad1-9eba89806e90","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078020,"last_edited_time":1666059078020,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"12c5ac34-6528-4646-8ad1-9eba89806e90","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"95a16b92-77c8-4bd7-88ff-ad18af9382a9":{"role":"reader","value":{"id":"95a16b92-77c8-4bd7-88ff-ad18af9382a9","version":1,"type":"text","properties":{"title":[["它们都有共同的一些特点："]]},"format":{"copied_from_pointer":{"id":"c02908f2-1dbf-4826-a2f0-40d114e63385","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078023,"last_edited_time":1666059078023,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"c02908f2-1dbf-4826-a2f0-40d114e63385","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"eb56bd6f-90c7-4dea-af58-989c90b25b0a":{"role":"reader","value":{"id":"eb56bd6f-90c7-4dea-af58-989c90b25b0a","version":1,"type":"bulleted_list","properties":{"title":[["存在子表达重复——形如 "],["()+",[["c"]]],[" 、 "],["()*",[["c"]]]]},"format":{"copied_from_pointer":{"id":"d386087c-26b1-432d-8f2a-a08b7f720b36","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078023,"last_edited_time":1666059078023,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"d386087c-26b1-432d-8f2a-a08b7f720b36","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"0f99c854-d6a7-4797-b1fb-0c53db1de6a8":{"role":"reader","value":{"id":"0f99c854-d6a7-4797-b1fb-0c53db1de6a8","version":1,"type":"bulleted_list","properties":{"title":[["在重复的子表达中："]]},"content":["c60af96f-ed61-4ede-8a4c-ad06f93baf97","ec737ac0-fd25-446f-b9ac-9b6508191313"],"format":{"copied_from_pointer":{"id":"24a86d12-5267-4979-b94b-e7b469464b4e","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078020,"last_edited_time":1666059078020,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"24a86d12-5267-4979-b94b-e7b469464b4e","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"c60af96f-ed61-4ede-8a4c-ad06f93baf97":{"role":"reader","value":{"id":"c60af96f-ed61-4ede-8a4c-ad06f93baf97","version":1,"type":"bulleted_list","properties":{"title":[["存在重复项—— "],["(a+)+",[["c"]]]]},"format":{"copied_from_pointer":{"id":"95331231-fa2e-4ca1-9877-576aabf0ac54","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078024,"last_edited_time":1666059078024,"parent_id":"0f99c854-d6a7-4797-b1fb-0c53db1de6a8","parent_table":"block","alive":true,"copied_from":"95331231-fa2e-4ca1-9877-576aabf0ac54","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"ec737ac0-fd25-446f-b9ac-9b6508191313":{"role":"reader","value":{"id":"ec737ac0-fd25-446f-b9ac-9b6508191313","version":1,"type":"bulleted_list","properties":{"title":[["存在交替重复—— "],["(a|aa)+",[["c"]]]]},"format":{"copied_from_pointer":{"id":"35de14ba-ac49-48fb-bd8e-27c74ed3f922","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078024,"last_edited_time":1666059078024,"parent_id":"0f99c854-d6a7-4797-b1fb-0c53db1de6a8","parent_table":"block","alive":true,"copied_from":"35de14ba-ac49-48fb-bd8e-27c74ed3f922","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"481496a7-57be-470f-9f6e-511dc06659e9":{"role":"reader","value":{"id":"481496a7-57be-470f-9f6e-511dc06659e9","version":1,"type":"bulleted_list","properties":{"title":[["在重复的子表达的末尾，存在一个子表达式无法匹配的内容，例如 "],["(a|a)+$",[["c"]]]]},"format":{"copied_from_pointer":{"id":"e487746d-4712-4d42-aa6c-857cf5b26df9","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078024,"last_edited_time":1666059078024,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"e487746d-4712-4d42-aa6c-857cf5b26df9","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"a492ebc6-8914-4979-9953-24686ba5ca7f":{"role":"reader","value":{"id":"a492ebc6-8914-4979-9953-24686ba5ca7f","version":1,"type":"text","properties":{"title":[["那么为什么这些重复会导致匹配速度如此之慢呢？我们要看看正则的具体实现思路。"]]},"format":{"copied_from_pointer":{"id":"af4e1227-7bc2-4c68-ba77-c14c784f5078","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078023,"last_edited_time":1666059078023,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"af4e1227-7bc2-4c68-ba77-c14c784f5078","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"11ab27b4-d2ec-4f73-99a9-aecafa750e00":{"role":"reader","value":{"id":"11ab27b4-d2ec-4f73-99a9-aecafa750e00","version":1,"type":"sub_header","properties":{"title":[["知己知彼，百战不殆"]]},"format":{"copied_from_pointer":{"id":"aec28d8f-a175-4641-9c66-50761911f319","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078022,"last_edited_time":1666059078022,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"aec28d8f-a175-4641-9c66-50761911f319","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"492dbeb1-cfc1-451b-95d0-a1dbecd70d7a":{"role":"reader","value":{"id":"492dbeb1-cfc1-451b-95d0-a1dbecd70d7a","version":1,"type":"text","properties":{"title":[["当前主流语言的正则实现机制都是构建"],["非确定有限状态自动机(NFA)",[["b"],["a","https://en.wikipedia.org/wiki/Nondeterministic_finite_automaton"]]],[" ",[["b"]]],["，相较于"],["确定有限状态自动机(DFA)",[["b"],["a","https://en.wikipedia.org/wiki/Deterministic_finite_automaton"]]],["，前者会使用"],["回溯法(backtracking)",[["a","https://en.wikipedia.org/wiki/Backtracking"]]],["，这也是导致邪恶正则存在的根因。"]]},"format":{"copied_from_pointer":{"id":"ac0d51e2-0acc-46ff-a4c4-34d208f09a9b","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078022,"last_edited_time":1666059078022,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"ac0d51e2-0acc-46ff-a4c4-34d208f09a9b","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"1596c45c-a40b-4f49-98f3-be993530b2ee":{"role":"reader","value":{"id":"1596c45c-a40b-4f49-98f3-be993530b2ee","version":1,"type":"sub_sub_header","properties":{"title":[["NFA vs DFA"]]},"format":{"copied_from_pointer":{"id":"5b9d1177-f181-4c07-9459-c2e57c447583","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078021,"last_edited_time":1666059078021,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"5b9d1177-f181-4c07-9459-c2e57c447583","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"3f9b78a6-23b0-451c-9cf0-799a903fdc0b":{"role":"reader","value":{"id":"3f9b78a6-23b0-451c-9cf0-799a903fdc0b","version":1,"type":"text","properties":{"title":[["（该章节中的图例均来自"],["这篇文章",[["a","https://swtch.com/~rsc/regexp/regexp1.html"]]],["，我在这里做了内容简化，建议有兴趣的同学阅读英文原文）"]]},"format":{"copied_from_pointer":{"id":"6cf4868e-98b7-464b-85a8-ae4a702e4963","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078022,"last_edited_time":1666059078022,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"6cf4868e-98b7-464b-85a8-ae4a702e4963","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"620943d0-08c0-426d-a775-e5a82b0f2f74":{"role":"reader","value":{"id":"620943d0-08c0-426d-a775-e5a82b0f2f74","version":1,"type":"text","properties":{"title":[["FA 有限自动机，又称 FSM 有限状态机，在当前的语境下，我们统一都是用 FA 来描述。这种计算模型比较常见，所以我们就着重关注 NFA 和 DFA 的对比。"]]},"format":{"copied_from_pointer":{"id":"af1ea1b0-fd0a-43d4-bdfc-8d587bc754c1","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078023,"last_edited_time":1666059078023,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"af1ea1b0-fd0a-43d4-bdfc-8d587bc754c1","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"36f538b5-c08e-41df-9454-7097e1490efd":{"role":"reader","value":{"id":"36f538b5-c08e-41df-9454-7097e1490efd","version":1,"type":"text","properties":{"title":[["首先，来看一个简单的正则表达式—— "],["a(bb)+a",[["c"]]],[" ，它可以转换成以下两种表达："]]},"format":{"copied_from_pointer":{"id":"485cbdbe-6491-4b79-b253-201746be514d","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078021,"last_edited_time":1666059078021,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"485cbdbe-6491-4b79-b253-201746be514d","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"8b914cd4-73c6-4b56-8ab1-0330ec59c60f":{"role":"reader","value":{"id":"8b914cd4-73c6-4b56-8ab1-0330ec59c60f","version":1,"type":"column_list","content":["9cbe5572-72fc-42eb-982c-33bdfb7972bd","3a10ae26-ed6b-4fee-9b00-0d4e03623deb"],"format":{"copied_from_pointer":{"id":"16def40b-eb9c-4a6f-8401-a706e0b46bff","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078020,"last_edited_time":1666059078020,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"16def40b-eb9c-4a6f-8401-a706e0b46bff","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"9cbe5572-72fc-42eb-982c-33bdfb7972bd":{"role":"reader","value":{"id":"9cbe5572-72fc-42eb-982c-33bdfb7972bd","version":1,"type":"column","content":["64d3af5c-9446-4206-883a-d1543abd6203"],"format":{"column_ratio":0.5,"copied_from_pointer":{"id":"50d97ae8-185b-4a17-a2fb-29ad9fdd3e0a","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078024,"last_edited_time":1666059078024,"parent_id":"8b914cd4-73c6-4b56-8ab1-0330ec59c60f","parent_table":"block","alive":true,"copied_from":"50d97ae8-185b-4a17-a2fb-29ad9fdd3e0a","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"3a10ae26-ed6b-4fee-9b00-0d4e03623deb":{"role":"reader","value":{"id":"3a10ae26-ed6b-4fee-9b00-0d4e03623deb","version":1,"type":"column","content":["6fdf1be8-b201-4554-8808-0f316c0cea35"],"format":{"column_ratio":0.5,"copied_from_pointer":{"id":"6e769df7-457e-459f-a7c5-3565ae29677d","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078024,"last_edited_time":1666059078024,"parent_id":"8b914cd4-73c6-4b56-8ab1-0330ec59c60f","parent_table":"block","alive":true,"copied_from":"6e769df7-457e-459f-a7c5-3565ae29677d","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"64d3af5c-9446-4206-883a-d1543abd6203":{"role":"reader","value":{"id":"64d3af5c-9446-4206-883a-d1543abd6203","version":1,"type":"image","properties":{"size":[["2.4KB"]],"title":[["Untitled"]],"source":[["https://s3-us-west-2.amazonaws.com/secure.notion-static.com/e41cc1a4-ae04-422e-8a4d-22e77e03d496/Untitled.png"]],"caption":[["DFA"]]},"format":{"block_width":288,"block_height":54,"display_source":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/e41cc1a4-ae04-422e-8a4d-22e77e03d496/Untitled.png","block_full_width":false,"block_page_width":true,"block_aspect_ratio":0.19424460431654678,"copied_from_pointer":{"id":"2c378c6b-213b-48d2-8d06-5652a0a5187f","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"block_preserve_scale":true},"created_time":1666059078025,"last_edited_time":1666059078025,"parent_id":"9cbe5572-72fc-42eb-982c-33bdfb7972bd","parent_table":"block","alive":true,"copied_from":"2c378c6b-213b-48d2-8d06-5652a0a5187f","file_ids":["e41cc1a4-ae04-422e-8a4d-22e77e03d496"],"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"6fdf1be8-b201-4554-8808-0f316c0cea35":{"role":"reader","value":{"id":"6fdf1be8-b201-4554-8808-0f316c0cea35","version":1,"type":"image","properties":{"size":[["2.4KB"]],"title":[["Untitled"]],"source":[["https://s3-us-west-2.amazonaws.com/secure.notion-static.com/18765429-1c82-4046-9afe-21a3a68d505d/Untitled.png"]],"caption":[["NFA"]]},"format":{"block_width":288,"block_height":54,"display_source":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/18765429-1c82-4046-9afe-21a3a68d505d/Untitled.png","block_full_width":false,"block_page_width":true,"block_aspect_ratio":0.19424460431654678,"copied_from_pointer":{"id":"044ad270-ea52-4ddf-8825-71d037f54dc8","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"block_preserve_scale":true},"created_time":1666059078025,"last_edited_time":1666059078025,"parent_id":"3a10ae26-ed6b-4fee-9b00-0d4e03623deb","parent_table":"block","alive":true,"copied_from":"044ad270-ea52-4ddf-8825-71d037f54dc8","file_ids":["18765429-1c82-4046-9afe-21a3a68d505d"],"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"351ce2ee-5b03-445f-a5e2-1f10c9d4c8f5":{"role":"reader","value":{"id":"351ce2ee-5b03-445f-a5e2-1f10c9d4c8f5","version":1,"type":"text","properties":{"title":[["上面两张图能够很清晰地表现出二者的不同："]]},"format":{"copied_from_pointer":{"id":"d4652ed7-74db-4426-81b8-a81ab44856c8","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078023,"last_edited_time":1666059078023,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"d4652ed7-74db-4426-81b8-a81ab44856c8","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"0f74de50-e44b-4862-8c88-eb34d668addd":{"role":"reader","value":{"id":"0f74de50-e44b-4862-8c88-eb34d668addd","version":1,"type":"bulleted_list","properties":{"title":[["DFA 中，每一个状态在接收到输入时，下一个状态都是确定的。"]]},"format":{"copied_from_pointer":{"id":"06ff70ca-8c4e-4172-92b7-9992473ef8fe","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078020,"last_edited_time":1666059078020,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"06ff70ca-8c4e-4172-92b7-9992473ef8fe","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"6db506c1-4054-421e-b382-6a97952bf93c":{"role":"reader","value":{"id":"6db506c1-4054-421e-b382-6a97952bf93c","version":1,"type":"bulleted_list","properties":{"title":[["NFA 中，存在某些状态在接收到输入时，无法确定下一个状态：例如图中的 S2 接收到字符 b，S1 和 S3 都是可能的下一个状态。所以系统在分支选择时，需要进行猜测。"]]},"format":{"copied_from_pointer":{"id":"e6a44c25-5c6a-4704-8cd3-b36a9f094037","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078024,"last_edited_time":1666059078024,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"e6a44c25-5c6a-4704-8cd3-b36a9f094037","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"1b2eff3a-e49e-4c19-b235-19afe1033bfd":{"role":"reader","value":{"id":"1b2eff3a-e49e-4c19-b235-19afe1033bfd","version":1,"type":"text","properties":{"title":[["理论上，每一条正则表达式都可以等同转换成一个 NFA 状态机，那么如果使用 NFA 进行匹配，如何处理猜测分支就很重要了。下面我们来看一个简单遍历猜测的例子。"]]},"format":{"copied_from_pointer":{"id":"1703f687-faa7-452c-849d-60e0edf01ff5","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078020,"last_edited_time":1666059078020,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"1703f687-faa7-452c-849d-60e0edf01ff5","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"61de9658-1b86-49f9-a630-00513ca7458b":{"role":"reader","value":{"id":"61de9658-1b86-49f9-a630-00513ca7458b","version":1,"type":"text","properties":{"title":[["根据正则 "],["abab|abbb",[["c"]]],[" 我们可以建立如下的 NFA："]]},"format":{"copied_from_pointer":{"id":"4ea4a914-6bf2-4d36-ae0e-965e14b7cb24","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078021,"last_edited_time":1666059078021,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"4ea4a914-6bf2-4d36-ae0e-965e14b7cb24","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"a81212ec-0de2-4ed5-befc-71a01610d802":{"role":"reader","value":{"id":"a81212ec-0de2-4ed5-befc-71a01610d802","version":1,"type":"image","properties":{"size":[["3.3KB"]],"title":[["Untitled"]],"source":[["https://s3-us-west-2.amazonaws.com/secure.notion-static.com/100299f6-ef9d-41f6-b77c-dfbcb1644614/Untitled.png"]]},"format":{"block_width":364,"block_height":79,"display_source":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/100299f6-ef9d-41f6-b77c-dfbcb1644614/Untitled.png","block_full_width":false,"block_page_width":false,"block_aspect_ratio":0.21703296703296704,"copied_from_pointer":{"id":"6c75172b-dd20-472b-907c-e18f1bc28865","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"block_preserve_scale":true},"created_time":1666059078022,"last_edited_time":1666059078022,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"6c75172b-dd20-472b-907c-e18f1bc28865","file_ids":["100299f6-ef9d-41f6-b77c-dfbcb1644614"],"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"9d8ec084-d557-4175-9e4c-296c58045065":{"role":"reader","value":{"id":"9d8ec084-d557-4175-9e4c-296c58045065","version":1,"type":"text","properties":{"title":[["模拟计算机匹配输入 "],["abbb",[["c"]]],["，可以有如下两种路径："]]},"format":{"copied_from_pointer":{"id":"e4445b98-68ad-4c1d-a6b7-018c8d5c2d8c","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078024,"last_edited_time":1666059078024,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"e4445b98-68ad-4c1d-a6b7-018c8d5c2d8c","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"e4c28ba3-4b13-4c6c-a5a9-a0d69c02ed8f":{"role":"reader","value":{"id":"e4c28ba3-4b13-4c6c-a5a9-a0d69c02ed8f","version":1,"type":"image","properties":{"size":[["37.1KB"]],"title":[["Untitled"]],"source":[["https://s3-us-west-2.amazonaws.com/secure.notion-static.com/2d01c07f-0cde-40f3-8ad1-837137c1d9d8/Untitled.png"]]},"format":{"block_width":729,"display_source":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/2d01c07f-0cde-40f3-8ad1-837137c1d9d8/Untitled.png","block_full_width":false,"block_page_width":true,"block_aspect_ratio":0.8491083676268861,"copied_from_pointer":{"id":"4d2c72fe-a4fc-4bf4-b41a-46ebd2cd1051","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"block_preserve_scale":true},"created_time":1666059078021,"last_edited_time":1666059078021,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"4d2c72fe-a4fc-4bf4-b41a-46ebd2cd1051","file_ids":["2d01c07f-0cde-40f3-8ad1-837137c1d9d8"],"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"0fd8ce7c-0289-4191-b05b-1c13de3bf6d6":{"role":"reader","value":{"id":"0fd8ce7c-0289-4191-b05b-1c13de3bf6d6","version":1,"type":"text","properties":{"title":[["以 Step 0 开始的路径，在匹配到第三个字符时出错，此时不得不采用回溯，再次从一开始进行匹配，即 Step 4 → Step 8。"]]},"format":{"copied_from_pointer":{"id":"e83e4c75-d5e8-49c3-b483-4d81c38936d6","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078024,"last_edited_time":1666059078024,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"e83e4c75-d5e8-49c3-b483-4d81c38936d6","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"98ec072a-50a0-4ad6-8c2e-3b7317d2b355":{"role":"reader","value":{"id":"98ec072a-50a0-4ad6-8c2e-3b7317d2b355","version":1,"type":"text","properties":{"title":[["通过这个回溯方法，我们来思考正则表达式 "],["⁍",[["e","a?^{n}a^{n}"]]],[" 与字符串 "],["⁍",[["e","a^{n}"]]],[" 匹配："]]},"format":{"copied_from_pointer":{"id":"de729f7c-c175-476b-a313-cc388b6aa1d9","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078023,"last_edited_time":1666059078023,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"de729f7c-c175-476b-a313-cc388b6aa1d9","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"50124f3a-5808-418c-8ce2-89482e7c3f29":{"role":"reader","value":{"id":"50124f3a-5808-418c-8ce2-89482e7c3f29","version":1,"type":"text","properties":{"title":[["如果每一次判断 "],["⁍",[["e","a"]]],[" 是否存在时，都会尝试匹配“存在”的情况，再匹配不存在的情况，而整个字符串长度为 "],["⁍",[["e","n"]]],["，也就是时间复杂度为  "],["⁍",[["e","O(2^{n})"]]],["。"]]},"format":{"copied_from_pointer":{"id":"1a747638-ee6a-4256-b7e3-d9b47eaaf08b","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078020,"last_edited_time":1666059078020,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"1a747638-ee6a-4256-b7e3-d9b47eaaf08b","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"d65ba5a0-c9b1-40f9-a94c-6fd9c0987fce":{"role":"reader","value":{"id":"d65ba5a0-c9b1-40f9-a94c-6fd9c0987fce","version":1,"type":"text","properties":{"title":[["当前主流的语言（Perl, PCRE, Python, Ruby等）采用了"],["递归",[["b"]]],["来实现深度优先回溯，相较于 "],["Thompson NFA",[["a","https://en.wikipedia.org/wiki/Thompson%27s_construction"]]],["，最终实现的效果都是惊人的糟糕。"]]},"format":{"copied_from_pointer":{"id":"e57f4817-142c-4394-8241-8cab9bbfe7e3","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078024,"last_edited_time":1666059078024,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"e57f4817-142c-4394-8241-8cab9bbfe7e3","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"4088dc8f-db2b-46e3-9e93-0be62fcd58b6":{"role":"reader","value":{"id":"4088dc8f-db2b-46e3-9e93-0be62fcd58b6","version":1,"type":"column_list","content":["cf952c80-f58d-42c4-94f5-4b20d578f2b2","98b4b7af-badd-4ca4-8796-3dc17f121754"],"format":{"copied_from_pointer":{"id":"2b1581c6-aec5-442f-8595-bad7a30c99be","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078020,"last_edited_time":1666059078020,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"2b1581c6-aec5-442f-8595-bad7a30c99be","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"cf952c80-f58d-42c4-94f5-4b20d578f2b2":{"role":"reader","value":{"id":"cf952c80-f58d-42c4-94f5-4b20d578f2b2","version":1,"type":"column","content":["08040b98-a5b9-4de2-945d-4247f370a6ec"],"format":{"column_ratio":0.5,"copied_from_pointer":{"id":"3fa3ac1d-e7b3-49d3-a9a5-70efb24c01cf","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078024,"last_edited_time":1666059078024,"parent_id":"4088dc8f-db2b-46e3-9e93-0be62fcd58b6","parent_table":"block","alive":true,"copied_from":"3fa3ac1d-e7b3-49d3-a9a5-70efb24c01cf","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"98b4b7af-badd-4ca4-8796-3dc17f121754":{"role":"reader","value":{"id":"98b4b7af-badd-4ca4-8796-3dc17f121754","version":1,"type":"column","content":["46b7fb61-de5e-43cd-a2bb-4539a1289ce4"],"format":{"column_ratio":0.5,"copied_from_pointer":{"id":"dfbbc6fa-c05b-4146-bd01-8f5639281000","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078024,"last_edited_time":1666059078024,"parent_id":"4088dc8f-db2b-46e3-9e93-0be62fcd58b6","parent_table":"block","alive":true,"copied_from":"dfbbc6fa-c05b-4146-bd01-8f5639281000","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"08040b98-a5b9-4de2-945d-4247f370a6ec":{"role":"reader","value":{"id":"08040b98-a5b9-4de2-945d-4247f370a6ec","version":1,"type":"image","properties":{"size":[["4.8KB"]],"title":[["Untitled"]],"source":[["https://s3-us-west-2.amazonaws.com/secure.notion-static.com/62d6c97a-651f-4dae-9157-3711b51864ef/Untitled.png"]]},"format":{"block_width":301,"block_height":148,"display_source":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/62d6c97a-651f-4dae-9157-3711b51864ef/Untitled.png","block_full_width":false,"block_page_width":false,"block_aspect_ratio":0.49169435215946844,"copied_from_pointer":{"id":"a9925758-6efb-4435-baa1-9f0f79be1090","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"block_preserve_scale":true},"created_time":1666059078025,"last_edited_time":1666059078025,"parent_id":"cf952c80-f58d-42c4-94f5-4b20d578f2b2","parent_table":"block","alive":true,"copied_from":"a9925758-6efb-4435-baa1-9f0f79be1090","file_ids":["62d6c97a-651f-4dae-9157-3711b51864ef"],"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"46b7fb61-de5e-43cd-a2bb-4539a1289ce4":{"role":"reader","value":{"id":"46b7fb61-de5e-43cd-a2bb-4539a1289ce4","version":1,"type":"image","properties":{"size":[["5.6KB"]],"title":[["Untitled"]],"source":[["https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c1b2f543-8d54-4deb-be08-868bc57b76b6/Untitled.png"]]},"format":{"block_width":302,"block_height":182,"display_source":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c1b2f543-8d54-4deb-be08-868bc57b76b6/Untitled.png","block_full_width":false,"block_page_width":false,"block_aspect_ratio":0.6026490066225165,"copied_from_pointer":{"id":"d43cd71c-0677-4c47-9bb5-f8e5479a3835","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"block_preserve_scale":true},"created_time":1666059078025,"last_edited_time":1666059078025,"parent_id":"98b4b7af-badd-4ca4-8796-3dc17f121754","parent_table":"block","alive":true,"copied_from":"d43cd71c-0677-4c47-9bb5-f8e5479a3835","file_ids":["c1b2f543-8d54-4deb-be08-868bc57b76b6"],"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"b0f1e34a-5f02-42bb-83f7-f49d56c2621f":{"role":"reader","value":{"id":"b0f1e34a-5f02-42bb-83f7-f49d56c2621f","version":1,"type":"sub_sub_header","properties":{"title":[["Thompson NFA 构造 vs DFA"]]},"format":{"copied_from_pointer":{"id":"fbfe04ee-36bd-49ad-b19a-c28297f241d5","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078024,"last_edited_time":1666059078024,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"fbfe04ee-36bd-49ad-b19a-c28297f241d5","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"afff6151-82dc-4357-9707-9cc33b8aefd7":{"role":"reader","value":{"id":"afff6151-82dc-4357-9707-9cc33b8aefd7","version":1,"type":"text","properties":{"title":[["为什么使用了 Thompson NFA 构造出的正则匹配会快这么多呢？主要的原因是：通过划分多个子表达式，合并相同的内容，从而减少了回溯次数。"]]},"format":{"copied_from_pointer":{"id":"91792015-d92e-4f5b-b5de-9e61e268ff8c","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078022,"last_edited_time":1666059078022,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"91792015-d92e-4f5b-b5de-9e61e268ff8c","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"6cdd0a3f-42c6-40de-b1ff-811859b6d99d":{"role":"reader","value":{"id":"6cdd0a3f-42c6-40de-b1ff-811859b6d99d","version":1,"type":"text","properties":{"title":[["⁍",[["e","(ε|a*b)"]]],[" 可以转换成 Thompson 构造，图示："]]},"format":{"copied_from_pointer":{"id":"a54e246b-166a-47ce-aded-30606a52bb8e","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078022,"last_edited_time":1666059078022,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"a54e246b-166a-47ce-aded-30606a52bb8e","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"bd7f13b2-91b6-492a-8f8a-5d6ca6538309":{"role":"reader","value":{"id":"bd7f13b2-91b6-492a-8f8a-5d6ca6538309","version":1,"type":"image","properties":{"size":[["90.5KB"]],"title":[["Untitled"]],"source":[["https://s3-us-west-2.amazonaws.com/secure.notion-static.com/72c2591d-be7f-4f93-b93b-30904f2f6b6c/Untitled.png"]]},"format":{"block_width":888,"display_source":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/72c2591d-be7f-4f93-b93b-30904f2f6b6c/Untitled.png","block_full_width":false,"block_page_width":true,"block_aspect_ratio":0.545045045045045,"copied_from_pointer":{"id":"81c99199-b988-4339-9e22-9a6a5c60c220","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"block_preserve_scale":true},"created_time":1666059078022,"last_edited_time":1666059078022,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"81c99199-b988-4339-9e22-9a6a5c60c220","file_ids":["72c2591d-be7f-4f93-b93b-30904f2f6b6c"],"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"4adb904d-3604-4ce8-9832-ec563f19787d":{"role":"reader","value":{"id":"4adb904d-3604-4ce8-9832-ec563f19787d","version":1,"type":"text","properties":{"title":[["稍微做一些解释："]]},"format":{"copied_from_pointer":{"id":"361fa823-a77f-4e08-81ff-8a1438142351","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078021,"last_edited_time":1666059078021,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"361fa823-a77f-4e08-81ff-8a1438142351","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"294f0999-d9db-4579-92ec-78d4fcf9fe15":{"role":"reader","value":{"id":"294f0999-d9db-4579-92ec-78d4fcf9fe15","version":1,"type":"bulleted_list","properties":{"title":[["q 是开始，f 是结束，白圈是状态，连线是流转"]]},"format":{"copied_from_pointer":{"id":"082443e0-1421-47ba-97b2-4d8b3db33d93","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078020,"last_edited_time":1666059078020,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"082443e0-1421-47ba-97b2-4d8b3db33d93","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"c9124299-7130-4c0c-a8c1-4ebace72871d":{"role":"reader","value":{"id":"c9124299-7130-4c0c-a8c1-4ebace72871d","version":1,"type":"bulleted_list","properties":{"title":[["ε 代表着无输入"]]},"format":{"copied_from_pointer":{"id":"fb844b11-e9f0-4b4d-9a76-d3c3863031c5","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078024,"last_edited_time":1666059078024,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"fb844b11-e9f0-4b4d-9a76-d3c3863031c5","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"9e2bbaa9-0326-4df6-abc8-ed9da0294974":{"role":"reader","value":{"id":"9e2bbaa9-0326-4df6-abc8-ed9da0294974","version":1,"type":"text","properties":{"title":[["通过以上的结构，Thompson NFA 匹配的时间复杂度为  "],["⁍",[["e","O(n)"]]],["，空间复杂度为"],["⁍",[["e","O(n^{2})"]]],["。"]]},"format":{"copied_from_pointer":{"id":"ed5b795d-b138-44f0-b501-9316c0c1f2a1","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078024,"last_edited_time":1666059078024,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"ed5b795d-b138-44f0-b501-9316c0c1f2a1","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"260ec4a9-ed50-4693-8614-b4ab45ae7d56":{"role":"reader","value":{"id":"260ec4a9-ed50-4693-8614-b4ab45ae7d56","version":1,"type":"text","format":{"copied_from_pointer":{"id":"78bb109f-3b63-40c8-9250-f512dd678481","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078022,"last_edited_time":1666059078022,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"78bb109f-3b63-40c8-9250-f512dd678481","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"bd241b5a-e0bf-4d23-b71a-7cdd8c3e8648":{"role":"reader","value":{"id":"bd241b5a-e0bf-4d23-b71a-7cdd8c3e8648","version":1,"type":"text","properties":{"title":[["而 DFA 更容易理解，因为它是典型的空间换时间。"]]},"format":{"copied_from_pointer":{"id":"b1ceeaab-59d6-41c6-841a-2eb34c800f4c","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078023,"last_edited_time":1666059078023,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"b1ceeaab-59d6-41c6-841a-2eb34c800f4c","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"8b5cf75e-5a99-43e0-899a-0d186eb3497b":{"role":"reader","value":{"id":"8b5cf75e-5a99-43e0-899a-0d186eb3497b","version":1,"type":"column_list","content":["acc05c03-6d39-4d77-997d-269693990926","c621a865-b064-47f4-b2fd-833d81b688d3"],"format":{"copied_from_pointer":{"id":"7e99a7cb-3a5c-4d6c-a3d2-054b7a27c55e","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078022,"last_edited_time":1666059078022,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"7e99a7cb-3a5c-4d6c-a3d2-054b7a27c55e","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"acc05c03-6d39-4d77-997d-269693990926":{"role":"reader","value":{"id":"acc05c03-6d39-4d77-997d-269693990926","version":1,"type":"column","content":["dd9acf4a-ffef-4e29-a77d-f33a9f6ee061"],"format":{"column_ratio":0.5,"copied_from_pointer":{"id":"08971a6c-0e9d-45c0-b9a8-6a61ad4269e9","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078024,"last_edited_time":1666059078024,"parent_id":"8b5cf75e-5a99-43e0-899a-0d186eb3497b","parent_table":"block","alive":true,"copied_from":"08971a6c-0e9d-45c0-b9a8-6a61ad4269e9","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"c621a865-b064-47f4-b2fd-833d81b688d3":{"role":"reader","value":{"id":"c621a865-b064-47f4-b2fd-833d81b688d3","version":1,"type":"column","content":["d8d60f09-6b0f-4e06-9dc8-b2409811f5ac"],"format":{"column_ratio":0.5,"copied_from_pointer":{"id":"44737c06-63c0-43ed-9d79-6493526a127a","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078024,"last_edited_time":1666059078024,"parent_id":"8b5cf75e-5a99-43e0-899a-0d186eb3497b","parent_table":"block","alive":true,"copied_from":"44737c06-63c0-43ed-9d79-6493526a127a","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"dd9acf4a-ffef-4e29-a77d-f33a9f6ee061":{"role":"reader","value":{"id":"dd9acf4a-ffef-4e29-a77d-f33a9f6ee061","version":1,"type":"image","properties":{"size":[["5.3KB"]],"title":[["Untitled"]],"source":[["https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7febb121-726d-47a6-80c5-9351397addd6/Untitled.png"]],"caption":[["NFA"]]},"format":{"block_width":424,"block_height":91,"display_source":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7febb121-726d-47a6-80c5-9351397addd6/Untitled.png","block_full_width":false,"block_page_width":false,"block_aspect_ratio":0.21462264150943397,"copied_from_pointer":{"id":"9af5e7e5-1fb9-4459-81cd-a193a870595a","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"block_preserve_scale":true},"created_time":1666059078024,"last_edited_time":1666059078024,"parent_id":"acc05c03-6d39-4d77-997d-269693990926","parent_table":"block","alive":true,"copied_from":"9af5e7e5-1fb9-4459-81cd-a193a870595a","file_ids":["7febb121-726d-47a6-80c5-9351397addd6"],"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"d8d60f09-6b0f-4e06-9dc8-b2409811f5ac":{"role":"reader","value":{"id":"d8d60f09-6b0f-4e06-9dc8-b2409811f5ac","version":1,"type":"image","properties":{"size":[["9.1KB"]],"title":[["Untitled"]],"source":[["https://s3-us-west-2.amazonaws.com/secure.notion-static.com/903b942f-49b7-4953-923c-55fb6d520bd5/Untitled.png"]],"caption":[["DFA"]]},"format":{"block_width":496,"block_height":170,"display_source":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/903b942f-49b7-4953-923c-55fb6d520bd5/Untitled.png","block_full_width":false,"block_page_width":false,"block_aspect_ratio":0.34274193548387094,"copied_from_pointer":{"id":"fcf6aa9b-6ea5-4ee1-9ac2-00c455f9d131","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"block_preserve_scale":true},"created_time":1666059078025,"last_edited_time":1666059078025,"parent_id":"c621a865-b064-47f4-b2fd-833d81b688d3","parent_table":"block","alive":true,"copied_from":"fcf6aa9b-6ea5-4ee1-9ac2-00c455f9d131","file_ids":["903b942f-49b7-4953-923c-55fb6d520bd5"],"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"323df8cb-fe25-433e-ba3d-392eb38f2e8b":{"role":"reader","value":{"id":"323df8cb-fe25-433e-ba3d-392eb38f2e8b","version":1,"type":"text","properties":{"title":[["可以看到每一个 DFA 的状态都等同于某一时刻 NFA 状态列表，所以 DFA 在最坏情况下，空间复杂度 "],["⁍",[["e","O(2^{n})"]]],["，也会在构建阶段消耗更多时间。同时没有了回溯，整个匹配时间就是字符串长度，复杂度为 "],["⁍",[["e","O(n)"]]],["。为了保证 DFA 的空间消耗，一般都会额外对构建出的 "],["DFA 做简化",[["a","https://en.wikipedia.org/wiki/DFA_minimization"]]],["，减少图的大小。"]]},"format":{"copied_from_pointer":{"id":"96829f3a-5e56-40b0-8ba8-6e6b5814c387","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078022,"last_edited_time":1666059078022,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"96829f3a-5e56-40b0-8ba8-6e6b5814c387","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"ddeb7f78-5eb1-4d7b-868a-6917822d6ab5":{"role":"reader","value":{"id":"ddeb7f78-5eb1-4d7b-868a-6917822d6ab5","version":1,"type":"sub_sub_header","properties":{"title":[["为什么主流编程语言这么慢？"]]},"format":{"copied_from_pointer":{"id":"cd4955ae-21b4-4a21-9073-b53e27a0ce0c","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078023,"last_edited_time":1666059078023,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"cd4955ae-21b4-4a21-9073-b53e27a0ce0c","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"556cfad1-2c9a-4e90-bc6a-5aa982a85b89":{"role":"reader","value":{"id":"556cfad1-2c9a-4e90-bc6a-5aa982a85b89","version":1,"type":"text","properties":{"title":[["说来有趣，Thompson NFA 构造法应该是编译原理的基础概念，DFA 方法从概念上也是比较简单，为什么当前的主流语言没有采用，反而采用了一个带有回溯的、效果远逊的版本？"]]},"format":{"copied_from_pointer":{"id":"5a46274c-de54-47f3-a8d1-f0906c7475cc","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078021,"last_edited_time":1666059078021,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"5a46274c-de54-47f3-a8d1-f0906c7475cc","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"4b68cbc5-f2e1-4f5b-bff6-d29e174812aa":{"role":"reader","value":{"id":"4b68cbc5-f2e1-4f5b-bff6-d29e174812aa","version":1,"type":"text","properties":{"title":[["经过一番冲浪搜索，简单概括我找到的结论："],["历史的局限",[["b"]]],["。"]]},"format":{"copied_from_pointer":{"id":"38e9610d-de8f-47b9-b128-09fa5e2c81eb","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078021,"last_edited_time":1666059078021,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"38e9610d-de8f-47b9-b128-09fa5e2c81eb","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"f0186a0b-4278-4296-a704-da19665a61ff":{"role":"reader","value":{"id":"f0186a0b-4278-4296-a704-da19665a61ff","version":1,"type":"quote","properties":{"title":[["While writing the text editor sam [6] in the early 1980s, Rob Pike wrote a new regular expression implementation, which Dave Presotto extracted into a library that appeared in the Eighth Edition. Pike's implementation incorporated submatch tracking into an efficient NFA simulation but, like the rest of the Eighth Edition source, was not widely distributed. Pike himself did not realize that his technique was anything new. ",[["i"]]],["Henry Spencer reimplemented the Eighth Edition library interface from scratch, but using backtracking, and released his implementation into the public domain.",[["i"],["h","red"]]],[" ",[["i"]]],["It became very widely used, eventually serving as the basis for the slow regular expression implementations mentioned earlier: Perl, PCRE, Python, and so on.",[["i"],["h","red"]]]]},"format":{"quote_size":"large","copied_from_pointer":{"id":"c2be458c-6ee4-4872-a3a1-60bd306ab855","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078023,"last_edited_by":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_time":1666059078023,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"c2be458c-6ee4-4872-a3a1-60bd306ab855","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"7f091f2e-b6e7-4c62-bbd8-77d83c1d92a8":{"role":"reader","value":{"id":"7f091f2e-b6e7-4c62-bbd8-77d83c1d92a8","version":1,"type":"text","properties":{"title":[["可以从上文得知，正则匹配的实现首先需要兼容原来的使用方式，而当时开发者并未了解 NFA 模拟方法，而是自己从零实现了一个回溯方法，并且被广泛地传播开了。即使这个实现很慢，但是由于已经被大规模采用，且能满足大多数的使用场景，各个主流语言也没有替换它。"]]},"format":{"copied_from_pointer":{"id":"e00a8ab3-f150-40ac-9821-0a737bd80995","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078023,"last_edited_time":1666059078023,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"e00a8ab3-f150-40ac-9821-0a737bd80995","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"6e320bb2-c433-4d31-af61-72db35ede111":{"role":"reader","value":{"id":"6e320bb2-c433-4d31-af61-72db35ede111","version":1,"type":"sub_header","properties":{"title":[["正面对抗 Evil Regex"]]},"format":{"copied_from_pointer":{"id":"cd33fbd3-5ec2-402f-ba71-bb55a44db458","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078023,"last_edited_time":1666059078023,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"cd33fbd3-5ec2-402f-ba71-bb55a44db458","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"ed1e3a4c-ebbf-4d46-89dc-02e9e576134b":{"role":"reader","value":{"id":"ed1e3a4c-ebbf-4d46-89dc-02e9e576134b","version":1,"type":"text","properties":{"title":[["既然当前主流语言的实现肯定会存在性能陷阱，我们是否有办法检测邪恶正则呢？答案是肯定的。"]]},"format":{"copied_from_pointer":{"id":"6d78b2ac-d7b1-4f65-95ef-22c4d692562d","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078022,"last_edited_time":1666059078022,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"6d78b2ac-d7b1-4f65-95ef-22c4d692562d","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"787a7eab-4c81-43ee-a147-b25f34efb1c4":{"role":"reader","value":{"id":"787a7eab-4c81-43ee-a147-b25f34efb1c4","version":1,"type":"text","properties":{"title":[["在社区里有不少相关项目，例如："],["regexploit",[["a","https://github.com/doyensec/regexploit"]]],[" 、"],["redos-detector",[["a","https://github.com/olivo/redos-detector"]]],[" 、"],["vuln-regex-detector",[["a","https://github.com/davisjam/vuln-regex-detector"]]],[" 等，它们都可以扫描出有风险的正则，就像这样："]]},"format":{"copied_from_pointer":{"id":"434f0660-1dc9-4b78-b339-92709292d9da","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078021,"last_edited_time":1666059078021,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"434f0660-1dc9-4b78-b339-92709292d9da","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"0d791d52-7a18-417f-97d7-773e638b0b5f":{"role":"reader","value":{"id":"0d791d52-7a18-417f-97d7-773e638b0b5f","version":1,"type":"code","properties":{"title":[["$ echo \"(a+)+s\" | regexploit\nPattern: (a+)+s\n---\nRedos(starriness=11, prefix_sequence=SEQ{  }, redos_sequence=SEQ{ [a]{1+}{1+} [s] }, repeated_character=[a], killer=None)\nWorst-case complexity: 11 ⭐⭐⭐⭐⭐⭐⭐⭐⭐⭐ (exponential)\nRepeated character: [a]\nExample: 'a' * 3456"]],"language":[["Shell"]]},"format":{"code_wrap":true,"copied_from_pointer":{"id":"d354c69e-2799-4bd6-9b36-03c9770f8951","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078023,"last_edited_time":1666059078023,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"d354c69e-2799-4bd6-9b36-03c9770f8951","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"1e6c9924-ca81-48c2-adbe-7335b9bf6c62":{"role":"reader","value":{"id":"1e6c9924-ca81-48c2-adbe-7335b9bf6c62","version":1,"type":"text","properties":{"title":[["但是它们局限于静态的正则扫描，对于我们开发者而言，静态防御并不能完全清除风险。更好的思路是直接替换语言的默认实现。以 Python 举例，我们也找到了一些替换库："]]},"format":{"copied_from_pointer":{"id":"52bd9913-56e4-44ee-925e-9a440b666df9","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078021,"last_edited_time":1666059078021,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"52bd9913-56e4-44ee-925e-9a440b666df9","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"8a414c65-5d08-42eb-9a24-2a88266b28e7":{"role":"reader","value":{"id":"8a414c65-5d08-42eb-9a24-2a88266b28e7","version":1,"type":"sub_sub_header","properties":{"title":[["pyre2"]]},"format":{"copied_from_pointer":{"id":"9b807a3d-6a4f-4382-a8ca-9a32a39082b9","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078022,"last_edited_time":1666059078022,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"9b807a3d-6a4f-4382-a8ca-9a32a39082b9","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"82dced55-2aec-41d0-850f-be70b02d6d72":{"role":"reader","value":{"id":"82dced55-2aec-41d0-850f-be70b02d6d72","version":1,"type":"code","properties":{"title":[["pip install pyre2"]],"language":[["Shell"]]},"format":{"code_wrap":true,"copied_from_pointer":{"id":"0400f213-9d48-48cc-921c-ac11b22d2750","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078020,"last_edited_time":1666059078020,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"0400f213-9d48-48cc-921c-ac11b22d2750","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"efda542a-baf5-447f-92a6-7e6709475006":{"role":"reader","value":{"id":"efda542a-baf5-447f-92a6-7e6709475006","version":1,"type":"text","properties":{"title":[["来自 "],["Google re2",[["a","https://github.com/google/re2/"]]],[" 模块的 Python 封装 "],["pyre2",[["a","https://github.com/facebook/pyre2"]]],["，使用了 DFA 的构造方式。可以替换原生 "],["re",[["c"]]],[" 模块，大多数场景都可以得到速度的稳步提升，不存在性能陷阱。"]]},"format":{"copied_from_pointer":{"id":"381523b3-2e57-472c-bc34-ea8246ad0629","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078021,"last_edited_time":1666059078021,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"381523b3-2e57-472c-bc34-ea8246ad0629","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"28914074-5a58-440b-96fa-ea1ec82f6395":{"role":"reader","value":{"id":"28914074-5a58-440b-96fa-ea1ec82f6395","version":1,"type":"text","properties":{"title":[["但对于 DFA 模拟来说，都是自古华山一条道，比如 "],["(?P=\u003cname\u003e)",[["c"]]],[" 这样的属于 "],["backreference",[["c"]]],[" 的捕获组语法就无法支持了。"]]},"format":{"copied_from_pointer":{"id":"6b3f9be9-8f68-408a-addd-20fbe922ef3a","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078021,"last_edited_time":1666059078021,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"6b3f9be9-8f68-408a-addd-20fbe922ef3a","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"12c4a78b-edf1-4dcf-8397-441db47e3f36":{"role":"reader","value":{"id":"12c4a78b-edf1-4dcf-8397-441db47e3f36","version":1,"type":"sub_sub_header","properties":{"title":[["regex"]]},"format":{"copied_from_pointer":{"id":"843bd650-503c-440b-9f1d-67b62c86b850","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078022,"last_edited_time":1666059078022,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"843bd650-503c-440b-9f1d-67b62c86b850","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"3fd5ce84-2b67-4fb5-a93a-1563fd770e90":{"role":"reader","value":{"id":"3fd5ce84-2b67-4fb5-a93a-1563fd770e90","version":1,"type":"code","properties":{"title":[["pip install regex"]],"language":[["Shell"]]},"format":{"code_wrap":true,"copied_from_pointer":{"id":"c6d1fae8-d547-46bf-8d73-c69f6c8f0f32","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078023,"last_edited_time":1666059078023,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"c6d1fae8-d547-46bf-8d73-c69f6c8f0f32","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"1f35e904-7a1c-4d47-a37d-67ce17ed1e04":{"role":"reader","value":{"id":"1f35e904-7a1c-4d47-a37d-67ce17ed1e04","version":1,"type":"text","properties":{"title":[["regex",[["a","https://github.com/mrabarnett/mrab-regex"]]],[" 模块"],["并未使用 DFA 构造",[["a","https://github.com/mrabarnett/mrab-regex/issues/136"]]],["，在完全兼容 "],["re",[["c"]]],[" 模块的同时，支持了一些"],["新特性",[["a","https://github.com/mrabarnett/mrab-regex#old-vs-new-behaviour"]]],["。由于实现方案的不同，也没有很明确的文档阐述，尚不清楚它具体的算法（"],["有待进一步从代码层面解读",[["i"]]],["），但是从效果上，它的性能要"],["略好于原生模块",[["a","https://github.com/mrabarnett/mrab-regex/issues/320"]]],["，仅从文中里例子测试看来，也规避了性能陷阱，可以谨慎采用。"]]},"format":{"copied_from_pointer":{"id":"01327456-585f-4c8e-a0e8-cae0d24050a8","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078020,"last_edited_time":1666059078020,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"01327456-585f-4c8e-a0e8-cae0d24050a8","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"8ef69d8b-5418-4936-a684-009d1c35948e":{"role":"reader","value":{"id":"8ef69d8b-5418-4936-a684-009d1c35948e","version":1,"type":"sub_header","properties":{"title":[["总结"]]},"format":{"copied_from_pointer":{"id":"a0e77fa2-bc7b-4b6f-a5b0-b831e7132498","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078022,"last_edited_time":1666059078022,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"a0e77fa2-bc7b-4b6f-a5b0-b831e7132498","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"4c31a30c-7e0e-4ba1-9ea2-a53dafd478c5":{"role":"reader","value":{"id":"4c31a30c-7e0e-4ba1-9ea2-a53dafd478c5","version":1,"type":"bulleted_list","properties":{"title":[["和很多其他场景一样，程序需要时刻警惕用户的输入，任何不经过校验的内容都可能将程序拖垮。"]]},"format":{"copied_from_pointer":{"id":"915c8029-555e-4bf0-872d-f3a03558c35b","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078022,"last_edited_time":1666059078022,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"915c8029-555e-4bf0-872d-f3a03558c35b","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"18e7ee68-eda9-4a45-b67b-4c11dffeb5a7":{"role":"reader","value":{"id":"18e7ee68-eda9-4a45-b67b-4c11dffeb5a7","version":1,"type":"bulleted_list","properties":{"title":[["理论和实际存在各种各样的鸿沟，在面临现实场景时，理想的想法落地总是困难的。"]]},"format":{"copied_from_pointer":{"id":"371b838d-b8b8-49bd-b748-6a0758ef3bc9","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078021,"last_edited_time":1666059078021,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"371b838d-b8b8-49bd-b748-6a0758ef3bc9","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"a5f4f5f1-1c08-43a7-b1ab-7a3cbee60843":{"role":"reader","value":{"id":"a5f4f5f1-1c08-43a7-b1ab-7a3cbee60843","version":1,"type":"bulleted_list","properties":{"title":[["原生不代表就是最优秀的。有特殊需求时可以使用社区方案进行替换。"]]},"format":{"copied_from_pointer":{"id":"f89af5b6-97ad-4da2-98c7-d511af15c4e3","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078024,"last_edited_time":1666059078024,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"f89af5b6-97ad-4da2-98c7-d511af15c4e3","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"3672e91b-6a7c-4125-b698-0f6f543b1536":{"role":"reader","value":{"id":"3672e91b-6a7c-4125-b698-0f6f543b1536","version":1,"type":"text","format":{"copied_from_pointer":{"id":"a66787f9-7a4e-486f-b578-736218fd0c05","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078022,"last_edited_time":1666059078022,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"a66787f9-7a4e-486f-b578-736218fd0c05","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"b38fb92d-f218-4f50-96ca-8ac1e6c65b00":{"role":"reader","value":{"id":"b38fb92d-f218-4f50-96ca-8ac1e6c65b00","version":1,"type":"text","properties":{"title":[["参考："]]},"format":{"copied_from_pointer":{"id":"277ff37b-23aa-4f42-a791-3c853d2099ed","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078020,"last_edited_time":1666059078020,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"277ff37b-23aa-4f42-a791-3c853d2099ed","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"2d5c1650-11ab-41b7-950f-f02c9a393e88":{"role":"reader","value":{"id":"2d5c1650-11ab-41b7-950f-f02c9a393e88","version":1,"type":"bulleted_list","properties":{"title":[["https://swtch.com/~rsc/regexp/regexp1.html",[["a","https://swtch.com/~rsc/regexp/regexp1.html"]]]]},"format":{"copied_from_pointer":{"id":"e9d2dd57-2753-40a4-85ef-23e364ca14d5","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078024,"last_edited_time":1666059078024,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"e9d2dd57-2753-40a4-85ef-23e364ca14d5","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"67c19c43-0a1c-49d1-ac85-63f6f162c2ef":{"role":"reader","value":{"id":"67c19c43-0a1c-49d1-ac85-63f6f162c2ef","version":1,"type":"bulleted_list","properties":{"title":[["https://owasp.org/www-community/attacks/Regular_expression_Denial_of_Service_-_ReDoS",[["a","https://owasp.org/www-community/attacks/Regular_expression_Denial_of_Service_-_ReDoS"]]]]},"format":{"copied_from_pointer":{"id":"e22e75a8-b6fd-49e4-bbcc-c126ed671b3c","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078023,"last_edited_time":1666059078023,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"e22e75a8-b6fd-49e4-bbcc-c126ed671b3c","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"b05ea5bd-8ae5-40ba-a38b-654a5b723fac":{"role":"reader","value":{"id":"b05ea5bd-8ae5-40ba-a38b-654a5b723fac","version":1,"type":"bulleted_list","properties":{"title":[["https://shivankaul.com/blog/nfa-dfa-and-regexes",[["a","https://shivankaul.com/blog/nfa-dfa-and-regexes"]]]]},"format":{"copied_from_pointer":{"id":"fda27b89-107f-4b91-bf84-917191e7f27e","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078024,"last_edited_time":1666059078024,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"fda27b89-107f-4b91-bf84-917191e7f27e","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"0049a5a2-d6d5-4dae-964b-80639ecb4144":{"role":"reader","value":{"id":"0049a5a2-d6d5-4dae-964b-80639ecb4144","version":1,"type":"bulleted_list","properties":{"title":[["https://arstechnica.com/civis/viewtopic.php?f=20\u0026t=1195549",[["a","https://arstechnica.com/civis/viewtopic.php?f=20\u0026t=1195549"]]]]},"format":{"copied_from_pointer":{"id":"08210bf6-814a-4cb5-9391-5ac1b3c6218e","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078020,"last_edited_time":1666059078020,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"08210bf6-814a-4cb5-9391-5ac1b3c6218e","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"237dd0aa-005e-4059-a61b-62f30bed7dc0":{"role":"reader","value":{"id":"237dd0aa-005e-4059-a61b-62f30bed7dc0","version":1,"type":"bulleted_list","properties":{"title":[["https://news.ycombinator.com/item?id=466957",[["a","https://news.ycombinator.com/item?id=466957"]]]]},"format":{"copied_from_pointer":{"id":"7fbcee0e-b22b-4ebb-9b8a-e5389c533ff1","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078022,"last_edited_time":1666059078022,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"7fbcee0e-b22b-4ebb-9b8a-e5389c533ff1","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"9da5e5cb-8a68-4f21-bd2f-67051397c140":{"role":"reader","value":{"id":"9da5e5cb-8a68-4f21-bd2f-67051397c140","version":1,"type":"bulleted_list","properties":{"title":[["https://medium.com/swlh/visualizing-thompsons-construction-algorithm-for-nfas-step-by-step-f92ef378581b",[["a","https://medium.com/swlh/visualizing-thompsons-construction-algorithm-for-nfas-step-by-step-f92ef378581b"]]]]},"format":{"copied_from_pointer":{"id":"51114299-fd23-4300-a638-28a61a5af429","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078021,"last_edited_time":1666059078021,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"51114299-fd23-4300-a638-28a61a5af429","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"3f8d2e74-3c47-4662-94fb-92ded6f58558":{"role":"reader","value":{"id":"3f8d2e74-3c47-4662-94fb-92ded6f58558","version":1,"type":"text","format":{"copied_from_pointer":{"id":"be006192-e77b-457b-81f4-654035aa1880","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059078023,"last_edited_time":1666059078023,"parent_id":"9d18b689-cdc2-4d3f-81da-a690c700caee","parent_table":"block","alive":true,"copied_from":"be006192-e77b-457b-81f4-654035aa1880","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}}},"collection":{"e34bec60-9b02-4ad8-aaf8-83369409cc9f":{"role":"reader","value":{"id":"e34bec60-9b02-4ad8-aaf8-83369409cc9f","version":92,"name":[["布鲁斯鱼的妙想天开 "]],"schema":{"NX\\Q":{"name":"date","type":"date"},"`gQ~":{"name":"type","type":"select","options":[{"id":"5aff2f95-fd1e-489b-8840-bf10bc9519cb","color":"purple","value":"Post"},{"id":"374d2bc6-a144-4832-8ca4-474aaae0ea1f","color":"orange","value":"Page"}]},"d]hq":{"name":"slug","type":"text"},"sD^m":{"name":"tags","type":"multi_select","options":[{"id":"790180f1-0c2e-4730-a1ef-c5463df34680","color":"brown","value":"python"},{"id":"5d668f5e-7204-4c7e-b57e-5558bd27efaf","color":"gray","value":"pep"},{"id":"9081ab60-29ee-4a5b-9989-f50cf36ecb9b","color":"orange","value":"tech"},{"id":"c0225229-afab-45e4-b69b-b71029b39835","color":"red","value":"django"},{"id":"90084124-d1d5-49fb-86e7-4b133c051d81","color":"default","value":"orm"},{"id":"10ace7d0-10e6-4617-970e-acf2d9348d0f","color":"yellow","value":"best-practice"},{"id":"1b9671ca-93e5-402d-a73e-f9aca38e4358","color":"pink","value":"web"},{"id":"c7015bc7-2283-4b3d-8d19-3075724a10df","color":"blue","value":"blog"},{"id":"22d9ce60-f854-4122-b0fc-4f4c3a41979e","color":"green","value":"guide"},{"id":"6e99d746-1829-43e3-a828-214a1ae79b4a","color":"purple","value":"ELK"},{"id":"45ebe27a-5445-4cc3-91c9-ec1f1296dcf4","color":"brown","value":"pytest"},{"id":"9f679b83-f407-4130-b5b7-f969329300bf","color":"brown","value":"unittest"},{"id":"e30656d1-1ff2-434c-a2cb-8b3c75c9d1a1","color":"gray","value":"fun"},{"id":"5146a8a4-5647-4ce0-8a7b-1a6320adee06","color":"blue","value":"back-pressure"},{"id":"36828c03-3b80-417d-82a3-b1066ad5ca60","color":"green","value":"Dependency injection"},{"id":"9602332d-afbb-41e8-baed-bd0dd39a5e21","color":"brown","value":"k8s"},{"id":"82cd2499-ddd4-43ad-9298-fba21fe29cfa","color":"brown","value":"helm"},{"id":"f0a44444-e52d-4db2-9262-aa29d7ded8e3","color":"blue","value":"celery"},{"id":"a87e284b-1c48-422e-9811-eba8a167f97a","color":"red","value":"amqp"},{"id":"dc50dbb3-8e3a-4747-95d8-c9098e70e088","color":"default","value":"tcp"},{"id":"90b243e4-95f4-459e-b5b7-42f09020978b","color":"gray","value":"graphql"},{"id":"00f0130d-3a96-4e5a-8b5e-77e14e0a3ff7","color":"purple","value":"logstash"},{"id":"a921b879-fcef-4ace-8c96-7a6e11fe2358","color":"orange","value":"konajdk"},{"id":"b8e6dc68-925c-4d32-84d9-580d1a34c3a6","color":"orange","value":"regex"},{"id":"fc66930c-fa10-44b1-b553-5f6acc796321","color":"gray","value":"nfa"},{"id":"f9255cb2-7e85-4bce-8042-472643ff3b58","color":"orange","value":"dfa"},{"id":"e00a51c2-af1c-4bfd-a118-e83e73f3e1a3","color":"purple","value":"security"},{"id":"45105ec0-49be-430b-aead-ef83cfbc8b02","color":"pink","value":"reading"},{"id":"4c3a21fd-3ba5-44a2-8c5e-ef6e9100c32c","color":"brown","value":"software-engineering"},{"id":"4cd1d179-3466-4d7e-baf2-99a4c0250a78","color":"blue","value":"google"},{"id":"22973bbb-4038-4f9b-a30c-c0ab6506d65d","color":"gray","value":"note"},{"id":"1ca18016-ff4e-41e0-af37-6ea457fc4bd8","color":"orange","value":"go"}]},"wz|S":{"name":"summary","type":"text"},"title":{"name":"title","type":"title"},"f211bdc0-ee00-4186-9a7d-f68c055ec2ee":{"name":"status","type":"select","options":[{"id":"22460321-fea2-4c7c-b352-a674760780ac","color":"orange","value":"Idea"},{"id":"41d5f5c6-b53c-42bc-8e0f-fc9402048480","color":"yellow","value":"Draft"},{"id":"c7390b31-9fab-4e21-94ee-7e67ea077a97","color":"blue","value":"Revise"},{"id":"7abc61d4-b405-480d-b699-12588755fa65","color":"red","value":"Published"}]}},"icon":"🗯️","format":{"copied_from_pointer":{"id":"6a42b751-ff40-4f34-aa6a-1830a3344cb7","table":"collection","spaceId":"ac4cb96d-c8f8-4040-9bb2-868d9fc7f526"},"collection_page_properties":[{"visible":false,"property":"NX\\Q"},{"visible":false,"property":"d]hq"},{"visible":false,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"visible":false,"property":"sD^m"},{"visible":false,"property":"wz|S"},{"visible":false,"property":"`gQ~"}]},"parent_id":"a6089909-2d0d-43ef-af93-5e041712e826","parent_table":"block","alive":true,"file_ids":["6cf3dc36-2f98-4f0e-9679-1bdbb1485129","5520bd92-e709-4c0d-ad58-06923f23f7e9","624d393a-62e3-4464-a1bf-1c79ecd4fbda","d52f6766-3e32-4c3d-8529-46e1f214360f"],"copied_from":"6a42b751-ff40-4f34-aa6a-1830a3344cb7","migrated":true,"space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6","deleted_schema":{"0d330ccb-d222-4440-a0de-6cccfe926a33":{"name":"url","type":"text"},"26ff3130-393a-45ac-92b5-7490d9b87515":{"name":"template","type":"select","options":[{"id":"V*ea","color":"purple","value":"post"}]},"29e679ed-47a3-46c2-9eb4-9070171591b8":{"name":"inList","type":"checkbox"},"2af12d30-97f0-4310-b38c-02e6a554245f":{"name":"publish","type":"checkbox"},"2bf55746-6864-4bb6-b585-77b81f140da1":{"name":"inList","type":"checkbox"},"487aab80-eb42-4dd6-a386-d58672ff59fa":{"name":"description","type":"text"},"53819e0d-5bc6-40de-a8bc-498fdf840fbc":{"name":"description","type":"text"},"67c34d44-b9f2-42c1-b35c-4a534c03bdd9":{"name":"inList","type":"checkbox"},"69fb2cd3-221c-476b-86c2-ab74f4490cc9":{"name":"template","type":"select","options":[{"id":"V*ea","color":"purple","value":"post"}]},"ab0a009c-1080-47c3-aecc-b26dc703a4e0":{"name":"url","type":"text"},"ad8f0878-e947-4188-8970-1ca14665f6e3":{"name":"inMenu","type":"checkbox"},"b2c6f9d4-31e2-4230-b57e-4bdb21a3d635":{"name":"template","type":"select","options":[{"id":"V*ea","color":"purple","value":"post"}]},"b387319f-5770-457e-8453-1d2f2708f9f1":{"name":"url","type":"text"},"b6d830ff-ce1d-4e76-a484-f0fc3f148c52":{"name":"publish","type":"checkbox"},"c0b15f23-eddd-4316-95d1-a92a4edbc710":{"name":"publish","type":"checkbox"},"e3660c02-9d93-463b-9495-addeeabd3e80":{"name":"description","type":"text"}}}}},"space":{},"collection_view":{"065b98d2-d3b4-4dab-8b96-4eb118a3f311":{"role":"reader","value":{"id":"065b98d2-d3b4-4dab-8b96-4eb118a3f311","version":10,"type":"table","name":"Default view","format":{"table_wrap":false,"table_properties":[{"width":371,"visible":true,"property":"title"},{"width":243,"visible":true,"property":"d]hq"},{"width":159,"visible":true,"property":"NX\\Q"},{"width":147,"visible":true,"property":"wz|S"},{"width":356,"visible":true,"property":"sD^m"},{"width":124,"visible":true,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"width":100,"visible":true,"property":"`gQ~"}]},"parent_id":"a6089909-2d0d-43ef-af93-5e041712e826","parent_table":"block","alive":true,"page_sort":["b1e1d645-db95-42e5-8995-39a80eda6460","e8cd3732-dc1c-43ae-959a-a5a611ec098a","e876558d-e878-47f6-8c95-21be678990a5","5a971ded-d3c5-41be-bef9-ddfff48d43a2","8db8b240-e1c5-4dd7-bf74-72584d7a2ce0","daf94ca4-ec56-47a3-84ed-b1e2479acc4b","d1a2db9b-6820-421e-9b80-017ce7478587","67ea9f83-b9f6-416b-afcb-7c64f7533e6c","45939470-9819-47e8-b12b-999cfefa0aad","c60dc33d-8efb-44be-a863-7a87ad047932","fe4b8d5f-7c49-42c6-a7d5-1cb71c4f7e86","b7233a67-c367-4198-831e-f12089568d1f","4f3bf306-92c4-41b7-a43e-957129a1240a","6a789607-66cf-498e-9b32-eb3fa69a84f4","c9429034-dabd-4a25-8782-97f20c808a60","38c49fe2-37f8-4a7f-a99f-9edb9ddad4c2","474eb638-9f6b-46bf-8004-77668293f199","81d6dfab-69cb-43a0-aa04-e9725f0b67e1","7703d956-84db-46cd-b538-48eae1af68b5","9f937c73-dac9-4ed7-9b01-beefcb321f16","3cf9dcb9-e7db-406c-80ab-c65c11fbf906","5827ab53-e051-455b-b90a-3bdc20158c2c","fa7acd3b-dea9-4fb1-b859-5345f35163c6","696dfc48-62c3-494d-96d0-ec5fa84637e8","79df93cf-9b10-452e-bc62-f39e8cd2d124","9bb8e52d-c459-4528-b1b3-c2378207253a","5da038ef-f419-4a11-aa48-587b3787e040","b4a2c9d4-6a2c-49e6-988d-89a538dfe0f6","c374a479-5cc7-4c54-ba69-6a4d76dc25ad","d470fa67-0e7c-40d8-86ac-9b5a8be88dc8","986be38b-9780-4bb9-bdcd-4e361ddbd888","b7613f56-c2d4-4aae-b967-b7471ade86d0","e357d1fc-7466-4d6a-8d48-71b76ea97cdc","e1735855-4089-4af6-bd4d-0d59f7a76cb4","9b34581a-955a-4229-99d0-8f2a6d0e69ce","b4414811-0599-45cf-b047-fa95eac42d89","c28a8a01-911a-40a2-a607-d3af8cb24017","461d07ae-4b4a-49de-bdcb-341af1153201","3df59023-cb68-4a65-afd1-7f0b8c21cb57","0e3223d1-03df-40fb-90f9-cc8559d776b5","4f45b7d6-cd5b-46ab-b2a6-37ae20bf5f21","fa475a21-5f38-43d4-9a89-67c40b3129ae","97cbc634-fe3a-4b9b-9da6-ac4aaa94772f","8a0d34bc-7e8c-4a68-88a5-5276274f612a","623f8788-a20f-45fd-bb82-08935f59b44d","7ee398f0-450b-47cb-9b53-f5e7736590d2","eae9f077-591e-4841-903b-db395513c834","367d0f2a-0b10-4dbb-b53a-613152f124f9","398e2e28-3997-49bc-a138-0467d4da8531","8aaf4633-e879-44dc-82c8-3c9fb9d3a6f8","1eb5e5f2-8dc9-4ffc-b5e1-09b67be27a83","83465fb9-205b-41fc-83a6-424692ee0a0e","fb1d18d0-6403-4e8a-840e-134553748ff5","4407cb77-3838-4ba5-b474-f15222cd3dba","1880b0f2-e036-42d0-9550-0fb08a962397","d8d60bd6-33f6-458f-a7d6-209ef2fb05a1","29bf65ff-888b-4a76-a8dd-bf54f02c3864","bad1d4ae-fd4a-4671-ae94-dd53d94e0eae","0d59792d-db1c-4ae7-8d7c-4f013be40dcf","337dc259-2805-4b1c-a60f-1b3e6c7badb8","4b1b21a8-c278-4bc6-88f1-1a35d407f4d7","7946aba2-d6d0-45ef-8779-23fa15db8f2d","c18dbce6-9e8c-4f4b-b74a-0994e7c1bc3f","84aa87b7-39e7-493c-87b9-5cae4de95449","1446eadb-8c01-4295-be3a-ecf19361c143","fe8a7d94-e9ba-457d-8f19-10fe53e6ca3c","98a5a0b6-b07b-4065-a73f-2949ad28ac47","099219ec-fb4b-459d-a538-f6c3d54f6ca2","e047becf-e696-42e3-84c9-4f6278c844ae","975051d4-ebbc-4b3f-98cf-1a52e5e4761d","e5d98bee-b2d5-4b45-ab0b-b77da24aebe7","acac2668-1062-4e7a-b095-eda067da8413","179025c4-d8a8-4c47-b621-9fd6a6f3339b","d256e5ed-5eac-43bb-a32e-581774962c23","b843dacf-b655-4b1c-a61c-434b67f18154","56a80c2d-0520-415a-a77a-1db82eff0b3a","9c40a253-b9e8-42cd-8a99-62aaa9789a5e","d3a05020-0948-489a-80ac-fedebc035c58","0ee4f3e9-0451-411f-b903-0c83d30e5b67","769f1163-e45e-4c3b-87a7-3b551895d9be","7e217dcd-e4e5-4bcd-b2de-00fcb5ab7fba","28e3d2f6-abb8-4711-b21e-ce1937e3e546","04d4f00b-9608-4d83-949e-b32313ace34e","41f93fa3-0496-4ea7-8ac3-0a8beaf346da","f0db9e3e-0e99-4465-ae65-6a9a8d8a6468","279e794f-519c-44f5-ab04-422fba916b72","f0b2f8a5-7dfd-48dc-ba1f-419a7fda1fff","e874f269-1938-40be-974b-2e499c1f4590","65265d92-050f-4fb5-b529-a514079cdd83","5fc98358-411a-40d7-a5d0-c4089026ca1f","15fcd77a-6097-4ee9-9835-9d6e85897fd6","6f8b1275-2d88-40e2-b76b-375f3c028b03","33273042-efcc-45bc-8f28-b65a1c2c65ad","c18bd396-be21-4ce2-ab22-32a45c28e37f","ba597bcf-7582-4fd2-8049-6333ef3e4453","4edecef8-106d-489d-be1d-d1b528c4cdc9","b03b3109-e900-4daf-b852-a590324ab747","8cba5326-9daa-4c2c-b763-5476dc8a7a91","9ab4aa63-ce81-415f-bf95-e632006a1aea","e3644bfb-4244-4a82-a7d7-d7cdb65aa1ed","b6a1f5b5-febd-4c26-9e29-520290eb5719","51e53e64-e6dd-4fd6-8062-5d4455f0a1cb","f4ec684b-e5f1-44e9-a8a7-aca27f7ca6f3","177fa228-9099-4dd5-8969-c67f9c78bd0c","d5ab0d7a-0123-473f-84d4-81740defb9b4","548f6d36-c509-4b79-9c4b-59f227c7f550","c0901673-4f5e-4e51-ad87-0217f2d33a0c","0787f8d6-dc99-47c6-946e-2b008814bebc","0ade5216-1103-486a-aff0-a709ff825b02","a2c4dd21-985c-497d-b421-c2d8a9ec0eeb","908a498c-f7e3-4668-8afd-f179a027b4d9","4945e5c3-033d-467c-a8b3-b1479c1fdf0a","854f4584-28d5-43bd-938e-88d0957c78e3","6a6574f8-d63d-4fed-99c5-38f3df0364ac"],"query2":{"filter":{"operator":"and"},"aggregations":[{"property":"title","aggregator":"count"}]},"space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}}},"notion_user":{},"collection_query":{},"signed_urls":{}},"emailHash":"d54f099771ff5f17709b76693f693e2e"},"__N_SSG":true},"page":"/[slug]","query":{"slug":"redos-and-why"},"buildId":"AgCQyszJ-wVJWr_Otvcbb","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>