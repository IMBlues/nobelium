<!DOCTYPE html><html lang="zh-CN"><head><meta name="viewport" content="width=device-width"/><title>Continuous Profiling 持续分析漫谈</title><meta name="robots" content="follow, index"/><meta charSet="UTF-8"/><meta name="keywords" content="Blog, Notion, Tech, Python, Django"/><meta name="description" content="漫谈就是什么都谈，又好像什么都没谈"/><meta property="og:locale" content="zh-CN"/><meta property="og:title" content="Continuous Profiling 持续分析漫谈"/><meta property="og:description" content="漫谈就是什么都谈，又好像什么都没谈"/><meta property="og:url" content="https://next.emergencyexit.xyz/"/><meta property="og:image" content="https://og-image-craigary.vercel.app/Continuous%20Profiling%20%E6%8C%81%E7%BB%AD%E5%88%86%E6%9E%90%E6%BC%AB%E8%B0%88.png?theme=dark&amp;md=1&amp;fontSize=125px&amp;images=https%3A%2F%2Fnobelium.vercel.app%2Flogo-for-dark-bg.svg"/><meta property="og:type" content="article"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:description" content="漫谈就是什么都谈，又好像什么都没谈"/><meta name="twitter:title" content="Continuous Profiling 持续分析漫谈"/><meta name="twitter:image" content="https://og-image-craigary.vercel.app/Continuous%20Profiling%20%E6%8C%81%E7%BB%AD%E5%88%86%E6%9E%90%E6%BC%AB%E8%B0%88.png?theme=dark&amp;md=1&amp;fontSize=125px&amp;images=https%3A%2F%2Fnobelium.vercel.app%2Flogo-for-dark-bg.svg"/><meta property="article:published_time"/><meta property="article:author" content="bluesyu"/><meta name="next-head-count" content="18"/><link rel="preload" href="/fonts/IBMPlexSansVar-Roman.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><link rel="preload" href="/fonts/IBMPlexSansVar-Italic.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/><link rel="preload" as="style" data-href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&amp;display=swap"/><link rel="stylesheet" data-href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&amp;display=swap"/><noscript><link rel="stylesheet" data-href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&amp;display=swap"/></noscript><link rel="icon" href="/favicon.svg" type="image/svg+xml"/><link rel="icon" href="/favicon.ico"/><link rel="apple-touch-icon" sizes="192x192" href="/apple-touch-icon.png"/><link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="/feed"/><meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)"/><meta name="theme-color" content="#18181B" media="(prefers-color-scheme: dark)"/><link rel="preload" href="/_next/static/css/8e8bd7c50b2739f5.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8e8bd7c50b2739f5.css" data-n-g=""/><link rel="preload" href="/_next/static/css/6a5815369e10547f.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6a5815369e10547f.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-c0a56147c8fcef8f.js" defer=""></script><script src="/_next/static/chunks/main-e557dee8cfeafd6c.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6b8bcc68cb80bb32.js" defer=""></script><script src="/_next/static/chunks/b5f2ed29-08db60af0c3043ba.js" defer=""></script><script src="/_next/static/chunks/684-63c1a25e215d8bed.js" defer=""></script><script src="/_next/static/chunks/580-c0214944b9e37cce.js" defer=""></script><script src="/_next/static/chunks/pages/%5Bslug%5D-a74a3e35dd0f9ee9.js" defer=""></script><script src="/_next/static/g414gbnn7WeHe2sFVh_rV/_buildManifest.js" defer=""></script><script src="/_next/static/g414gbnn7WeHe2sFVh_rV/_ssgManifest.js" defer=""></script><script src="/_next/static/g414gbnn7WeHe2sFVh_rV/_middlewareManifest.js" defer=""></script><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap"/></head><body class="bg-day dark:bg-night"><div id="__next" data-reactroot=""><div><div class="wrapper font-sans"><div class="observer-element h-4 md:h-12"></div><div class="sticky-nav m-auto w-full h-6 flex flex-row justify-between items-center mb-2 md:mb-12 py-8 bg-opacity-60 max-w-3xl px-4" id="sticky-nav"><div class="flex items-center"><a aria-label="布鲁斯鱼的妙想天开" href="/"><div class="h-6"><svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="14" cy="14" r="14" class="fill-current text-black dark:text-white"></circle><circle cx="14" cy="14" r="14" fill="url(#paint0_radial)"></circle><circle cx="8" cy="8" r="2" fill="white"></circle><defs><radialGradient id="paint0_radial" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="rotate(45) scale(39.598)"><stop stop-color="#7FF72A" stop-opacity="1"></stop><stop offset="1" stop-color="#001FCC" stop-opacity="0.1"></stop></radialGradient></defs></svg></div></a><p class="ml-2 font-medium text-day dark:text-night header-name">Continuous Profiling 持续分析漫谈</p></div><div class="flex-shrink-0"><ul class="flex flex-row"><li class="block ml-4 text-black dark:text-gray-50 nav"><a href="/about">关于</a></li><li class="block ml-4 text-black dark:text-gray-50 nav"><a href="/search">搜索</a></li></ul></div></div><main class="m-auto flex-grow w-full transition-all max-w-3xl px-4"><article><h1 class="font-bold text-3xl text-black dark:text-white">🃏<!-- --> <!-- -->Continuous Profiling 持续分析漫谈</h1><nav class="flex mt-7 items-start text-gray-500 dark:text-gray-400"><div class="flex mb-4"><a href="https://twitter.com/bluesedenyu" class="flex"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2724%27%20height=%2724%27/%3e"/></span><img alt="bluesyu" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="rounded-full" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="bluesyu" srcSet="https://gravatar.com/avatar/d54f099771ff5f17709b76693f693e2e?imwidth=32 1x, https://gravatar.com/avatar/d54f099771ff5f17709b76693f693e2e?imwidth=48 2x" src="https://gravatar.com/avatar/d54f099771ff5f17709b76693f693e2e?imwidth=48" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="rounded-full" loading="lazy"/></noscript></span><p class="ml-2 md:block">bluesyu</p></a><span class="block"> / </span></div><div class="mr-2 mb-4 md:ml-0">2023 年 4 月 12 日</div><div class="flex flex-nowrap max-w-full overflow-x-auto article-tags"><a href="/tag/tech"><p class="mr-1 rounded-full px-2 py-1 border leading-none text-sm dark:border-gray-600">tech</p></a><a href="/tag/observability"><p class="mr-1 rounded-full px-2 py-1 border leading-none text-sm dark:border-gray-600">observability</p></a><a href="/tag/profiling"><p class="mr-1 rounded-full px-2 py-1 border leading-none text-sm dark:border-gray-600">profiling</p></a></div></nav><div class="-mt-4"><main class="notion light-mode notion-page notion-block-9faa9c16825a40c0898f7b9f31c30722"><div class="notion-viewport"></div><div class="notion-collection-row"><div class="notion-collection-row-body"><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M10.889 5.5H3.11v1.556h7.778V5.5zm1.555-4.444h-.777V0H10.11v1.056H3.89V0H2.333v1.056h-.777c-.864 0-1.548.7-1.548 1.555L0 12.5c0 .856.692 1.5 1.556 1.5h10.888C13.3 14 14 13.356 14 12.5V2.611c0-.855-.7-1.555-1.556-1.555zm0 11.444H1.556V3.944h10.888V12.5zM8.556 8.611H3.11v1.556h5.445V8.61z"></path></svg><div class="notion-collection-column-title-body">date</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-date">Apr 12, 2023</span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 4.568a.5.5 0 00-.5-.5h-6a.5.5 0 00-.5.5v1.046a.5.5 0 00.5.5h6a.5.5 0 00.5-.5V4.568zM.5 1a.5.5 0 00-.5.5v1.045a.5.5 0 00.5.5h12a.5.5 0 00.5-.5V1.5a.5.5 0 00-.5-.5H.5zM0 8.682a.5.5 0 00.5.5h11a.5.5 0 00.5-.5V7.636a.5.5 0 00-.5-.5H.5a.5.5 0 00-.5.5v1.046zm0 3.068a.5.5 0 00.5.5h9a.5.5 0 00.5-.5v-1.045a.5.5 0 00-.5-.5h-9a.5.5 0 00-.5.5v1.045z"></path></svg><div class="notion-collection-column-title-body">slug</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-text">continuous-profiling</span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 13A6 6 0 107 1a6 6 0 000 12zM3.751 5.323A.2.2 0 013.909 5h6.182a.2.2 0 01.158.323L7.158 9.297a.2.2 0 01-.316 0L3.751 5.323z"></path></svg><div class="notion-collection-column-title-body">status</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-select"><div class="notion-property-select-item notion-item-red">Published</div></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M4 3a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zm0 4a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zm0 4a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zM2 4a1 1 0 110-2 1 1 0 010 2zm0 4a1 1 0 110-2 1 1 0 010 2zm0 4a1 1 0 110-2 1 1 0 010 2z"></path></svg><div class="notion-collection-column-title-body">tags</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-multi_select"><div class="notion-property-multi_select-item notion-item-orange">tech</div><div class="notion-property-multi_select-item notion-item-pink">observability</div><div class="notion-property-multi_select-item notion-item-orange">profiling</div></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 4.568a.5.5 0 00-.5-.5h-6a.5.5 0 00-.5.5v1.046a.5.5 0 00.5.5h6a.5.5 0 00.5-.5V4.568zM.5 1a.5.5 0 00-.5.5v1.045a.5.5 0 00.5.5h12a.5.5 0 00.5-.5V1.5a.5.5 0 00-.5-.5H.5zM0 8.682a.5.5 0 00.5.5h11a.5.5 0 00.5-.5V7.636a.5.5 0 00-.5-.5H.5a.5.5 0 00-.5.5v1.046zm0 3.068a.5.5 0 00.5.5h9a.5.5 0 00.5-.5v-1.045a.5.5 0 00-.5-.5h-9a.5.5 0 00-.5.5v1.045z"></path></svg><div class="notion-collection-column-title-body">summary</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-text">漫谈就是什么都谈，又好像什么都没谈</span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 13A6 6 0 107 1a6 6 0 000 12zM3.751 5.323A.2.2 0 013.909 5h6.182a.2.2 0 01.158.323L7.158 9.297a.2.2 0 01-.316 0L3.751 5.323z"></path></svg><div class="notion-collection-column-title-body">type</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-select"><div class="notion-property-select-item notion-item-purple">Post</div></span></div></div></div></div><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-8a63738bbb034053aecc722d21296f4e"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:100%;max-width:100%;flex-direction:column;height:100%"><img style="object-fit:contain" src="https://www.notion.so/image/https%3A%2F%2Ffile.notion.so%2Ff%2Fs%2Fba3bcfdb-70e8-4f32-a43c-e73e766b6d71%2Fpersona5.jpeg%3Fid%3D8a63738b-bb03-4053-aecc-722d21296f4e%26table%3Dblock%26spaceId%3Db0a64676-90b9-4734-9c63-2d704ee573b6%26expirationTimestamp%3D1683874529704%26signature%3DoYATEsULGVRH6w716S6D9UmBhyBwm5rVjQygzlr4PPc?table=block&amp;id=8a63738b-bb03-4053-aecc-722d21296f4e&amp;cache=v2" loading="lazy" alt="notion image" decoding="async"/></div></figure><div class="notion-table-of-contents notion-gray notion-block-5baa35ba29014df78acc535c25618622"><a href="#c2124fee14f7434e8ff07011493e806b" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:0">What ?</span></a><a href="#face42b936b945b49f132f1b07d05168" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">Profiling vs Continuous Profiling</span></a><a href="#206bb88933be49679f368558bcc606e7" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">来龙</span></a><a href="#ed9e1ca699764d0eb6deedd2e8828630" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">去脉</span></a><a href="#ff8aa8cb27304cf9b83c7ba73db89db4" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:0">Why ?</span></a><a href="#75952cf6b2114d39b3854bae190044c4" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:0">开源方案</span></a><a href="#3314794fb53c45d5a3a2c663c6c31feb" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">Pyroscope</span></a><a href="#2d043ca42a0a4a579def0858bbd3bd05" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:48px">语言支持</span></a><a href="#08786eb20478421a81fb47dd7bf5b366" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:48px">存储优化</span></a><a href="#37e40bbda9a749daa1a67892cc97d832" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:48px">总结</span></a><a href="#076bbf9997b94a71ab23682052568fc4" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">Parca</span></a><a href="#88491eadc7ff407a9a64160c71a85044" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:48px">eBPF Agent</span></a><a href="#a60e62ba31514a2d899cfa999592dc00" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:48px">Meta Sample 分离存储</span></a><a href="#4c1de643193b4a2fbd6f04e44ebf9978" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:48px">总结</span></a><a href="#f2770103f80e4810bf88b50be6f34f55" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">Phlare</span></a><a href="#bd78b2d100614fbf9dc9dd151a176579" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:48px">水平扩展</span></a><a href="#6418d4f2c11e4b0d9c50138a28b47cc0" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:48px">分级存储</span></a><a href="#8e4d8ade7820401ebdcf474902336cc0" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:48px">总结</span></a><a href="#617226dac0924b34adb5c589ea30c6d9" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">Pixie</span></a><a href="#e00ee34fb0844b0d989297233c5e626e" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:0">商业软件</span></a><a href="#6de913a222044b2496063feb21c4ff9e" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">Datadog Continuous Profiler</span></a><a href="#05c52ae909e04cf1899de9f07940e7f1" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:48px">可以细粒度控制 function 展示内容</span></a><a href="#23f4922cd3cd4a3c97f5f3c0def5c118" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:48px">Only My Code 可以聚焦于用户代码</span></a><a href="#6be2086592f947ad9a39f664cbd00cba" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:48px">对比图表直观清晰</span></a><a href="#8b8b5ae4a8bd483092fd8bd09622f708" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:48px">常用的数据聚合快捷入口</span></a><a href="#f427825cc82d402a951d6bbc75022f29" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:48px">Elastic Profiler?</span></a><a href="#8bb6b79be1494abd95fc05375e139b88" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:0">方案选型对抗赛</span></a><a href="#729375fb46d2432a971f3de708f5fa8c" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">推 vs 拉</span></a><a href="#492b9ded6ab74c859f1b670c85082431" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">存算分离 vs 存算一体</span></a><a href="#3b4160403f964f46818d70117d0dd1ec" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">块存储 vs 对象存储</span></a><a href="#61ca23ded6ce4926892710f5dc7049d9" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">eBPF vs Native Language Tools</span></a><a href="#f9474cb377364a1faa740d5276deb613" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">pprof vs OT</span></a><a href="#e6f5bc4ccbe141c492231597ed30f5d1" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:0">总结</span></a></div><h2 class="notion-h notion-h1 notion-h-indent-0 notion-block-c2124fee14f7434e8ff07011493e806b" data-id="c2124fee14f7434e8ff07011493e806b"><span><div id="c2124fee14f7434e8ff07011493e806b" class="notion-header-anchor"></div><a class="notion-hash-link" href="#c2124fee14f7434e8ff07011493e806b" title="What ?"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">What ?</span></span></h2><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-face42b936b945b49f132f1b07d05168" data-id="face42b936b945b49f132f1b07d05168"><span><div id="face42b936b945b49f132f1b07d05168" class="notion-header-anchor"></div><a class="notion-hash-link" href="#face42b936b945b49f132f1b07d05168" title="Profiling vs Continuous Profiling"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">Profiling vs Continuous Profiling</span></span></h3><div class="notion-text notion-block-3cd4891367c4492b84d0108e79327646">相信各位开发老司机都给自己的程序“号过脉”，所以对于 Profiling 一定不陌生，在这里我还是搬一下 Profiling 的定义: </div><blockquote class="notion-quote notion-block-7c482f03931a47a3a6acabc2bf6fdc76">Profiling 是一种性能分析工具，用于确定程序或系统中哪些部分消耗了最多的资源（例如 CPU、内存、磁盘和网络）。它可以帮助开发人员找到性能瓶颈并改进代码。</blockquote><div class="notion-text notion-block-96dd4b4e95ca4598832c12ddeb6ae405">而 Continuous Profiling 就是在这个基础上，增加一个“持续”，也就是在生产环境里定期跑 Profiling 并将数据上报。</div><div class="notion-text notion-block-449915989c90440c869c46c0e8aefbf1">通常开发者手动跑 Profiling 往往是发现了线上代码性能瓶颈后，用工具<b>尝试复现瓶颈</b>，而 Continuous 最大的优势就是：持续意味着贯穿整个程序的完整生命周期，不会漏掉任何一个历史上产生过的异常，能直接从数据中找到“现场”，而不是尝试复现。</div><div class="notion-text notion-block-abb00b4c6d0d41c38afc4fab94df4e48">用一个非常直观的比较就能迅速理解二者的差异：如果 Profiling 最有代表性展示方式是火焰图的话，那么 Continuous Profiling 的表现形式就是带有时序功能的火焰图，你可以在拖动展示、对比不同时刻的火焰图，找到代码在时间维度上的性能变迁。</div><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-12cfaf12fa4049b599e8333b9af2abac"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:100%;max-width:100%;flex-direction:column;height:100%"><img style="object-fit:contain" src="https://www.notion.so/image/https%3A%2F%2Ffile.notion.so%2Ff%2Fs%2F63089862-ccda-4eda-bc70-c6b6b63e3f29%2FUntitled.png%3Fid%3D12cfaf12-fa40-49b5-99e8-333b9af2abac%26table%3Dblock%26spaceId%3Db0a64676-90b9-4734-9c63-2d704ee573b6%26expirationTimestamp%3D1683874529721%26signature%3DHdOQ2QLKnY1x9m8KTN3jQ0qEmxE72HVO-ke7_An96X4?table=block&amp;id=12cfaf12-fa40-49b5-99e8-333b9af2abac&amp;cache=v2" loading="lazy" alt="一个典型的例子" decoding="async"/><figcaption class="notion-asset-caption">一个典型的例子</figcaption></div></figure><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-206bb88933be49679f368558bcc606e7" data-id="206bb88933be49679f368558bcc606e7"><span><div id="206bb88933be49679f368558bcc606e7" class="notion-header-anchor"></div><a class="notion-hash-link" href="#206bb88933be49679f368558bcc606e7" title="来龙"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">来龙</span></span></h3><div class="notion-text notion-block-dfe8cabb47ec4bb5b63c62b5c96c614c">Continuous Profiling 这个概念最早出自 Google 2010 年的研究文章： <a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://research.google/pubs/pub36575/">Google-Wide Profiling</a> 。它虽然没有直接输出可用的工具，但是却给这个理念“打了样”：以较低的开销（～0.01% Overhead) 换取了大量对生产有用的代码状态数据，并且通过类 SQL 的方式查询以定位问题。</div><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-ed9e1ca699764d0eb6deedd2e8828630" data-id="ed9e1ca699764d0eb6deedd2e8828630"><span><div id="ed9e1ca699764d0eb6deedd2e8828630" class="notion-header-anchor"></div><a class="notion-hash-link" href="#ed9e1ca699764d0eb6deedd2e8828630" title="去脉"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">去脉</span></span></h3><div class="notion-text notion-block-dd03b69112404d01b0b226abdfc55d61">转眼到了十多年后，这期间有不少开源或商业软件涌现，但 <a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/open-telemetry/oteps/issues/139">OpenTelemetry 的加入</a>给了 Continuous Profiling 领域一个确定的未来。</div><blockquote class="notion-quote notion-block-635a88233c1445e2afedf2315c50b516">&quot;Four pillars&quot; </blockquote><div class="notion-text notion-block-11cf641a9e2d463c8fca31c7c45ab36e">在 Monitoring, Logging, Tracing 三大支柱的工具链逐渐完善后，Profiling 将成为可观测领域新的支柱。</div><h2 class="notion-h notion-h1 notion-h-indent-0 notion-block-ff8aa8cb27304cf9b83c7ba73db89db4" data-id="ff8aa8cb27304cf9b83c7ba73db89db4"><span><div id="ff8aa8cb27304cf9b83c7ba73db89db4" class="notion-header-anchor"></div><a class="notion-hash-link" href="#ff8aa8cb27304cf9b83c7ba73db89db4" title="Why ?"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">Why ?</span></span></h2><div class="notion-text notion-block-7f1458051efa42e085e7b6771209e858">借用 <a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/open-telemetry/oteps/blob/main/text/profiles/0212-profiling-vision.md#profiling-use-cases">OT Profiling Vision</a> 里列举的一些场景：</div><ul class="notion-list notion-list-disc notion-block-cbc020f0094c4bba8ece9c29b911a3bc"><li>跟踪应用程序的资源利用情况，以了解代码更改、硬件配置更改和临时环境问题如何影响性能</li></ul><ul class="notion-list notion-list-disc notion-block-fa770be690a34f3a8cb6b11545b435e9"><li>理解哪些代码负责消耗资源（例如 CPU、内存、磁盘、网络）</li></ul><ul class="notion-list notion-list-disc notion-block-7dcb3a9eeb364513926b0fb7b1f10ebf"><li>为在生产中运行的一组服务规划资源分配</li></ul><ul class="notion-list notion-list-disc notion-block-211ac4b4a1644bcab9f3e8d5523795bc"><li>比较不同代码版本的配置文件，了解代码如何随时间改进或退化</li></ul><ul class="notion-list notion-list-disc notion-block-498c3037f7224b47a5b0c66fd8e69177"><li>在生产中检测经常使用的和“死”代码</li></ul><ul class="notion-list notion-list-disc notion-block-c7854492820e4509a70e05fe7c870d52"><li>将跟踪跨度分解为代码级粒度（例如函数调用和代码行），以了解该特定单元的性能</li></ul><div class="notion-text notion-block-c93e9981143c48cf96a2d8ec8b784443">简而言之，Continue Profiling 可以帮助开发者掌握代码的“持续生产状态”。对于 DevOps 团队而言，它应该是 CD 后进行持续分析的一部分。</div><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-43e2167daba84f9fadeec2a1df9e27be"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:641px;max-width:100%;flex-direction:column"><img style="object-fit:contain" src="https://www.notion.so/image/https%3A%2F%2Ffile.notion.so%2Ff%2Fs%2Fd7c357f0-60a3-4143-99d7-8bb5e48c4d3c%2Fci_cd_cp.png%3Fid%3D43e2167d-aba8-4f9f-adee-c2a1df9e27be%26table%3Dblock%26spaceId%3Db0a64676-90b9-4734-9c63-2d704ee573b6%26expirationTimestamp%3D1683874529721%26signature%3D7bBHL1oV7367alk6bLIUspn553Uy9aALPo1l8Bfpn7E?table=block&amp;id=43e2167d-aba8-4f9f-adee-c2a1df9e27be&amp;cache=v2" loading="lazy" alt="CI → CD → CP" decoding="async"/><figcaption class="notion-asset-caption">CI → CD → CP</figcaption></div></figure><h2 class="notion-h notion-h1 notion-h-indent-0 notion-block-75952cf6b2114d39b3854bae190044c4" data-id="75952cf6b2114d39b3854bae190044c4"><span><div id="75952cf6b2114d39b3854bae190044c4" class="notion-header-anchor"></div><a class="notion-hash-link" href="#75952cf6b2114d39b3854bae190044c4" title="开源方案"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">开源方案</span></span></h2><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-3314794fb53c45d5a3a2c663c6c31feb" data-id="3314794fb53c45d5a3a2c663c6c31feb"><span><div id="3314794fb53c45d5a3a2c663c6c31feb" class="notion-header-anchor"></div><a class="notion-hash-link" href="#3314794fb53c45d5a3a2c663c6c31feb" title="Pyroscope"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">Pyroscope</span></span></h3><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-a80d3ca9d6bf432d8af5b230ce8e316e"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:100%;max-width:100%;flex-direction:column;height:100%"><img style="object-fit:contain" src="https://www.notion.so/image/https%3A%2F%2Ffile.notion.so%2Ff%2Fs%2Fcbb841eb-f3d2-4eb5-96d9-dbd145229387%2FUntitled.png%3Fid%3Da80d3ca9-d6bf-432d-8af5-b230ce8e316e%26table%3Dblock%26spaceId%3Db0a64676-90b9-4734-9c63-2d704ee573b6%26expirationTimestamp%3D1683874529704%26signature%3DNjQ1Jd_CJa0HY_viEd-PJfAUO0Mozh35AQfP1RRnaDA?table=block&amp;id=a80d3ca9-d6bf-432d-8af5-b230ce8e316e&amp;cache=v2" loading="lazy" alt="架构图" decoding="async"/><figcaption class="notion-asset-caption">架构图</figcaption></div></figure><div class="notion-text notion-block-fd6ad36920ce4430b2d066a3d12a09e9"><a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/grafana/pyroscope">Pyroscope</a> 项目算是这个领域中最热门的种子选手了。相较于其他几个项目有这么几个显著的优势：</div><ul class="notion-list notion-list-disc notion-block-6a16796c51eb45e5b44fd9e272ba3863"><li>UI 清晰美观，功能齐全，可以从官方提供的 <a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://demo.pyroscope.io/">demo</a> 窥见一二</li></ul><ul class="notion-list notion-list-disc notion-block-87f47658ccc64b75bca769bb413ffaad"><li>支持的语言广泛</li></ul><ul class="notion-list notion-list-disc notion-block-e694bbd59cbb4dc288836b8b6e22b6a9"><li>支持<a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/pyroscope-io/otel-profiling-go"> Go\Java 的 Tracer 整合方案</a></li></ul><ul class="notion-list notion-list-disc notion-block-92b2af7fada54185a701bfc665d76ee8"><li>对存储有着额外的优化</li></ul><div class="notion-blank notion-block-6457ad46132e40518094645d0c94e2e0"> </div><div class="notion-text notion-block-a09a185df8f648df83cfd8e98e36473e">下面会针对一些有特点的优势展开说说：</div><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-2d043ca42a0a4a579def0858bbd3bd05" data-id="2d043ca42a0a4a579def0858bbd3bd05"><span><div id="2d043ca42a0a4a579def0858bbd3bd05" class="notion-header-anchor"></div><a class="notion-hash-link" href="#2d043ca42a0a4a579def0858bbd3bd05" title="语言支持"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">语言支持</span></span></h4><div class="notion-text notion-block-e09cda5a8d6d4ec3afc15f038c6bfd37">上面有提到，Pyroscope 对于 pull 和 push 模型都有着完备的支持，最大的原因就是它针对各个语言的采集工具上都做了适配，并封装成了 SDK：</div><ul class="notion-list notion-list-disc notion-block-64ce02c0d80f4c1eb01a3416d04a88ef"><li>Go: pprof</li></ul><ul class="notion-list notion-list-disc notion-block-8aea834ea1b846ab9f572023b699122c"><li>ruby: rbspy</li></ul><ul class="notion-list notion-list-disc notion-block-8d2876d7fc8b451bb9c0ecfb7c873a8e"><li>python: py-spy</li></ul><ul class="notion-list notion-list-disc notion-block-3f1641beb763490f84533125077ae361"><li>Java: async-profiler</li></ul><ul class="notion-list notion-list-disc notion-block-a29951416c6f441c8ba66c56356018ac"><li>php: phpspy</li></ul><ul class="notion-list notion-list-disc notion-block-8d064bb078c14a71bd96dd08a7a7867b"><li>.NET: dotnet trace</li></ul><ul class="notion-list notion-list-disc notion-block-0296b97b1cfa4a8db27265d372f617fc"><li>Rust: pprof-rs</li></ul><div class="notion-text notion-block-00852e1981984a5e9200f1988a79b716">即使部分语言的支持并不完美（例如 <a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/grafana/pyroscope/issues/316">Python 不支持 Memory 数据上报</a>），但鉴于其他项目基本都只支持 Go + pprof，在面临多语言环境时，Pyroscope 基本是开源的唯一选择。</div><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-08786eb20478421a81fb47dd7bf5b366" data-id="08786eb20478421a81fb47dd7bf5b366"><span><div id="08786eb20478421a81fb47dd7bf5b366" class="notion-header-anchor"></div><a class="notion-hash-link" href="#08786eb20478421a81fb47dd7bf5b366" title="存储优化"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title"><b>存储优化</b></span></span></h4><div class="notion-text notion-block-e178846c8fc64ba5a937b10aa103dc65">与其他几个项目还有一个很大的不同，pyroscope 在 profiling 数据的存储上做了额外的优化，开发者专门写了<a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://pyroscope.io/docs/storage-design/">一篇 Blog 介绍了思路</a>。在这里做下简要的介绍并分析。</div><div class="notion-text notion-block-81436e3f7d3e416aae5769ef6d67ed44">首先是借助树和字典树，它针对 Profiling 的重复数据做了压缩。</div><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-9338f096d1654d938c521f62f398c4bd"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:100%;max-width:100%;flex-direction:column;height:100%"><img style="object-fit:contain" src="https://www.notion.so/image/https%3A%2F%2Ffile.notion.so%2Ff%2Fs%2F9e702fd3-af76-4d02-8c0a-a63492cc01aa%2Fstorage.gif%3Fid%3D9338f096-d165-4d93-8c52-1f62f398c4bd%26table%3Dblock%26spaceId%3Db0a64676-90b9-4734-9c63-2d704ee573b6%26expirationTimestamp%3D1683874529704%26signature%3DxAiR8lvzN2-4EC6ppPn1O7R2dIS8M7rzaZbS-IUA5FU?table=block&amp;id=9338f096-d165-4d93-8c52-1f62f398c4bd&amp;cache=v2" loading="lazy" alt="notion image" decoding="async"/></div></figure><div class="notion-text notion-block-59e4348f998e4206bf7bd0023e8a8e87">其次，为了解决长时间跨度数据的查询延迟问题，利用线段树对数据进行了预合并。</div><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-5a0fd51dfc174e8ab3be79d680bc26a5"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:100%;max-width:100%;flex-direction:column;height:100%"><img style="object-fit:contain" src="https://www.notion.so/image/https%3A%2F%2Ffile.notion.so%2Ff%2Fs%2F933febec-2e5c-44e4-ad8a-d18c952064d6%2Fsegment.gif%3Fid%3D5a0fd51d-fc17-4e8a-b3be-79d680bc26a5%26table%3Dblock%26spaceId%3Db0a64676-90b9-4734-9c63-2d704ee573b6%26expirationTimestamp%3D1683874529721%26signature%3DgwwFKH0OKV_V1rs7DOWbruE7rLLBg1XoTuVLVm7lIxc?table=block&amp;id=5a0fd51d-fc17-4e8a-b3be-79d680bc26a5&amp;cache=v2" loading="lazy" alt="notion image" decoding="async"/></div></figure><div class="notion-text notion-block-4e7f4491b1fd4bd0a7c9d949749fa38e">虽然和其他项目一样，它的存储逻辑模型基本依照 <a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/google/pprof/blob/main/proto/profile.proto">pprof 定义</a>，得益于这些优化，它在存储空间和读取延迟上都有更好的表现。但也带来了一些其他的问题：</div><ul class="notion-list notion-list-disc notion-block-dfcfa7b637974d1a8f5e8e0fc601ed68"><li>为了更容易实现这些优化，存储引擎选择了灵活的 K-V 结构内嵌引擎 BadgerDB，也因此失去了更好的水平扩展能力。</li></ul><ul class="notion-list notion-list-disc notion-block-bb062c71c23948d98d568f80d64fabae"><li>在结构落库时需要消耗更多的 CPU 计算，压测时 CPU 更容易出现瓶颈。</li></ul><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-37e40bbda9a749daa1a67892cc97d832" data-id="37e40bbda9a749daa1a67892cc97d832"><span><div id="37e40bbda9a749daa1a67892cc97d832" class="notion-header-anchor"></div><a class="notion-hash-link" href="#37e40bbda9a749daa1a67892cc97d832" title="总结"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">总结</span></span></h4><div class="notion-text notion-block-e976ec5fe5fe45c585fb7ee41d1746db">Pyroscope 绝对是 Profiling 领域的开源种子选手，它的长板很长（语言支持、存储优化等），同时考虑到最近被 <a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://grafana.com/blog/2023/03/15/pyroscope-grafana-phlare-join-for-oss-continuous-profiling/">Grafana Labs 收购</a>，原来的短板恰好是 Grafana 团队擅长处理的，相信等待一段时间的发展，Pyroscope 有潜力成为该领域的<b>开源标准答案</b>。</div><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-076bbf9997b94a71ab23682052568fc4" data-id="076bbf9997b94a71ab23682052568fc4"><span><div id="076bbf9997b94a71ab23682052568fc4" class="notion-header-anchor"></div><a class="notion-hash-link" href="#076bbf9997b94a71ab23682052568fc4" title="Parca"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">Parca</span></span></h3><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-220a046a390c49569d06210dbaaf21db"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:100%;max-width:100%;flex-direction:column;height:150px"><img style="object-fit:contain" src="https://www.notion.so/image/https%3A%2F%2Ffile.notion.so%2Ff%2Fs%2Fce81fb64-8a5f-4466-8745-857180009084%2FParca_Overview.svg%3Fid%3D220a046a-390c-4956-9d06-210dbaaf21db%26table%3Dblock%26spaceId%3Db0a64676-90b9-4734-9c63-2d704ee573b6%26expirationTimestamp%3D1683874529705%26signature%3D__jr-SxYYjZb_w0UU_uAPxLbb3dHQ3v2GxA1VarF1GE?table=block&amp;id=220a046a-390c-4956-9d06-210dbaaf21db&amp;cache=v2" loading="lazy" alt="notion image" decoding="async"/></div></figure><div class="notion-blank notion-block-d81dc4adb7ba4611bea062f04f74ff7f"> </div><div class="notion-text notion-block-1a3c33f64c9e4a63b1e996674a74f62b"><a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/parca-dev/parca/">Parca</a> 项目是由原 Prometheus 团队的开发者开发，带有浓浓的 Prometheus 的味道。相较于其他项目，它也有几个显著的特点：</div><ul class="notion-list notion-list-disc notion-block-67b2a209de734b0dac7aa1615518435f"><li>Agent 完全采用了 ebpf  作为采集方案</li></ul><ul class="notion-list notion-list-disc notion-block-0804f542fd8a45429a71579962335f5b"><li>Profile Meta 和 Profile Sample 使用了两种不同的引擎存储，其中 Sample 存储采用了自研的内嵌列存 <a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/polarsignals/frostdb">FrostDB</a></li></ul><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-88491eadc7ff407a9a64160c71a85044" data-id="88491eadc7ff407a9a64160c71a85044"><span><div id="88491eadc7ff407a9a64160c71a85044" class="notion-header-anchor"></div><a class="notion-hash-link" href="#88491eadc7ff407a9a64160c71a85044" title="eBPF Agent"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">eBPF Agent</span></span></h4><div class="notion-text notion-block-d7cc5e3f224d4df29528e14ea39e56fd">近几年 <a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://ebpf.io/">eBPF</a> 在云原生、可观测领域讨论度很高，相信紧跟热点的各位读者也是早有耳闻，我在这里就不做多的赘述。Parca 最显著的一个特点就是在 Agent 上完全使用 eBPF 来解决问题。以下是一个简化的处理流程：</div><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-2feb672e1a784431a03fcaa90749554e"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:100%;max-width:100%;flex-direction:column;height:100%"><img style="object-fit:contain" src="https://www.notion.so/image/https%3A%2F%2Ffile.notion.so%2Ff%2Fs%2Fc0197489-56d8-4b57-8710-f6b517f8fcba%2FPasted_image_20230113174652.png%3Fid%3D2feb672e-1a78-4431-a03f-caa90749554e%26table%3Dblock%26spaceId%3Db0a64676-90b9-4734-9c63-2d704ee573b6%26expirationTimestamp%3D1683874529705%26signature%3DiDavm6L6nX4C-OwGONgaCBrjeB5RvNHEvpgzbaoBGDs?table=block&amp;id=2feb672e-1a78-4431-a03f-caa90749554e&amp;cache=v2" loading="lazy" alt="notion image" decoding="async"/></div></figure><div class="notion-text notion-block-fcbebe65025c41548496140149b36e9e">在 Profiling 领域，eBPF 的优劣我们会在后面的章节谈到，这里就一笔带过了。</div><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-a60e62ba31514a2d899cfa999592dc00" data-id="a60e62ba31514a2d899cfa999592dc00"><span><div id="a60e62ba31514a2d899cfa999592dc00" class="notion-header-anchor"></div><a class="notion-hash-link" href="#a60e62ba31514a2d899cfa999592dc00" title="Meta Sample 分离存储"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">Meta Sample 分离存储</span></span></h4><div class="notion-text notion-block-2f3a7263aabc473bb644365009281f93">Parca 和其他项目一样，存储的逻辑模型也是依照 pprof 的数据定义，而 pprof 逻辑模型中，按照其不同的特性，可以划分为两类数据：<b>Meta 和 Sample</b>。所谓的分离存储，实际上是讨论：<b>这两类数据是否使用不同的存储引擎。</b></div><table class="notion-simple-table notion-block-12da01c5a71b44e989025837ba513115"><tbody><tr class="notion-simple-table-row notion-block-e7c505e720604348851134b3e8737e6f"><td class="" style="width:120px"><div class="notion-simple-table-cell">类型/特性</div></td><td class="" style="width:120px"><div class="notion-simple-table-cell">具体内容</div></td><td class="" style="width:120px"><div class="notion-simple-table-cell">是否需要计算</div></td><td class="" style="width:120px"><div class="notion-simple-table-cell">数据量级</div></td></tr><tr class="notion-simple-table-row notion-block-e83d4d870fe64139ad9f8afa128ac8e4"><td class="" style="width:120px"><div class="notion-simple-table-cell">Metadata</div></td><td class="" style="width:120px"><div class="notion-simple-table-cell">Function/Mapping/Location 等</div></td><td class="" style="width:120px"><div class="notion-simple-table-cell">很少</div></td><td class="" style="width:120px"><div class="notion-simple-table-cell">较小</div></td></tr><tr class="notion-simple-table-row notion-block-89fa559f828f4751a31052b880e6f8a6"><td class="" style="width:120px"><div class="notion-simple-table-cell">Sample</div></td><td class="" style="width:120px"><div class="notion-simple-table-cell">时序的 Stacktrace</div></td><td class="" style="width:120px"><div class="notion-simple-table-cell">大量合并计算</div></td><td class="" style="width:120px"><div class="notion-simple-table-cell">大</div></td></tr></tbody></table><div class="notion-text notion-block-46e77f4d1a8a4bf2a8b1e8d915ad3311">由于以上特性，二者的读写需求也不同，所以顺其自然的想法就是将其分成不同的引擎存储。</div><table class="notion-simple-table notion-block-17365db1ff864361bf2545e52b8392a6"><tbody><tr class="notion-simple-table-row notion-block-13051b7e3fe24afb9f0f30f9d09ccacd"><td class="" style="width:120px"><div class="notion-simple-table-cell">方式/特性</div></td><td class="" style="width:120px"><div class="notion-simple-table-cell">开发便捷性</div></td><td class="" style="width:120px"><div class="notion-simple-table-cell">后期存储维护性</div></td><td class="" style="width:120px"><div class="notion-simple-table-cell">存储引擎选择空间</div></td></tr><tr class="notion-simple-table-row notion-block-f56ed814e806402a8e05eefd3b153340"><td class="" style="width:120px"><div class="notion-simple-table-cell">统一存放</div></td><td class="" style="width:120px"><div class="notion-simple-table-cell">高</div></td><td class="" style="width:120px"><div class="notion-simple-table-cell">一般</div></td><td class="" style="width:120px"><div class="notion-simple-table-cell">一般</div></td></tr><tr class="notion-simple-table-row notion-block-f8816f65d78846c7bef7c60baf91c49d"><td class="" style="width:120px"><div class="notion-simple-table-cell">分离存放</div></td><td class="" style="width:120px"><div class="notion-simple-table-cell">较低</div></td><td class="" style="width:120px"><div class="notion-simple-table-cell">高</div></td><td class="" style="width:120px"><div class="notion-simple-table-cell">高</div></td></tr></tbody></table><div class="notion-text notion-block-9b3122f2d68544ccb5e4045187dbe25f">相较于后期的维护性，开发便捷性的损失是一次性且短期的，且不分离的情况是不太方便针对二者特性做针对性优化的。所以 Meta / Sample 分离存储，对于服务的“长治久安”有着更好的积极意义。<em>当然 Parca 目前在 Sample 存储上使用的 FrostDB 还未到可以直接生产的阶段，目前仅是 Parca 专用内嵌引擎。</em></div><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-4c1de643193b4a2fbd6f04e44ebf9978" data-id="4c1de643193b4a2fbd6f04e44ebf9978"><span><div id="4c1de643193b4a2fbd6f04e44ebf9978" class="notion-header-anchor"></div><a class="notion-hash-link" href="#4c1de643193b4a2fbd6f04e44ebf9978" title="总结"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">总结</span></span></h4><div class="notion-text notion-block-eb594843a6c64160bc81dddc4ca6bca3">Parca 项目在 Agent 选择和存储设计上有独到之处，虽然在语言支持上比较少（Go 和有限的 Java），但仍旧可以作为方案设计上的重要参考。</div><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-f2770103f80e4810bf88b50be6f34f55" data-id="f2770103f80e4810bf88b50be6f34f55"><span><div id="f2770103f80e4810bf88b50be6f34f55" class="notion-header-anchor"></div><a class="notion-hash-link" href="#f2770103f80e4810bf88b50be6f34f55" title="Phlare"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">Phlare</span></span></h3><div class="notion-row notion-block-9da5ce52ec33408a920005e785402e04"><div class="notion-column notion-block-9c6db133b2f54cad9f644e16783bd111" style="width:calc((100% - (1 * min(32px, 4vw))) * 0.25)"><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-246d23ebb5b340fdb8c534f8b2dbffe6"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:192px;max-width:100%;flex-direction:column"><img style="object-fit:contain" src="https://www.notion.so/image/https%3A%2F%2Ffile.notion.so%2Ff%2Fs%2Fcb2d83a7-b7b5-4e45-8d72-0ac07fce9042%2FUntitled.png%3Fid%3D246d23eb-b5b3-40fd-b8c5-34f8b2dbffe6%26table%3Dblock%26spaceId%3Db0a64676-90b9-4734-9c63-2d704ee573b6%26expirationTimestamp%3D1683874529665%26signature%3D6h58hMwlzrxAbcLDbsbP8xJg2O_DBxvwgYeonBQNhsY?table=block&amp;id=246d23eb-b5b3-40fd-b8c5-34f8b2dbffe6&amp;cache=v2" loading="lazy" alt="notion image" decoding="async"/></div></figure></div><div class="notion-spacer"></div><div class="notion-column notion-block-526b9dadc3e4407a997e91102bf5e51d" style="width:calc((100% - (1 * min(32px, 4vw))) * 0.75)"><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-727db1ff238b48a4831d8797ccfa555e"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:100%;max-width:100%;flex-direction:column;height:100%"><img style="object-fit:contain" src="https://www.notion.so/image/https%3A%2F%2Ffile.notion.so%2Ff%2Fs%2F87cd1ef9-8c30-4c64-8e0f-c2c6aa20da27%2FUntitled.png%3Fid%3D727db1ff-238b-48a4-831d-8797ccfa555e%26table%3Dblock%26spaceId%3Db0a64676-90b9-4734-9c63-2d704ee573b6%26expirationTimestamp%3D1683874529666%26signature%3DC_1MS14vQ7Mo-k35TuWy-dUNWEKObN7tHJOoYmmr9o4?table=block&amp;id=727db1ff-238b-48a4-831d-8797ccfa555e&amp;cache=v2" loading="lazy" alt="notion image" decoding="async"/></div></figure></div><div class="notion-spacer"></div></div><div class="notion-text notion-block-b2293d9a71bc457d8827a793da2c3445"><a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/grafana/phlare">Phlare</a> 是 Grafana Labs 出品的 Profiling 产品，随着 Pyroscope 被收购，Phlare 项目很可能会被直接揉碎，合并到 Pyroscope 中去。即便如此，Phlare 项目仍旧有着不少有意思的亮点：</div><ul class="notion-list notion-list-disc notion-block-0232149f3a7a4cb384aa7e3ae1746c2c"><li>支持 monolithic/microservices 两种启动模式，既能满足快速验证，又能在大规模部署中轻易水平扩展</li></ul><ul class="notion-list notion-list-disc notion-block-23ce3432c80946d493d2262ffc13ff25"><li>数据存储分层，热数据存放在 ingster 的本地块存储中，冷数据发送到远端的对象存储中，总占有成本 TCO 较低（当然是存储空间的，没有考量到对象存储发送带来的带宽成本）</li></ul><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-bd78b2d100614fbf9dc9dd151a176579" data-id="bd78b2d100614fbf9dc9dd151a176579"><span><div id="bd78b2d100614fbf9dc9dd151a176579" class="notion-header-anchor"></div><a class="notion-hash-link" href="#bd78b2d100614fbf9dc9dd151a176579" title="水平扩展"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">水平扩展</span></span></h4><div class="notion-text notion-block-b11bc31a057e44b7a5572a0844f3b0c1">相较于 Parca 和 Pyroscope，Phlare 总算把工程的扩展能力当作重要考量了。要知道前面二者想要水平扩展，无论是想扩展读或者写的能力，都只能将整个进程跑起来，存储走 remote write 的方式，既笨拙又浪费资源，难称优雅。而 Phlare 具备以微服务部署的能力，qureier 和 distrubutor 可以较轻松地水平扩展。</div><ul class="notion-list notion-list-disc notion-block-6ad656e2dd1d402e99076d562540f7d9"><li>在存储上通过一致性哈希解决分片问题</li></ul><ul class="notion-list notion-list-disc notion-block-f642c64176f94b1aa709966cfa0d891b"><li>通过 Gossip 解决分布式选主问题</li></ul><div class="notion-text notion-block-79b9e13d7c284eb78e5005bc2c016d8f">为了更好地理解它是如何工作的，以四个 ingester 和一个位于0和9之间的令牌空间为例（<a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://grafana.com/docs/phlare/latest/operators-guide/architecture/hash-ring/#a-practical-example">来源</a>）：</div><ul class="notion-list notion-list-disc notion-block-0abb44d9585a4ccc824b5ddf30c97fb7"><li>ingester#1在令牌环中注册令牌<code class="notion-inline-code">2</code></li></ul><ul class="notion-list notion-list-disc notion-block-c07c3761d32047ad8eb3adb0487e7652"><li>ingester#2在令牌环中注册令牌<code class="notion-inline-code">4</code></li></ul><ul class="notion-list notion-list-disc notion-block-baa45b6b8f6148cba4455c18a7f7eb4d"><li>ingester#3在令牌环中注册令牌<code class="notion-inline-code">6</code></li></ul><ul class="notion-list notion-list-disc notion-block-eaf4410a5f0b4d5193e5cdf5d2657eb9"><li>ingester#4在令牌环中注册令牌<code class="notion-inline-code">9</code></li></ul><div class="notion-text notion-block-b894ea0988e449af8745088af1efa4a8">当它接收到一个带有 label <code class="notion-inline-code">{</code><code class="notion-inline-code"><b>name</b></code><code class="notion-inline-code">=&quot;process_cpu&quot;, instance=&quot;1.1.1.1&quot;}</code> 的 Profile 数据时，它会将 label 内容进行哈希计算，假如这次计算后的结果是 <code class="notion-inline-code">3</code> 。为了找到对应的 ingester，将会尝试寻找哈希环上 token 值上大于 <code class="notion-inline-code">3</code> 最靠近的一个，即 ingester#2，并认为它将是这份 Profile 的权威数据拥有者。</div><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-418f8f28c28d431c9066d18a902fc56c"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:100%;max-width:100%;flex-direction:column;height:100%"><img style="object-fit:contain" src="https://www.notion.so/image/https%3A%2F%2Ffile.notion.so%2Ff%2Fs%2Fa9b13bb1-7174-46a7-ba2e-98d9804ae94c%2FUntitled.png%3Fid%3D418f8f28-c28d-431c-9066-d18a902fc56c%26table%3Dblock%26spaceId%3Db0a64676-90b9-4734-9c63-2d704ee573b6%26expirationTimestamp%3D1683874529704%26signature%3Dcfl675WGL8CP8Rplpvg57OGBtOKs_2h_NGR1QbWFwLA?table=block&amp;id=418f8f28-c28d-431c-9066-d18a902fc56c&amp;cache=v2" loading="lazy" alt="notion image" decoding="async"/></div></figure><div class="notion-text notion-block-1f2d089073794a2c961af4aafb4d2eeb">此时， Ingester 的副本数设置如果是 3 个，在 ingester#2 被选主后，将继续向后寻找接下来的两个实例，即 ingester#3 &amp; ingester#4，并将数据复制分摊到他们的存储中，以保证数据能够均匀地被复制成多副本来保证高可用。</div><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-b63c5b803d2d46998fd3fc48ed2674f0"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:100%;max-width:100%;flex-direction:column;height:100%"><img style="object-fit:contain" src="https://www.notion.so/image/https%3A%2F%2Ffile.notion.so%2Ff%2Fs%2Fa86cc56a-1126-4d9d-984c-3d1ebd31c01a%2FUntitled.png%3Fid%3Db63c5b80-3d2d-4699-8fd3-fc48ed2674f0%26table%3Dblock%26spaceId%3Db0a64676-90b9-4734-9c63-2d704ee573b6%26expirationTimestamp%3D1683874529704%26signature%3DKRdfC6F2Cm3rnh8cExtADR2SLEPXkI3jg9Ssj5fqZdA?table=block&amp;id=b63c5b80-3d2d-4699-8fd3-fc48ed2674f0&amp;cache=v2" loading="lazy" alt="notion image" decoding="async"/></div></figure><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-6418d4f2c11e4b0d9c50138a28b47cc0" data-id="6418d4f2c11e4b0d9c50138a28b47cc0"><span><div id="6418d4f2c11e4b0d9c50138a28b47cc0" class="notion-header-anchor"></div><a class="notion-hash-link" href="#6418d4f2c11e4b0d9c50138a28b47cc0" title="分级存储"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">分级存储</span></span></h4><div class="notion-text notion-block-1499e616f1614485a163a068227e4b8c">phlare 的存储流程较为复杂，主要分成了三个部分：</div><ul class="notion-list notion-list-disc notion-block-d1982325a2e143df85159efe7f5d819f"><li>head block，ingester 模块获取到数据后不会立即写入到长期存储中，而是首先放在内存</li></ul><ul class="notion-list notion-list-disc notion-block-4098b0b3a6e242e09baa0c03e48c3251"><li>当 head block 大小超限或者超时，会将这些数据写到 ingester 本地磁盘</li></ul><ul class="notion-list notion-list-disc notion-block-2a79cae4a8f74c0ead71e87ac1532eb8"><li>内存和磁盘的数据都将会周期上报到 Long term storage</li></ul><div class="notion-text notion-block-d54af76f9e3540568914ee603bd3f859">这样做的好处显而易见：</div><ul class="notion-list notion-list-disc notion-block-226d9fce607249a896978d3c694c006b"><li>最热的数据将在内存中被访问，速度最快</li></ul><ul class="notion-list notion-list-disc notion-block-a8f0029cb20a4ba3b36156f7b145d2fc"><li>大量的冷数据放到了对象存储，成本更低</li></ul><div class="notion-text notion-block-77b99172e84b45318da712e7b41575f7">但也有些问题，就像上面 <code class="notion-inline-code">read path</code> 中表述的，对象存储中冷数据的读取问题会存在延迟问题，后面在对象存储和块存储的对比环节会稍微展开。</div><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-8e4d8ade7820401ebdcf474902336cc0" data-id="8e4d8ade7820401ebdcf474902336cc0"><span><div id="8e4d8ade7820401ebdcf474902336cc0" class="notion-header-anchor"></div><a class="notion-hash-link" href="#8e4d8ade7820401ebdcf474902336cc0" title="总结"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">总结</span></span></h4><div class="notion-text notion-block-cd1e02de1ac640358de6201ae337a5b5">Phlare 相较于 Parca 和 Pyroscope 增加了更多工程上的探索，它比后两者都更容易在大集群中部署和扩展，但它只支持 pprof Http 端点数据拉取，仅有 Go 能够被较好的支持，这也成了它没法被大规模采用的最大障碍。在 Pyroscope 被收购后，Phlare 的这些工程特点也许会被整合到前者里去，就让我们继续关注接下来会发生什么吧。 </div><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-617226dac0924b34adb5c589ea30c6d9" data-id="617226dac0924b34adb5c589ea30c6d9"><span><div id="617226dac0924b34adb5c589ea30c6d9" class="notion-header-anchor"></div><a class="notion-hash-link" href="#617226dac0924b34adb5c589ea30c6d9" title="Pixie"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">Pixie</span></span></h3><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-df187fd9c3d64b68803fe7015fb83b79"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:100%;max-width:100%;flex-direction:column;height:100%"><img style="object-fit:contain" src="https://www.notion.so/image/https%3A%2F%2Ffile.notion.so%2Ff%2Fs%2F04cb20ca-0d39-4887-90b1-b156b1c5e266%2FPasted_image_20230106143708.png%3Fid%3Ddf187fd9-c3d6-4b68-803f-e7015fb83b79%26table%3Dblock%26spaceId%3Db0a64676-90b9-4734-9c63-2d704ee573b6%26expirationTimestamp%3D1683874529704%26signature%3DVx9nvII45kc5M-epo2kd5-M26agIWlT0i0jxfx0CPeo?table=block&amp;id=df187fd9-c3d6-4b68-803f-e7015fb83b79&amp;cache=v2" loading="lazy" alt="notion image" decoding="async"/></div></figure><div class="notion-text notion-block-32aa0517a8c648a586437c1bd3cd8a4a"><a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/pixie-io/pixie">pixie</a> 实际上并不是一个 Profiling 专用软件，而是一个 K8S 应用的观测工具。除了 Profiling 以外，它还包括了Service 映射、集群资源、应用流量等能力。我们这里仅关注它的 Continuous Profiling 能力。</div><div class="notion-text notion-block-cf8de9121c9649d786a77600dbc8fc13">相较于以上其他开源软件，它又有一些不同的特点：</div><ul class="notion-list notion-list-disc notion-block-e876d5c1fd4f42c9992cdc75dc106cc7"><li><a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://docs.px.dev/reference/pxl/">PxL</a>，用于查询 SQL 不再是 PromQL like 而是 Python 风格</li></ul><ul class="notion-list notion-list-disc notion-block-78fe8bc96a2c4353987bfea9ef58a589"><li>与 K8S 集群绑定较强，不适合部署在物理机的服务</li></ul><ul class="notion-list notion-list-disc notion-block-e49581c5d352403caae0ebd5f1eacb11"><li>底层使用 eBPF 采集数据，编译型语言支持更好</li></ul><ul class="notion-list notion-list-disc notion-block-66c292295b0e4d02b6114870c302d564"><li>仅限于 CPU Profiling</li></ul><div class="notion-text notion-block-1b1638fc5f1a46c09c79c08a66ded20b">由于它在 Profiling 领域着墨不多，功能也相对简单，这里就不做过多展开了。</div><h2 class="notion-h notion-h1 notion-h-indent-0 notion-block-e00ee34fb0844b0d989297233c5e626e" data-id="e00ee34fb0844b0d989297233c5e626e"><span><div id="e00ee34fb0844b0d989297233c5e626e" class="notion-header-anchor"></div><a class="notion-hash-link" href="#e00ee34fb0844b0d989297233c5e626e" title="商业软件"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">商业软件</span></span></h2><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-6de913a222044b2496063feb21c4ff9e" data-id="6de913a222044b2496063feb21c4ff9e"><span><div id="6de913a222044b2496063feb21c4ff9e" class="notion-header-anchor"></div><a class="notion-hash-link" href="#6de913a222044b2496063feb21c4ff9e" title="Datadog Continuous Profiler"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">Datadog Continuous Profiler</span></span></h3><div class="notion-text notion-block-6d22ce30e1e14355b971b895fa8e3775">Datadog 作为可观测的商业 SaaS 产品巨头，推出的 Profiler 产品质量非常高，由于它的闭源性，我们很难分析它具体的技术架构，仅从它产品表现来窥见一二。</div><div class="notion-text notion-block-bb9bbc619d7d45a28291756594c5d74b">以下是一些 Datadog 有别于开源产品的亮眼功能。</div><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-05c52ae909e04cf1899de9f07940e7f1" data-id="05c52ae909e04cf1899de9f07940e7f1"><span><div id="05c52ae909e04cf1899de9f07940e7f1" class="notion-header-anchor"></div><a class="notion-hash-link" href="#05c52ae909e04cf1899de9f07940e7f1" title="可以细粒度控制 function 展示内容"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">可以细粒度控制 function 展示内容</span></span></h4><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-825348739a044914904a996da3771045"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:100%;max-width:100%;flex-direction:column;height:100%"><img style="object-fit:contain" src="https://www.notion.so/image/https%3A%2F%2Ffile.notion.so%2Ff%2Fs%2F4c5de3f5-8b9f-4027-bd50-bab3528a30fe%2FPasted_image_20230209155039.png%3Fid%3D82534873-9a04-4914-904a-996da3771045%26table%3Dblock%26spaceId%3Db0a64676-90b9-4734-9c63-2d704ee573b6%26expirationTimestamp%3D1683874529721%26signature%3D-vy3hJoIP8diVXhc3juz7SIheoj2YcnoRQbHutds7CI?table=block&amp;id=82534873-9a04-4914-904a-996da3771045&amp;cache=v2" loading="lazy" alt="notion image" decoding="async"/></div></figure><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-23f4922cd3cd4a3c97f5f3c0def5c118" data-id="23f4922cd3cd4a3c97f5f3c0def5c118"><span><div id="23f4922cd3cd4a3c97f5f3c0def5c118" class="notion-header-anchor"></div><a class="notion-hash-link" href="#23f4922cd3cd4a3c97f5f3c0def5c118" title="Only My Code 可以聚焦于用户代码"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">Only My Code 可以聚焦于用户代码</span></span></h4><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-61cbf1cb4dee4af1a1a902731bdc2aca"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:100%;max-width:100%;flex-direction:column;height:100%"><img style="object-fit:contain" src="https://www.notion.so/image/https%3A%2F%2Ffile.notion.so%2Ff%2Fs%2F6ed74e04-7843-405b-91cf-8e46321f2378%2FPasted_image_20230209153132.png%3Fid%3D61cbf1cb-4dee-4af1-a1a9-02731bdc2aca%26table%3Dblock%26spaceId%3Db0a64676-90b9-4734-9c63-2d704ee573b6%26expirationTimestamp%3D1683874529704%26signature%3DzajvGMtTGj28JsxlcB6oCDNL39okKR5z2YwE5fT90GQ?table=block&amp;id=61cbf1cb-4dee-4af1-a1a9-02731bdc2aca&amp;cache=v2" loading="lazy" alt="notion image" decoding="async"/></div></figure><div class="notion-blank notion-block-56a944c7a6c14831bd112a0aaa4efd18"> </div><div class="notion-text notion-block-a3251afd1fdf4423b18260b0532ef4da">聚焦前</div><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-df84be5a47574ff1a968281d27c40e08"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:100%;max-width:100%;flex-direction:column;height:100%"><img style="object-fit:contain" src="https://www.notion.so/image/https%3A%2F%2Ffile.notion.so%2Ff%2Fs%2F40bd239c-c278-41f1-b81f-07659d949145%2FPasted_image_20230209161309.png%3Fid%3Ddf84be5a-4757-4ff1-a968-281d27c40e08%26table%3Dblock%26spaceId%3Db0a64676-90b9-4734-9c63-2d704ee573b6%26expirationTimestamp%3D1683874529705%26signature%3DHOV0uJSIMHnmncPWQmxKbC34mbwzyOqtO3PbuqGBtjA?table=block&amp;id=df84be5a-4757-4ff1-a968-281d27c40e08&amp;cache=v2" loading="lazy" alt="notion image" decoding="async"/></div></figure><div class="notion-text notion-block-76583d7e5cc942c7b479b6c41cbda10e">聚焦后</div><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-ce4525d48926433298c980382af68fae"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:100%;max-width:100%;flex-direction:column;height:100%"><img style="object-fit:contain" src="https://www.notion.so/image/https%3A%2F%2Ffile.notion.so%2Ff%2Fs%2Fe9f62ef1-da7f-4ee0-a7c0-a384c94cf72f%2FPasted_image_20230209161312.png%3Fid%3Dce4525d4-8926-4332-98c9-80382af68fae%26table%3Dblock%26spaceId%3Db0a64676-90b9-4734-9c63-2d704ee573b6%26expirationTimestamp%3D1683874529704%26signature%3DP7Nag5GEi1jbSD8VIBy4wjq-rTV_gISNPR6uziBxUwQ?table=block&amp;id=ce4525d4-8926-4332-98c9-80382af68fae&amp;cache=v2" loading="lazy" alt="notion image" decoding="async"/></div></figure><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-6be2086592f947ad9a39f664cbd00cba" data-id="6be2086592f947ad9a39f664cbd00cba"><span><div id="6be2086592f947ad9a39f664cbd00cba" class="notion-header-anchor"></div><a class="notion-hash-link" href="#6be2086592f947ad9a39f664cbd00cba" title="对比图表直观清晰"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">对比图表直观清晰</span></span></h4><div class="notion-text notion-block-05d48bad82094e39a91a2c1ef173bdad">对比视图，通过颜色能够清晰获取不同时间的代码内存申请的异同。火焰图表现：</div><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-e357cd64c9ea4f5c89f215397a2b2ad1"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:100%;max-width:100%;flex-direction:column;height:100%"><img style="object-fit:contain" src="https://www.notion.so/image/https%3A%2F%2Ffile.notion.so%2Ff%2Fs%2Fa0575373-99e8-42b4-afcf-0dd78c65b4b1%2FPasted_image_20230209162221.png%3Fid%3De357cd64-c9ea-4f5c-89f2-15397a2b2ad1%26table%3Dblock%26spaceId%3Db0a64676-90b9-4734-9c63-2d704ee573b6%26expirationTimestamp%3D1683874529721%26signature%3DeMNqIHVZK_TDZBYNe77oaNpro04MIWObcBdh6AYz6PU?table=block&amp;id=e357cd64-c9ea-4f5c-89f2-15397a2b2ad1&amp;cache=v2" loading="lazy" alt="notion image" decoding="async"/></div></figure><div class="notion-text notion-block-e429a496ce9e4014ac37fe95a77c287d">表格表现：</div><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-3461c9b11c574bec91b344d2aee67f7e"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:100%;max-width:100%;flex-direction:column;height:100%"><img style="object-fit:contain" src="https://www.notion.so/image/https%3A%2F%2Ffile.notion.so%2Ff%2Fs%2F82b8c0ac-0516-4a8b-b09b-b0bf1fa7650a%2FPasted_image_20230209162359.png%3Fid%3D3461c9b1-1c57-4bec-91b3-44d2aee67f7e%26table%3Dblock%26spaceId%3Db0a64676-90b9-4734-9c63-2d704ee573b6%26expirationTimestamp%3D1683874529705%26signature%3Ds60oFYxvCUgwWz4YS0TQ0naZGz568CQNKwkMnQhfqJk?table=block&amp;id=3461c9b1-1c57-4bec-91b3-44d2aee67f7e&amp;cache=v2" loading="lazy" alt="notion image" decoding="async"/></div></figure><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-8b8b5ae4a8bd483092fd8bd09622f708" data-id="8b8b5ae4a8bd483092fd8bd09622f708"><span><div id="8b8b5ae4a8bd483092fd8bd09622f708" class="notion-header-anchor"></div><a class="notion-hash-link" href="#8b8b5ae4a8bd483092fd8bd09622f708" title="常用的数据聚合快捷入口"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">常用的数据聚合快捷入口</span></span></h4><div class="notion-text notion-block-52903829b2e04913991e5f34fc31163b">在 CPU 数据上，已经根据不同纬度提供了聚合计算快捷入口。</div><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-d6be32cedf584312ab16bc40d0a7a85d"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:100%;max-width:100%;flex-direction:column;height:100%"><img style="object-fit:contain" src="https://www.notion.so/image/https%3A%2F%2Ffile.notion.so%2Ff%2Fs%2F6b7742fe-f526-4231-b30a-158b52a32c2f%2FPasted_image_20230209161756.png%3Fid%3Dd6be32ce-df58-4312-ab16-bc40d0a7a85d%26table%3Dblock%26spaceId%3Db0a64676-90b9-4734-9c63-2d704ee573b6%26expirationTimestamp%3D1683874529704%26signature%3DLRUellVUO4c7Bp9b2bAX_rasu0EZTgi8R4Z0Ej6Vy_4?table=block&amp;id=d6be32ce-df58-4312-ab16-bc40d0a7a85d&amp;cache=v2" loading="lazy" alt="notion image" decoding="async"/></div></figure><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-f427825cc82d402a951d6bbc75022f29" data-id="f427825cc82d402a951d6bbc75022f29"><span><div id="f427825cc82d402a951d6bbc75022f29" class="notion-header-anchor"></div><a class="notion-hash-link" href="#f427825cc82d402a951d6bbc75022f29" title="Elastic Profiler?"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">Elastic Profiler?</span></span></h4><div class="notion-text notion-block-c744f64c2bc14c55a785e406e8da5508">实话实说，实际上在本文写成的时候，笔者尚未体验过 Elastic Profiler ，这里就暂不置评，留空日后补充。</div><h2 class="notion-h notion-h1 notion-h-indent-0 notion-block-8bb6b79be1494abd95fc05375e139b88" data-id="8bb6b79be1494abd95fc05375e139b88"><span><div id="8bb6b79be1494abd95fc05375e139b88" class="notion-header-anchor"></div><a class="notion-hash-link" href="#8bb6b79be1494abd95fc05375e139b88" title="方案选型对抗赛"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">方案选型对抗赛</span></span></h2><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-729375fb46d2432a971f3de708f5fa8c" data-id="729375fb46d2432a971f3de708f5fa8c"><span><div id="729375fb46d2432a971f3de708f5fa8c" class="notion-header-anchor"></div><a class="notion-hash-link" href="#729375fb46d2432a971f3de708f5fa8c" title="推 vs 拉"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">推 vs 拉</span></span></h3><div class="notion-text notion-block-388f9c2043f6486f9c7adc9ccdb3170f">在可观测领域，数据获取的方向一直是热议的话题，Profiling 也不例外。以下是概要性的对比：</div><table class="notion-simple-table notion-block-ea137915745a434bbb652864ecfde965"><tbody><tr class="notion-simple-table-row notion-block-82667e4945fb4f70b3d9f9ef238421ea"><td class="" style="width:120px"><div class="notion-simple-table-cell">对比特性</div></td><td class="" style="width:333px"><div class="notion-simple-table-cell">pull</div></td><td class="" style="width:355px"><div class="notion-simple-table-cell">push</div></td></tr><tr class="notion-simple-table-row notion-block-e9ae2ae75d1f4c10a77f52574fb72731"><td class="" style="width:120px"><div class="notion-simple-table-cell">配置方式</div></td><td class="" style="width:333px"><div class="notion-simple-table-cell">原生中心化配置</div></td><td class="" style="width:355px"><div class="notion-simple-table-cell">端上配置，通过配置中心支持中心化</div></td></tr><tr class="notion-simple-table-row notion-block-ea7924fe40b346ea8a717f8f229cb652"><td class="" style="width:120px"><div class="notion-simple-table-cell">监控对象发现</div></td><td class="" style="width:333px"><div class="notion-simple-table-cell">依赖服务发现机制</div></td><td class="" style="width:355px"><div class="notion-simple-table-cell">由应用、Agent自主上报，无需服务发现模块</div></td></tr><tr class="notion-simple-table-row notion-block-77257cf2d83b4d5ca698562af2ed67ad"><td class="" style="width:120px"><div class="notion-simple-table-cell">部署方式</div></td><td class="" style="width:333px"><div class="notion-simple-table-cell">应用暴露端口，接入服务发现，原生支持Pull协议</div></td><td class="" style="width:355px"><div class="notion-simple-table-cell">1. Agent 统一代理抓取 2. 应用主动推送到监控系统</div></td></tr><tr class="notion-simple-table-row notion-block-e078d02aa86d4c26971682754e03ad7f"><td class="" style="width:120px"><div class="notion-simple-table-cell">指标获取灵活性</div></td><td class="" style="width:333px"><div class="notion-simple-table-cell">On Demand按需获取</div></td><td class="" style="width:355px"><div class="notion-simple-table-cell">被动接受，需要一些过滤器额外支持</div></td></tr><tr class="notion-simple-table-row notion-block-cc1d665f152f41d9badf3845818e3216"><td class="" style="width:120px"><div class="notion-simple-table-cell">应用耦合性</div></td><td class="" style="width:333px"><div class="notion-simple-table-cell">应用与监控系统解耦，应用无需关心对端地址、错误处理等</div></td><td class="" style="width:355px"><div class="notion-simple-table-cell">与应用代码耦合</div></td></tr><tr class="notion-simple-table-row notion-block-d0a2485b01dd4219890271c7def50da1"><td class="" style="width:120px"><div class="notion-simple-table-cell">安全性保证</div></td><td class="" style="width:333px"><div class="notion-simple-table-cell">工作量大，需要保证应用暴露端口的安全性，容易被DDos攻击或者出现数据泄露</div></td><td class="" style="width:355px"><div class="notion-simple-table-cell">难度低，ingest 接口交互一般都有鉴权控制</div></td></tr></tbody></table><div class="notion-text notion-block-d621544513cb43a3820e4504d27ff671">与 Prometheus 稍有不同的是，Continuous Profiling 基本不存在短任务数据上报的场景——既然都是 <em><b>Continuous</b></em> 了，那肯定不短，所以 pull 场景中最大的短板——难以适配短任务——基本不存在了。同时，由于 Go 语言是该领域的绝对“第一公民”，其标准库就支持的 pprof 模块能够以极低的开发成本添加 pprof HTTP 端点，所以三大开源软件在 pull 方向的支持上都是完备的，而 push 方向除了 pyroscope，其他项目均有不同程度的“残缺”。<b>考虑到 OT 和其他语言工具转换 pprof 的进度，这种“重 pull 轻 push” 的现象仍将在 Profiling 领域持续一段时间。</b></div><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-492b9ded6ab74c859f1b670c85082431" data-id="492b9ded6ab74c859f1b670c85082431"><span><div id="492b9ded6ab74c859f1b670c85082431" class="notion-header-anchor"></div><a class="notion-hash-link" href="#492b9ded6ab74c859f1b670c85082431" title="存算分离 vs 存算一体"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">存算分离 vs 存算一体</span></span></h3><div class="notion-text notion-block-b848417ccee74127b14a99e0b1b45381">Profiling 项目最大的技术难点就是如何处理存储，这也是可观测领域一直以来的重点。其中存算分离和存算一体的选择，决定了存储引擎乃至整个产品的形态。</div><div class="notion-text notion-block-02a9cf6c699b49c08d89833a0dfe2d91">在我们上面分享的几个开源产品中，它们无一例外都选择了内嵌式——也就是存算一体的方式，无论是性能较好、灵活度较高、但缺少水平扩容的 BadgerDB，还是列存 FrostDB，存取逻辑都是和计算进程绑定在一起。</div><div class="notion-text notion-block-ccd3f17c24424a33909e5866f78bccaa">在我看来，产品的服务形态是存算分离与否的决定性因素。</div><table class="notion-simple-table notion-block-103b930472654b0f9fb20767b10bf256"><tbody><tr class="notion-simple-table-row notion-block-c66eb9f03c8744ca9be5f27287d5599d"><td class="" style="width:177px"><div class="notion-simple-table-cell">服务形态/存储类型</div></td><td class="" style="width:222.3671875px"><div class="notion-simple-table-cell">选择存算一体（内嵌存储引擎）</div></td><td class="" style="width:307px"><div class="notion-simple-table-cell">选择存算分离（分布式存储服务）</div></td></tr><tr class="notion-simple-table-row notion-block-6d6a9274483e4056b926d13283b0887d"><td class="" style="width:177px"><div class="notion-simple-table-cell">OSS</div></td><td class="" style="width:222.3671875px"><div class="notion-simple-table-cell">● 少依赖，易部署 👍<!-- -->
<!-- -->● 针对性优化灵活 👍</div></td><td class="" style="width:307px"><div class="notion-simple-table-cell">● 额外依赖，数据优化灵活度低 👎</div></td></tr><tr class="notion-simple-table-row notion-block-a23fb04728ea49a3b40222e9a59adaf4"><td class="" style="width:177px"><div class="notion-simple-table-cell">SaaS</div></td><td class="" style="width:222.3671875px"><div class="notion-simple-table-cell">● 扩展、灾备方案不完善 👎</div></td><td class="" style="width:307px"><div class="notion-simple-table-cell">● 将状态向存储侧转移，组件复杂度相对低 👍<!-- -->
<!-- -->● 针对性优化难度稍高 👎</div></td></tr></tbody></table><div class="notion-text notion-block-62231d19391d4f3296212a660cdba8dc">总而言之，产品的服务形态将很大程度上决定存储的模式。如果是偏向于 OSS 分发，选内嵌存储，如果是以 SaaS 服务为主，选专用的分布式 DBMS。当然，从具体的工程实现来说，完全可以在存储上加一个可插拔的抽象层，以适配不同的服务形态，类似<a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/grafana/pyroscope/issues/169">这里的讨论</a>。</div><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-3b4160403f964f46818d70117d0dd1ec" data-id="3b4160403f964f46818d70117d0dd1ec"><span><div id="3b4160403f964f46818d70117d0dd1ec" class="notion-header-anchor"></div><a class="notion-hash-link" href="#3b4160403f964f46818d70117d0dd1ec" title="块存储 vs 对象存储"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">块存储 vs 对象存储</span></span></h3><div class="notion-text notion-block-b43f05718b4344848f23b06d6607b0f5">在存储领域，块存储和对象存储都是非常常见的方式。</div><div class="notion-text notion-block-8d19018ac43d474f9362f09988de282f">块存储（Block Storage）是将存储数据分为固定大小的块进行存储，适合于需要低延迟、高性能、高可用的场景，如数据库、虚拟机、容器等。块存储一般使用本地存储或网络存储，操作系统可以使用块设备访问。<b>缺点在于扩展性差、价格相较于对象存储更贵，不适合存储海量数据。</b></div><div class="notion-text notion-block-d4b9131a579341c2bf44c7089c85d8f2">对象存储（Object Storage）则是将数据存储为对象，每个对象都有唯一的标识符（URI），将数据分散到多个节点上，通过分布式算法实现高可用和容错，适合于海量数据存储和分布式存储。<b>缺点在于读写性能较差，不适合要求低延迟和高性能的场景。</b></div><div class="notion-text notion-block-c53f4d3ed9774473be313ce3ed0167d6">在实际 Profiling 场景下，通常会有两部分数据：</div><ul class="notion-list notion-list-disc notion-block-74a5923f88d349b48cd321ea183f933d"><li>近期需要频繁访问的短期热数据</li></ul><ul class="notion-list notion-list-disc notion-block-d51f46b186184f60971be1e4f1b4a84c"><li>可能会存在较长时间的冷数据</li></ul><div class="notion-text notion-block-ea3ea48573b14580912e18fdf355f83e">从原理上来说，热、冷数据应该分别存放到块存储和对象存储中，类似上面提到的 Phlare 方案，而不是一股脑放到块存储（Pyroscope OSS 的做法）或者全部放到对象存储（好像也没人这么做）。</div><div class="notion-text notion-block-4e155dd05728429dbb54cf449f36f32a">即使 Phlare 的方案看起来很合理，但它依旧是内嵌型存储，目前还没有一个比较成熟的分布式 DBMS 支持这样的特性。Pyroscope 在其云服务中也放弃了原来的内嵌式 K-V 存储，而转向了借用 Parquet 的分布式存储 <a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/grafana/tempo">Tempo </a>方案（来自其 <a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://pyroscope.io/blog/introducing-pyroscope-cloud/#pyroscope-clouds-major-scaling-improvements">blog</a>），在保证后端存储针对性优化的同时，利用类似 Thanos objstore 的方案实现了利用对象存储的扩展能力，遗憾的是尚未将这部分代码开源，也无法研究其内部细节了。</div><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-61ca23ded6ce4926892710f5dc7049d9" data-id="61ca23ded6ce4926892710f5dc7049d9"><span><div id="61ca23ded6ce4926892710f5dc7049d9" class="notion-header-anchor"></div><a class="notion-hash-link" href="#61ca23ded6ce4926892710f5dc7049d9" title="eBPF vs Native Language Tools"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">eBPF vs N<b>ative Language Tools</b></span></span></h3><div class="notion-text notion-block-c74106429e6746d48c0d243219f77262">Profier 是 Profiling 数据来源的基础，上述不少产品中都采用了 eBPF 作为采集方案，那么是否只要使用了 eBPF 就代表着开销更小、数据更全呢？并不全是，Pyroscope 的<a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://pyroscope.io/blog/ebpf-profiling-pros-cons/">这篇 blog</a> 给了我们一个比较客观的对比。首先从数据来源的层级来看，可以将 Profiler 分为两类：</div><ul class="notion-list notion-list-disc notion-block-2486291cacb54336a7b3d00c59ba61bb"><li>用户态: 流行的性能分析工具，如pprof，async-profiler，rbspy，py-spy，pprof-rs，dotnet-trace等，都在这个层面上运行。</li></ul><ul class="notion-list notion-list-disc notion-block-cc608e8d11a94510b0d85765738cc08d"><li>内核态: 基于 eBPF 的各种 Profiler 封装和 Linux perf 工具可以从内核获取整个系统的堆栈跟踪</li></ul><div class="notion-text notion-block-27b555bb81b74efbbbd319ee0956c182">由于数据来源的层级不同，它们各有长短。</div><div class="notion-text notion-block-a21e473e284143dc8f1e21e7f2898bce">对于用户态的工具而言：</div><ul class="notion-list notion-list-disc notion-block-e5f17aa7468e4e4cb1bd067e98010fb1"><li>可以非常灵活的标记用户的应用代码（例如 标记 spans, controllers, functions）👍</li></ul><ul class="notion-list notion-list-disc notion-block-60e8ba7403374f2f95b23dd1deda2d43"><li>能够分析代码的各个特定部分（例如 Lambda 函数、测试套件、脚本）👍</li></ul><ul class="notion-list notion-list-disc notion-block-6d8c92280f8c4f2c858252cceb2330cd"><li>有着更容易分析其他类型数据的能力（例如内存、goroutines）👍</li></ul><ul class="notion-list notion-list-disc notion-block-7185f4e5505040a9b70cbc9b6d0586b4"><li>本地开发十分便捷，容易使用 👍</li></ul><ul class="notion-list notion-list-disc notion-block-14f40af546844a22b9581691963d3dff"><li>复杂，如果一个系统是多语言的，很难获取一个全局视图 👎</li></ul><ul class="notion-list notion-list-disc notion-block-83f7faf9e12a46288737717d197ad0ca"><li>对于基建元信息的标识能力有限（例如 Kubernetes） 👎</li></ul><div class="notion-text notion-block-79a3017bebf8405b8f0be94e1d92e4be">对于内核态的工具而言：</div><ul class="notion-list notion-list-disc notion-block-1f1d13c96ca2484a8e078597707b2475"><li>非常容易就能获取到跨语言的全局视图 👍</li></ul><ul class="notion-list notion-list-disc notion-block-26ab1028fe7249a4a9e6504e3bf3c352"><li>很容易对基建元信息进行标识能力有限（例如 Kubernetes Pods） 👍</li></ul><ul class="notion-list notion-list-disc notion-block-f7463e7683aa4a21b51d345eac377ccc"><li>所有语言在符号化上都是一致的 👍</li></ul><ul class="notion-list notion-list-disc notion-block-19b0ebf4ad92472bb1fb6172b5f132bb"><li>对 Linux 内核版本有要求 👎</li></ul><ul class="notion-list notion-list-disc notion-block-a024146a8f434abca61e3ecbfa2e12a4"><li>用户层级的代码比较难标记 👎</li></ul><ul class="notion-list notion-list-disc notion-block-f6e331e183a04959bb90aae07cfbf1af"><li>内存、goroutines 很难获取对应数据 👎</li></ul><ul class="notion-list notion-list-disc notion-block-dd0cbd1001384d5d839250796d1e0c02"><li>开发者想在本地开发比较困难 👎</li></ul><ul class="notion-list notion-list-disc notion-block-4d8582b254cf4fc686ef241d0a9f906d"><li>解释器型的语言获取的信息较为有限 👎</li></ul><div class="notion-text notion-block-401e72b99a914b33b3e6ec8a90f21a9f">简单来说，这两种方案的方向是反的：自下而上和自上而下，它们的数据信息理应做到互相补充，现阶段仅有 Pyroscope 对它做了<a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://pyroscope.io/blog/ebpf-profiling-pros-cons/#pyroscopes-solution-merge-ebpf-profiling-and-native-language-profiling">有限的整合优化</a>，需要进一步关注进展。</div><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-f9474cb377364a1faa740d5276deb613" data-id="f9474cb377364a1faa740d5276deb613"><span><div id="f9474cb377364a1faa740d5276deb613" class="notion-header-anchor"></div><a class="notion-hash-link" href="#f9474cb377364a1faa740d5276deb613" title="pprof vs OT"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">pprof vs OT</span></span></h3><div class="notion-text notion-block-23659b2844e64076bc6ed9707a300a32">pprof 本身是一个开源的性能分析工具套件，它可以抓取并组装 CPU、内存、goroutine 等性能数据，并且通过配套的工具可以生成各种可视化视图，例如火焰图、调用图等。</div><div class="notion-text notion-block-75537ccbfc254c6bb85a51b392657ed4">同时 pprof 也定义了相关的 Profile 数据格式，<a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/google/pprof/blob/main/proto/profile.proto">以 Protocol Buffers 呈现</a>。它由一系列的记录 Sample 组成：包含了函数调用堆栈以及相应的计数器值。</div><div class="notion-text notion-block-80509e2702df445ba67615834a7e3a04">以下讨论的 pprof 指的是<b>其代表的数据格式。</b></div><div class="notion-text notion-block-08845340169643afa381ddd55b7ec206">可以通过<a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/DataDog/go-profiler-notes/blob/18fd7f410e681d4b43c9afb403a4bdf23af29f99/examples/cpu/pprof.samples.cpu.001.pprof.txt#L1">它的文本表达示例</a>或者下面这张图理解其中的关联关系（除了 Stacktrace 是额外抽象出来的中间表）</div><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-5e17dafb13e44533b6adeb6703c1e3e1"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:100%;max-width:100%;flex-direction:column;height:100%"><img style="object-fit:contain" src="https://www.notion.so/image/https%3A%2F%2Ffile.notion.so%2Ff%2Fs%2Fa436eddf-7b62-4cff-b8ed-d0b14037d1ca%2FUntitled.png%3Fid%3D5e17dafb-13e4-4533-b6ad-eb6703c1e3e1%26table%3Dblock%26spaceId%3Db0a64676-90b9-4734-9c63-2d704ee573b6%26expirationTimestamp%3D1683874529721%26signature%3DVLTCE8CYyR34ZojoTaQ6PMaE85gTyauEN2wJo_cIf5k?table=block&amp;id=5e17dafb-13e4-4533-b6ad-eb6703c1e3e1&amp;cache=v2" loading="lazy" alt="基本对齐 pprof 模型的列存数据表，来自 Phlare" decoding="async"/><figcaption class="notion-asset-caption">基本对齐 pprof 模型的列存数据表，来自 Phlare</figcaption></div></figure><div class="notion-text notion-block-1ebdfc01fc724957a1b66a2fd72a5c18">pprof 在设计上是跨语言的，它理应成为一个跨语言标准，但受限于历史的进程，大多数语言的采集工具比它的历史更久，各种工具和采集链已经较为成熟，所以，除了 Go 语言有着极好的 pprof 支持，其他语言都没有成熟的 pprof 格式转换方案（例如<a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/timpalpant/pypprof"> Python 虽然有，但缺乏维护</a>）。这中间的沟壑既给了 Pyroscope 较多的对接工作量，也给 OT 的标准化留足了空间。</div><div class="notion-text notion-block-95b44f9d6fbd4bf59f4830ddf1943ab1">Open Telemetry <a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/open-telemetry/oteps/blob/main/text/profiles/0212-profiling-vision.md">预期将 Profiling 格式做一个标准化</a>，包括了非常多的工作内容：</div><ul class="notion-list notion-list-disc notion-block-375bd97f20a8429a8707024d6ad2b625"><li>尽可能多兼容各种 Profiling 格式</li></ul><ul class="notion-list notion-list-disc notion-block-ce3ccec35cfd4635b51f7297c06ed255"><li>应尽可能高效地传输分析数据，并且制定一个无损的 Profiling 模型，重点在于解析、转码（与其他格式之间的转换）和分析的效率上</li></ul><ul class="notion-list notion-list-disc notion-block-bc9095b196c24f18acb8fba2a90aa6d3"><li>应该可以清晰地映射到标准数据模型（例如 collapsed、pprof、JFR 等）</li></ul><ul class="notion-list notion-list-disc notion-block-71b30cb94448430192956a7417b3b987"><li>应该包含表示其他 OT Signal 之间关系的机制（例如 span 中的调用链）</li></ul><ul class="notion-list notion-list-disc notion-block-af7918c09ff14612a1d645f8f93f5e2d"><li>对于已经流行的 Profiler，保持尽可能小的转换开销</li></ul><div class="notion-text notion-block-54325062d698464f80e678ac3943769a">OT 的愿景是非常美好的，但从可观察的<a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/open-telemetry/opentelemetry-profiling">进展</a>来说，并不是非常顺利，至少距离上一次有效的更新已经过了几个月了。<b>所以，现阶段在没有 OT 标准化格式之前，pprof 仍旧是 Profiling 数据格式为数不多的选择。</b></div><h2 class="notion-h notion-h1 notion-h-indent-0 notion-block-e6f5bc4ccbe141c492231597ed30f5d1" data-id="e6f5bc4ccbe141c492231597ed30f5d1"><span><div id="e6f5bc4ccbe141c492231597ed30f5d1" class="notion-header-anchor"></div><a class="notion-hash-link" href="#e6f5bc4ccbe141c492231597ed30f5d1" title="总结"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">总结</span></span></h2><div class="notion-text notion-block-6bbef891e4134069867bd3006d522efe">Continuous Profiling 是一个不新不旧的领域，有着不大不小的市场，伴随着可观测领域常见的问题。在 OT 标准化前，Pyroscope 算是领先了一个身位，但各产品仍处于百舸争流的阶段，需要 Continuous Focusing 。</div></main></div></article><div class="flex justify-between font-medium text-gray-500 dark:text-gray-400"><a><button class="mt-2 cursor-pointer hover:text-black dark:hover:text-gray-100">← <!-- -->返回</button></a><a><button class="mt-2 cursor-pointer hover:text-black dark:hover:text-gray-100">↑ <!-- -->回到顶部</button></a></div><div></div></main><div class="mt-6 flex-shrink-0 m-auto w-full text-gray-500 dark:text-gray-400 transition-all max-w-3xl px-4"><hr class="border-gray-200 dark:border-gray-600"/><div class="my-4 text-sm leading-6"><div class="flex align-baseline justify-between flex-wrap"><p>© <!-- -->bluesyu<!-- --> <!-- -->2019 - 2023</p><p>powered by <a href="https://github.com/craigary/nobelium"><u>nobelium</u></a></p></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"id":"9faa9c16-825a-40c0-898f-7b9f31c30722","date":{"start_date":"2023-04-12"},"type":["Post"],"slug":"continuous-profiling","tags":["tech","observability","profiling"],"summary":"漫谈就是什么都谈，又好像什么都没谈","title":"Continuous Profiling 持续分析漫谈","status":["Published"],"createdTime":"Wed Jan 04 2023 07:05:08 GMT+0000 (Coordinated Universal Time)","fullWidth":false,"pageIcon":"🃏","pageCover":null},"blockMap":{"block":{"9faa9c16-825a-40c0-898f-7b9f31c30722":{"value":{"id":"9faa9c16-825a-40c0-898f-7b9f31c30722","version":1366,"type":"page","properties":{"NX\\Q":[["‣",[["d",{"type":"date","start_date":"2023-04-12"}]]]],"`gQ~":[["Post"]],"d]hq":[["continuous-profiling"]],"sD^m":[["tech,observability,profiling"]],"wz|S":[["漫谈就是什么都谈，又好像什么都没谈"]],"title":[["Continuous Profiling 持续分析漫谈",[["b"],["b"]]]],"f211bdc0-ee00-4186-9a7d-f68c055ec2ee":[["Published"]]},"content":["8a63738b-bb03-4053-aecc-722d21296f4e","5baa35ba-2901-4df7-8acc-535c25618622","c2124fee-14f7-434e-8ff0-7011493e806b","face42b9-36b9-45b4-9f13-2f1b07d05168","3cd48913-67c4-492b-84d0-108e79327646","7c482f03-931a-47a3-a6ac-abc2bf6fdc76","96dd4b4e-95ca-4598-832c-12ddeb6ae405","44991598-9c90-440c-869c-46c0e8aefbf1","abb00b4c-6d0d-41c3-8afc-4fab94df4e48","12cfaf12-fa40-49b5-99e8-333b9af2abac","206bb889-33be-4967-9f36-8558bcc606e7","dfe8cabb-47ec-4bb5-b63c-62b5c96c614c","ed9e1ca6-9976-4d0e-b6de-edd2e8828630","dd03b691-1240-4d01-b0b2-26abdfc55d61","635a8823-3c14-45e2-afed-f2315c50b516","11cf641a-9e2d-463c-8fca-31c7c45ab36e","ff8aa8cb-2730-4cf9-b83c-7ba73db89db4","7f145805-1efa-42e0-85e7-b6771209e858","cbc020f0-094c-4bba-8ece-9c29b911a3bc","fa770be6-90a3-4f3a-8cb6-b11545b435e9","7dcb3a9e-eb36-4513-926b-0fb7b1f10ebf","211ac4b4-a164-4bca-b9f3-e8d5523795bc","498c3037-f722-4b47-a5b0-c66fd8e69177","c7854492-820e-4509-a70e-05fe7c870d52","c93e9981-143c-48cf-96a2-d8ec8b784443","43e2167d-aba8-4f9f-adee-c2a1df9e27be","75952cf6-b211-4d39-b385-4bae190044c4","3314794f-b53c-45d5-a3a2-c663c6c31feb","a80d3ca9-d6bf-432d-8af5-b230ce8e316e","fd6ad369-20ce-4430-b2d0-66a3d12a09e9","6a16796c-51eb-45e5-b44f-d9e272ba3863","87f47658-ccc6-4b75-bca7-69bb413ffaad","e694bbd5-9cbb-4dc2-8883-6b8b6e22b6a9","92b2af7f-ada5-4185-a701-bfc665d76ee8","6457ad46-132e-4051-8094-645d0c94e2e0","a09a185d-f8f6-48df-83cf-d8e98e36473e","2d043ca4-2a0a-4a57-9def-0858bbd3bd05","e09cda5a-8d6d-4ec3-afc1-5f038c6bfd37","64ce02c0-d80f-4c1e-b01a-3416d04a88ef","8aea834e-a1b8-46ab-9f57-2023b699122c","8d2876d7-fc8b-451b-b9c0-ecfb7c873a8e","3f1641be-b763-490f-8453-3125077ae361","a2995141-6c6f-441c-8ba6-6c56356018ac","8d064bb0-78c1-4a71-bd96-dd08a7a7867b","0296b97b-1cfa-4a8d-b272-65d372f617fc","00852e19-8198-4a5e-9200-f1988a79b716","08786eb2-0478-421a-81fb-47dd7bf5b366","e178846c-8fc6-4ba5-a937-b10aa103dc65","81436e3f-7d3e-416a-ae57-69ef6d67ed44","9338f096-d165-4d93-8c52-1f62f398c4bd","59e4348f-998e-4206-bf7b-d0023e8a8e87","5a0fd51d-fc17-4e8a-b3be-79d680bc26a5","4e7f4491-b1fd-4bd0-a7c9-d949749fa38e","dfcfa7b6-3797-4d1a-8f5e-8e0fc601ed68","bb062c71-c239-48d9-8d56-8f80d64fabae","37e40bbd-a9a7-49da-a1a6-7892cc97d832","e976ec5f-e5fe-45c5-85fb-7ee41d1746db","076bbf99-97b9-4a71-ab23-682052568fc4","220a046a-390c-4956-9d06-210dbaaf21db","d81dc4ad-b7ba-4611-bea0-62f04f74ff7f","1a3c33f6-4c9e-4a63-b1e9-96674a74f62b","67b2a209-de73-4b0d-ac7a-a1615518435f","0804f542-fd8a-4542-9a71-579962335f5b","88491ead-c7ff-407a-9a64-160c71a85044","d7cc5e3f-224d-4df2-9528-e14ea39e56fd","2feb672e-1a78-4431-a03f-caa90749554e","fcbebe65-025c-4154-8496-140149b36e9e","a60e62ba-3151-4a2d-899c-fa999592dc00","2f3a7263-aabc-473b-b644-365009281f93","12da01c5-a71b-44e9-8902-5837ba513115","46e77f4d-1a8a-4bf2-a8b1-e8d915ad3311","17365db1-ff86-4361-bf25-45e52b8392a6","9b3122f2-d685-44cc-b5e4-045187dbe25f","4c1de643-193b-4a2f-bd6f-04e44ebf9978","eb594843-a6c6-4160-bc81-dddc4ca6bca3","f2770103-f80e-4810-bf88-b50be6f34f55","9da5ce52-ec33-408a-9200-05e785402e04","b2293d9a-71bc-457d-8827-a793da2c3445","0232149f-3a7a-4cb3-84aa-7e3ae1746c2c","23ce3432-c809-46d4-93d2-262ffc13ff25","bd78b2d1-0061-4fbf-9dc9-dd151a176579","b11bc31a-057e-44b7-a557-2a0844f3b0c1","6ad656e2-dd1d-402e-9907-6d562540f7d9","f642c641-76f9-4b1a-a709-966cfa0d891b","79b9e13d-7c28-4eb7-8e50-05bc2c016d8f","0abb44d9-585a-4ccc-824b-5ddf30c97fb7","c07c3761-d320-47ad-8eb3-adb0487e7652","baa45b6b-8f61-48cb-a445-5c18a7f7eb4d","eaf4410a-5f0b-4d51-93e5-cdf5d2657eb9","b894ea09-88e4-49af-8745-088af1efa4a8","418f8f28-c28d-431c-9066-d18a902fc56c","1f2d0890-7379-4a2c-961a-f4aafb4d2eeb","b63c5b80-3d2d-4699-8fd3-fc48ed2674f0","6418d4f2-c11e-4b0d-9c50-138a28b47cc0","1499e616-f161-4485-a163-a068227e4b8c","d1982325-a2e1-43df-8515-9efe7f5d819f","4098b0b3-a6e2-42e0-9baa-0c03e48c3251","2a79cae4-a8f7-4c0e-ad71-e87ac1532eb8","d54af76f-9e35-4056-8914-ee603bd3f859","226d9fce-6072-49a8-9697-8d3c694c006b","a8f0029c-b20a-4ba3-b361-56f7b145d2fc","77b99172-e84b-4531-8da7-12e7b41575f7","8e4d8ade-7820-401e-bdcf-474902336cc0","cd1e02de-1ac6-4035-8de6-201ae337a5b5","617226da-c092-4b34-adb5-c589ea30c6d9","df187fd9-c3d6-4b68-803f-e7015fb83b79","32aa0517-a8c6-48a5-8643-7c1bd3cd8a4a","cf8de912-1c96-49d7-86a7-7600dbc8fc13","e876d5c1-fd4f-42c9-992c-dc75dc106cc7","78fe8bc9-6a2c-4353-987b-fea9ef58a589","e49581c5-d352-403c-aae0-ebd5f1eacb11","66c29229-5b0e-4d02-b611-4870c302d564","1b1638fc-5f1a-46c0-9c79-c08a66ded20b","e00ee34f-b084-4b0d-9892-97233c5e626e","6de913a2-2204-4b24-9606-3feb21c4ff9e","6d22ce30-e1e1-4355-b971-b895fa8e3775","bb9bbc61-9d7d-45a2-8291-756594c5d74b","05c52ae9-09e0-4cf1-899d-e9f07940e7f1","82534873-9a04-4914-904a-996da3771045","23f4922c-d3cd-4a3c-97f5-f3c0def5c118","61cbf1cb-4dee-4af1-a1a9-02731bdc2aca","56a944c7-a6c1-4831-bd11-2a0aaa4efd18","a3251afd-1fdf-4423-b182-60b0532ef4da","df84be5a-4757-4ff1-a968-281d27c40e08","76583d7e-5cc9-42c7-b479-b6c41cbda10e","ce4525d4-8926-4332-98c9-80382af68fae","6be20865-92f9-47ad-9a39-f664cbd00cba","05d48bad-8209-4e39-a91a-2c1ef173bdad","e357cd64-c9ea-4f5c-89f2-15397a2b2ad1","e429a496-ce9e-4014-ac37-fe95a77c287d","3461c9b1-1c57-4bec-91b3-44d2aee67f7e","8b8b5ae4-a8bd-4830-92fd-8bd09622f708","52903829-b2e0-4913-991e-5f34fc31163b","d6be32ce-df58-4312-ab16-bc40d0a7a85d","f427825c-c82d-402a-951d-6bbc75022f29","c744f64c-2bc1-4c55-a785-e406e8da5508","8bb6b79b-e149-4abd-95fc-05375e139b88","729375fb-46d2-432a-971f-3de708f5fa8c","388f9c20-43f6-486f-9c7a-dc9ccdb3170f","ea137915-745a-434b-bb65-2864ecfde965","d6215445-13cb-43a3-820e-4504d27ff671","492b9ded-6ab7-4c85-9f1b-670c85082431","b848417c-cee7-4127-b14a-99e0b1b45381","02a9cf6c-699b-49c0-8d89-833a0dfe2d91","ccd3f17c-2442-4a33-909e-5866f78bccaa","103b9304-7265-4b0f-9fb2-0767b10bf256","62231d19-391d-4f32-9621-2a660cdba8dc","3b416040-3f96-4f46-818d-70117d0dd1ec","b43f0571-8b43-4484-8f23-b06d6607b0f5","8d19018a-c43d-474f-9362-f09988de282f","d4b9131a-5793-41c2-bf44-c7089c85d8f2","c53f4d3e-d977-4473-be31-3ce3ed0167d6","74a5923f-88d3-49b4-8cd3-21ea183f933d","d51f46b1-8618-4f60-971b-e1e4f1b4a84c","ea3ea485-73b1-4580-912e-18fdf355f83e","4e155dd0-5728-429d-bb54-cf449f36f32a","61ca23de-d6ce-4926-8927-10f5dc7049d9","c7410642-9e67-46d4-8c0d-243219f77262","2486291c-acb5-4336-a7b3-d00c59ba61bb","cc608e8d-11a9-4510-b0d8-5765738cc08d","27b555bb-81b7-4efb-bbd3-19ee0956c182","a21e473e-2841-43dc-8f1e-21e7f2898bce","e5f17aa7-468e-4e4c-b1bd-067e98010fb1","60e8ba74-0337-4f2f-95b2-3dd1deda2d43","6d8c9228-0f8c-4f2c-8582-52cceb2330cd","7185f4e5-5050-40a9-b70c-bc9b6d0586b4","14f40af5-4684-4a22-b958-1691963d3dff","83f7faf9-e12a-4628-8737-717d197ad0ca","79a3017b-ebf8-405b-8f0b-e94e1d92e4be","1f1d13c9-6ca2-484a-8e07-8597707b2475","26ab1028-fe72-49a4-a9e6-504e3bf3c352","f7463e76-83aa-4a21-b51d-345eac377ccc","19b0ebf4-ad92-472b-b1fb-6172b5f132bb","a024146a-8f43-4abc-a61e-3ecbfa2e12a4","f6e331e1-83a0-4959-bb90-aae07cfbf1af","dd0cbd10-0138-4d5d-8392-50796d1e0c02","4d8582b2-54cf-4fc6-86ef-241d0a9f906d","401e72b9-9a91-4b33-b3e6-ec8a90f21a9f","f9474cb3-7736-4a1f-aa74-0d5276deb613","23659b28-44e6-4076-bc6e-d9707a300a32","75537ccb-fc25-4c6b-b85a-51b392657ed4","80509e27-02df-445b-a676-15834a7e3a04","08845340-1696-43af-a381-ddd55b7ec206","5e17dafb-13e4-4533-b6ad-eb6703c1e3e1","1ebdfc01-fc72-4957-a1b6-6a2fd72a5c18","95b44f9d-6fbd-4bf5-9f48-30ddf1943ab1","375bd97f-20a8-429a-8707-024d6ad2b625","ce3ccec3-5cfd-4635-b51f-7297c06ed255","bc9095b1-96c2-4f18-acb8-fba2a90aa6d3","71b30cb9-4448-4301-9295-6a7417b3b987","af7918c0-9ff1-4612-a1d6-45f8f93f5e2d","54325062-d698-464f-80e6-78ac3943769a","e6f5bc4c-cbe1-41c4-9223-1597ed30f5d1","6bbef891-e413-4069-867b-d3006d522efe"],"format":{"page_font":"serif","page_icon":"🃏","page_cover_position":0.5},"created_time":1672815908542,"last_edited_time":1681292584115,"parent_id":"e34bec60-9b02-4ad8-aaf8-83369409cc9f","parent_table":"collection","alive":true,"file_ids":["c145b531-de56-4280-8277-97818d182d57","e6f4bdad-383f-4bcf-a01e-161d3c37bb4e"],"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"a6089909-2d0d-43ef-af93-5e041712e826":{"value":{"id":"a6089909-2d0d-43ef-af93-5e041712e826","version":116,"type":"collection_view_page","view_ids":["065b98d2-d3b4-4dab-8b96-4eb118a3f311"],"collection_id":"e34bec60-9b02-4ad8-aaf8-83369409cc9f","format":{"block_locked":false,"block_locked_by":"2c0e0b01-f59e-4e03-b7b6-7d706eecada3","collection_pointer":{"id":"e34bec60-9b02-4ad8-aaf8-83369409cc9f","table":"collection","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"copied_from_pointer":{"id":"adc3552c-fc73-442a-b504-8d4b1eb0079a","table":"block","spaceId":"ac4cb96d-c8f8-4040-9bb2-868d9fc7f526"}},"permissions":[{"role":"editor","type":"user_permission","user_id":"f594524b-0941-4aea-99a2-9b9304033287"},{"role":"reader","type":"public_permission","added_timestamp":1666006306008}],"created_time":1665993658476,"last_edited_time":1681291806215,"parent_id":"b0a64676-90b9-4734-9c63-2d704ee573b6","parent_table":"space","alive":true,"copied_from":"adc3552c-fc73-442a-b504-8d4b1eb0079a","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"8a63738b-bb03-4053-aecc-722d21296f4e":{"value":{"id":"8a63738b-bb03-4053-aecc-722d21296f4e","version":15,"type":"image","properties":{"size":[["300.4KB"]],"title":[["persona5.jpeg"]],"source":[["https://s3-us-west-2.amazonaws.com/secure.notion-static.com/ba3bcfdb-70e8-4f32-a43c-e73e766b6d71/persona5.jpeg"]]},"format":{"block_width":3463,"display_source":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/ba3bcfdb-70e8-4f32-a43c-e73e766b6d71/persona5.jpeg","block_full_width":false,"block_page_width":true,"block_aspect_ratio":0.3779959572624892,"block_preserve_scale":true},"created_time":1681292569887,"last_edited_time":1681292584115,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"file_ids":["ba3bcfdb-70e8-4f32-a43c-e73e766b6d71"],"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"5baa35ba-2901-4df7-8acc-535c25618622":{"value":{"id":"5baa35ba-2901-4df7-8acc-535c25618622","version":11,"type":"table_of_contents","format":{"block_color":"gray"},"created_time":1681205490982,"last_edited_time":1681292543672,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"c2124fee-14f7-434e-8ff0-7011493e806b":{"value":{"id":"c2124fee-14f7-434e-8ff0-7011493e806b","version":4,"type":"header","properties":{"title":[["What ?"]]},"created_time":1681204036091,"last_edited_time":1681292563434,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"face42b9-36b9-45b4-9f13-2f1b07d05168":{"value":{"id":"face42b9-36b9-45b4-9f13-2f1b07d05168","version":115,"type":"sub_header","properties":{"title":[["Profiling vs Continuous Profiling"]]},"created_time":1681204022631,"last_edited_time":1681207780380,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"3cd48913-67c4-492b-84d0-108e79327646":{"value":{"id":"3cd48913-67c4-492b-84d0-108e79327646","version":545,"type":"text","properties":{"title":[["相信各位开发老司机都给自己的程序“号过脉”，所以对于 Profiling 一定不陌生，在这里我还是搬一下 Profiling 的定义: "]]},"created_time":1681204424276,"last_edited_time":1681207601274,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"7c482f03-931a-47a3-a6ac-abc2bf6fdc76":{"value":{"id":"7c482f03-931a-47a3-a6ac-abc2bf6fdc76","version":6,"type":"quote","properties":{"title":[["Profiling 是一种性能分析工具，用于确定程序或系统中哪些部分消耗了最多的资源（例如 CPU、内存、磁盘和网络）。它可以帮助开发人员找到性能瓶颈并改进代码。"]]},"format":{"quote_size":"large"},"created_time":1681207594447,"last_edited_time":1681207599859,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"96dd4b4e-95ca-4598-832c-12ddeb6ae405":{"value":{"id":"96dd4b4e-95ca-4598-832c-12ddeb6ae405","version":447,"type":"text","properties":{"title":[["而 Continuous Profiling 就是在这个基础上，增加一个“持续”，也就是在生产环境里定期跑 Profiling 并将数据上报。"]]},"created_time":1681207603345,"last_edited_time":1681207833574,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"44991598-9c90-440c-869c-46c0e8aefbf1":{"value":{"id":"44991598-9c90-440c-869c-46c0e8aefbf1","version":823,"type":"text","properties":{"title":[["通常开发者手动跑 Profiling 往往是发现了线上代码性能瓶颈后，用工具"],["尝试复现瓶颈",[["b"]]],["，而 Continuous 最大的优势就是：持续意味着贯穿整个程序的完整生命周期，不会漏掉任何一个历史上产生过的异常，能直接从数据中找到“现场”，而不是尝试复现。"]]},"created_time":1681207838557,"last_edited_time":1681207990334,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"abb00b4c-6d0d-41c3-8afc-4fab94df4e48":{"value":{"id":"abb00b4c-6d0d-41c3-8afc-4fab94df4e48","version":1201,"type":"text","properties":{"title":[["用一个非常直观的比较就能迅速理解二者的差异：如果 Profiling 最有代表性展示方式是火焰图的话，那么 Continuous Profiling 的表现形式就是带有时序功能的火焰图，你可以在拖动展示、对比不同时刻的火焰图，找到代码在时间维度上的性能变迁。"]]},"created_time":1681280429733,"last_edited_time":1681280710113,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"12cfaf12-fa40-49b5-99e8-333b9af2abac":{"value":{"id":"12cfaf12-fa40-49b5-99e8-333b9af2abac","version":88,"type":"image","properties":{"size":[["860.4KB"]],"title":[["Untitled"]],"source":[["https://s3-us-west-2.amazonaws.com/secure.notion-static.com/63089862-ccda-4eda-bc70-c6b6b63e3f29/Untitled.png"]],"caption":[["一个典型的例子"]]},"format":{"block_width":2974,"display_source":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/63089862-ccda-4eda-bc70-c6b6b63e3f29/Untitled.png","block_full_width":false,"block_page_width":true,"block_aspect_ratio":0.5958305312710155,"block_preserve_scale":true},"created_time":1681280725127,"last_edited_time":1681280743058,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"file_ids":["63089862-ccda-4eda-bc70-c6b6b63e3f29"],"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"206bb889-33be-4967-9f36-8558bcc606e7":{"value":{"id":"206bb889-33be-4967-9f36-8558bcc606e7","version":74,"type":"sub_header","properties":{"title":[["来龙"]]},"created_time":1681204424276,"last_edited_time":1681204555044,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"dfe8cabb-47ec-4bb5-b63c-62b5c96c614c":{"value":{"id":"dfe8cabb-47ec-4bb5-b63c-62b5c96c614c","version":1108,"type":"text","properties":{"title":[["Continuous Profiling 这个概念最早出自 Google 2010 年的研究文章： "],["Google-Wide Profiling",[["a","https://research.google/pubs/pub36575/"]]],[" 。它虽然没有直接输出可用的工具，但是却给这个理念“打了样”：以较低的开销（～0.01% Overhead) 换取了大量对生产有用的代码状态数据，并且通过类 SQL 的方式查询以定位问题。"]]},"created_time":1681204443099,"last_edited_time":1681208274610,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"ed9e1ca6-9976-4d0e-b6de-edd2e8828630":{"value":{"id":"ed9e1ca6-9976-4d0e-b6de-edd2e8828630","version":38,"type":"sub_header","properties":{"title":[["去脉"]]},"created_time":1681204447835,"last_edited_time":1681204578571,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"dd03b691-1240-4d01-b0b2-26abdfc55d61":{"value":{"id":"dd03b691-1240-4d01-b0b2-26abdfc55d61","version":544,"type":"text","properties":{"title":[["转眼到了十多年后，这期间有不少开源或商业软件涌现，但 "],["OpenTelemetry 的加入",[["a","https://github.com/open-telemetry/oteps/issues/139"]]],["给了 Continuous Profiling 领域一个确定的未来。"]]},"created_time":1681204580856,"last_edited_time":1681208645778,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"635a8823-3c14-45e2-afed-f2315c50b516":{"value":{"id":"635a8823-3c14-45e2-afed-f2315c50b516","version":6,"type":"quote","properties":{"title":[["\"Four pillars\" "]]},"format":{"quote_size":"large"},"created_time":1681208538967,"last_edited_time":1681208542702,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"11cf641a-9e2d-463c-8fca-31c7c45ab36e":{"value":{"id":"11cf641a-9e2d-463c-8fca-31c7c45ab36e","version":472,"type":"text","properties":{"title":[["在 Monitoring, Logging, Tracing 三大支柱的工具链逐渐完善后，Profiling 将成为可观测领域新的支柱。"]]},"created_time":1681208546742,"last_edited_time":1681208630371,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"ff8aa8cb-2730-4cf9-b83c-7ba73db89db4":{"value":{"id":"ff8aa8cb-2730-4cf9-b83c-7ba73db89db4","version":50,"type":"header","properties":{"title":[["Why ?"]]},"created_time":1681204654554,"last_edited_time":1681205275121,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"7f145805-1efa-42e0-85e7-b6771209e858":{"value":{"id":"7f145805-1efa-42e0-85e7-b6771209e858","version":217,"type":"text","properties":{"title":[["借用 "],["OT Profiling Vision",[["a","https://github.com/open-telemetry/oteps/blob/main/text/profiles/0212-profiling-vision.md#profiling-use-cases"]]],[" 里列举的一些场景："]]},"format":{"quote_size":"large"},"created_time":1681205241610,"last_edited_time":1681205363261,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"cbc020f0-094c-4bba-8ece-9c29b911a3bc":{"value":{"id":"cbc020f0-094c-4bba-8ece-9c29b911a3bc","version":6,"type":"bulleted_list","properties":{"title":[["跟踪应用程序的资源利用情况，以了解代码更改、硬件配置更改和临时环境问题如何影响性能"]]},"created_time":1681205283028,"last_edited_time":1681205306250,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"fa770be6-90a3-4f3a-8cb6-b11545b435e9":{"value":{"id":"fa770be6-90a3-4f3a-8cb6-b11545b435e9","version":2,"type":"bulleted_list","properties":{"title":[["理解哪些代码负责消耗资源（例如 CPU、内存、磁盘、网络）"]]},"format":{"copied_from_pointer":{"id":"c42db843-d042-450c-a0a1-5db1ebc73eba","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1681205306209,"last_edited_time":1681205306250,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"copied_from":"c42db843-d042-450c-a0a1-5db1ebc73eba","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"7dcb3a9e-eb36-4513-926b-0fb7b1f10ebf":{"value":{"id":"7dcb3a9e-eb36-4513-926b-0fb7b1f10ebf","version":2,"type":"bulleted_list","properties":{"title":[["为在生产中运行的一组服务规划资源分配"]]},"format":{"copied_from_pointer":{"id":"7077bde3-a297-4d44-babf-e386b8251e99","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1681205306209,"last_edited_time":1681205306250,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"copied_from":"7077bde3-a297-4d44-babf-e386b8251e99","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"211ac4b4-a164-4bca-b9f3-e8d5523795bc":{"value":{"id":"211ac4b4-a164-4bca-b9f3-e8d5523795bc","version":2,"type":"bulleted_list","properties":{"title":[["比较不同代码版本的配置文件，了解代码如何随时间改进或退化"]]},"format":{"copied_from_pointer":{"id":"9a9af740-3474-46dc-be75-b5d02b6451de","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1681205306209,"last_edited_time":1681205306250,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"copied_from":"9a9af740-3474-46dc-be75-b5d02b6451de","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"498c3037-f722-4b47-a5b0-c66fd8e69177":{"value":{"id":"498c3037-f722-4b47-a5b0-c66fd8e69177","version":2,"type":"bulleted_list","properties":{"title":[["在生产中检测经常使用的和“死”代码"]]},"format":{"copied_from_pointer":{"id":"919407a3-a4af-41c4-86dd-53018b0fbd4a","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1681205306209,"last_edited_time":1681205306250,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"copied_from":"919407a3-a4af-41c4-86dd-53018b0fbd4a","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"c7854492-820e-4509-a70e-05fe7c870d52":{"value":{"id":"c7854492-820e-4509-a70e-05fe7c870d52","version":3,"type":"bulleted_list","properties":{"title":[["将跟踪跨度分解为代码级粒度（例如函数调用和代码行），以了解该特定单元的性能"]]},"format":{"copied_from_pointer":{"id":"59562d01-b2a1-4735-a23d-721388ba9aa9","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1681205306209,"last_edited_time":1681205306250,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"copied_from":"59562d01-b2a1-4735-a23d-721388ba9aa9","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"c93e9981-143c-48cf-96a2-d8ec8b784443":{"value":{"id":"c93e9981-143c-48cf-96a2-d8ec8b784443","version":825,"type":"text","properties":{"title":[["简而言之，Continue Profiling 可以帮助开发者掌握代码的“持续生产状态”。对于 DevOps 团队而言，它应该是 CD 后进行持续分析的一部分。"]]},"created_time":1681205245758,"last_edited_time":1681207245265,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"43e2167d-aba8-4f9f-adee-c2a1df9e27be":{"value":{"id":"43e2167d-aba8-4f9f-adee-c2a1df9e27be","version":56,"type":"image","properties":{"size":[["15.4KB"]],"title":[["ci_cd_cp.png"]],"source":[["https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d7c357f0-60a3-4143-99d7-8bb5e48c4d3c/ci_cd_cp.png"]],"caption":[["CI → CD → CP"]]},"format":{"block_width":641,"block_height":321,"display_source":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d7c357f0-60a3-4143-99d7-8bb5e48c4d3c/ci_cd_cp.png","block_full_width":false,"block_page_width":false,"block_aspect_ratio":0.500780031201248,"block_preserve_scale":true},"created_time":1681205779400,"last_edited_time":1681280765428,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"file_ids":["d7c357f0-60a3-4143-99d7-8bb5e48c4d3c"],"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"75952cf6-b211-4d39-b385-4bae190044c4":{"value":{"id":"75952cf6-b211-4d39-b385-4bae190044c4","version":36,"type":"header","properties":{"title":[["开源方案"]]},"created_time":1681206722425,"last_edited_time":1681269908887,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"3314794f-b53c-45d5-a3a2-c663c6c31feb":{"value":{"id":"3314794f-b53c-45d5-a3a2-c663c6c31feb","version":22,"type":"sub_header","properties":{"title":[["Pyroscope"]]},"created_time":1681208685074,"last_edited_time":1681270999888,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"a80d3ca9-d6bf-432d-8af5-b230ce8e316e":{"value":{"id":"a80d3ca9-d6bf-432d-8af5-b230ce8e316e","version":45,"type":"image","properties":{"size":[["373.1KB"]],"title":[["Untitled"]],"source":[["https://s3-us-west-2.amazonaws.com/secure.notion-static.com/cbb841eb-f3d2-4eb5-96d9-dbd145229387/Untitled.png"]],"caption":[["架构图"]]},"format":{"block_width":720,"display_source":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/cbb841eb-f3d2-4eb5-96d9-dbd145229387/Untitled.png","block_full_width":false,"block_page_width":true,"block_aspect_ratio":0.7696030977734754,"block_preserve_scale":true},"created_time":1681269291140,"last_edited_time":1681269422330,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"file_ids":["cbb841eb-f3d2-4eb5-96d9-dbd145229387"],"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"fd6ad369-20ce-4430-b2d0-66a3d12a09e9":{"value":{"id":"fd6ad369-20ce-4430-b2d0-66a3d12a09e9","version":371,"type":"text","properties":{"title":[["Pyroscope",[["a","https://github.com/grafana/pyroscope"]]],[" 项目算是这个领域中最热门的种子选手了。相较于其他几个项目有这么几个显著的优势："]]},"created_time":1681269297362,"last_edited_time":1681271002746,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"6a16796c-51eb-45e5-b44f-d9e272ba3863":{"value":{"id":"6a16796c-51eb-45e5-b44f-d9e272ba3863","version":263,"type":"bulleted_list","properties":{"title":[["UI 清晰美观，功能齐全，可以从官方提供的 "],["demo",[["a","https://demo.pyroscope.io/"]]],[" 窥见一二"]]},"created_time":1681269329553,"last_edited_time":1681269437930,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"87f47658-ccc6-4b75-bca7-69bb413ffaad":{"value":{"id":"87f47658-ccc6-4b75-bca7-69bb413ffaad","version":141,"type":"bulleted_list","properties":{"title":[["支持的语言广泛"]]},"created_time":1681269392208,"last_edited_time":1681269444216,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"e694bbd5-9cbb-4dc2-8883-6b8b6e22b6a9":{"value":{"id":"e694bbd5-9cbb-4dc2-8883-6b8b6e22b6a9","version":106,"type":"bulleted_list","properties":{"title":[["支持"],[" Go\\Java 的 Tracer 整合方案",[["a","https://github.com/pyroscope-io/otel-profiling-go"]]]]},"created_time":1681269444719,"last_edited_time":1681271696914,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"92b2af7f-ada5-4185-a701-bfc665d76ee8":{"value":{"id":"92b2af7f-ada5-4185-a701-bfc665d76ee8","version":176,"type":"bulleted_list","properties":{"title":[["对存储有着额外的优化"]]},"created_time":1681269467113,"last_edited_time":1681269829834,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"6457ad46-132e-4051-8094-645d0c94e2e0":{"value":{"id":"6457ad46-132e-4051-8094-645d0c94e2e0","version":7,"type":"text","created_time":1681269833440,"last_edited_time":1681269834032,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"a09a185d-f8f6-48df-83cf-d8e98e36473e":{"value":{"id":"a09a185d-f8f6-48df-83cf-d8e98e36473e","version":173,"type":"text","properties":{"title":[["下面会针对一些有特点的优势展开说说："]]},"created_time":1681269809289,"last_edited_time":1681269868596,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"2d043ca4-2a0a-4a57-9def-0858bbd3bd05":{"value":{"id":"2d043ca4-2a0a-4a57-9def-0858bbd3bd05","version":43,"type":"sub_sub_header","properties":{"title":[["语言支持"]]},"created_time":1681269868593,"last_edited_time":1681269873649,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"e09cda5a-8d6d-4ec3-afc1-5f038c6bfd37":{"value":{"id":"e09cda5a-8d6d-4ec3-afc1-5f038c6bfd37","version":804,"type":"text","properties":{"title":[["上面有提到，Pyroscope 对于 pull 和 push 模型都有着完备的支持，最大的原因就是它针对各个语言的采集工具上都做了适配，并封装成了 SDK："]]},"created_time":1681269782224,"last_edited_time":1681270098866,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"64ce02c0-d80f-4c1e-b01a-3416d04a88ef":{"value":{"id":"64ce02c0-d80f-4c1e-b01a-3416d04a88ef","version":2,"type":"bulleted_list","properties":{"title":[["Go: pprof"]]},"created_time":1681270118361,"last_edited_time":1681270118366,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"8aea834e-a1b8-46ab-9f57-2023b699122c":{"value":{"id":"8aea834e-a1b8-46ab-9f57-2023b699122c","version":2,"type":"bulleted_list","properties":{"title":[["ruby: rbspy"]]},"created_time":1681270118361,"last_edited_time":1681270118366,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"8d2876d7-fc8b-451b-b9c0-ecfb7c873a8e":{"value":{"id":"8d2876d7-fc8b-451b-b9c0-ecfb7c873a8e","version":2,"type":"bulleted_list","properties":{"title":[["python: py-spy"]]},"created_time":1681270118361,"last_edited_time":1681270118366,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"3f1641be-b763-490f-8453-3125077ae361":{"value":{"id":"3f1641be-b763-490f-8453-3125077ae361","version":2,"type":"bulleted_list","properties":{"title":[["Java: async-profiler"]]},"created_time":1681270118361,"last_edited_time":1681270118366,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"a2995141-6c6f-441c-8ba6-6c56356018ac":{"value":{"id":"a2995141-6c6f-441c-8ba6-6c56356018ac","version":2,"type":"bulleted_list","properties":{"title":[["php: phpspy"]]},"created_time":1681270118361,"last_edited_time":1681270118366,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"8d064bb0-78c1-4a71-bd96-dd08a7a7867b":{"value":{"id":"8d064bb0-78c1-4a71-bd96-dd08a7a7867b","version":2,"type":"bulleted_list","properties":{"title":[[".NET: dotnet trace"]]},"created_time":1681270118361,"last_edited_time":1681270118366,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"0296b97b-1cfa-4a8d-b272-65d372f617fc":{"value":{"id":"0296b97b-1cfa-4a8d-b272-65d372f617fc","version":2,"type":"bulleted_list","properties":{"title":[["Rust: pprof-rs"]]},"created_time":1681270118361,"last_edited_time":1681270118366,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"00852e19-8198-4a5e-9200-f1988a79b716":{"value":{"id":"00852e19-8198-4a5e-9200-f1988a79b716","version":1197,"type":"text","properties":{"title":[["即使部分语言的支持并不完美（例如 "],["Python 不支持 Memory 数据上报",[["a","https://github.com/grafana/pyroscope/issues/316"]]],["），但鉴于其他项目基本都只支持 Go + pprof，在面临多语言环境时，Pyroscope 基本是开源的唯一选择。"]]},"created_time":1681270288419,"last_edited_time":1681270534346,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"08786eb2-0478-421a-81fb-47dd7bf5b366":{"value":{"id":"08786eb2-0478-421a-81fb-47dd7bf5b366","version":51,"type":"sub_sub_header","properties":{"title":[["存储优化",[["b"]]]]},"created_time":1681269730968,"last_edited_time":1681269877502,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"e178846c-8fc6-4ba5-a937-b10aa103dc65":{"value":{"id":"e178846c-8fc6-4ba5-a937-b10aa103dc65","version":826,"type":"text","properties":{"title":[["与其他几个项目还有一个很大的不同，pyroscope 在 profiling 数据的存储上做了额外的优化，开发者专门写了"],["一篇 Blog 介绍了思路",[["a","https://pyroscope.io/docs/storage-design/"]]],["。在这里做下简要的介绍并分析。"]]},"created_time":1681269742770,"last_edited_time":1681271221880,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"81436e3f-7d3e-416a-ae57-69ef6d67ed44":{"value":{"id":"81436e3f-7d3e-416a-ae57-69ef6d67ed44","version":302,"type":"text","properties":{"title":[["首先是借助树和字典树，它针对 Profiling 的重复数据做了压缩。"]]},"created_time":1681270268098,"last_edited_time":1681270592354,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"9338f096-d165-4d93-8c52-1f62f398c4bd":{"value":{"id":"9338f096-d165-4d93-8c52-1f62f398c4bd","version":53,"type":"image","properties":{"size":[["329.8KB"]],"title":[["storage.gif"]],"source":[["https://s3-us-west-2.amazonaws.com/secure.notion-static.com/9e702fd3-af76-4d02-8c0a-a63492cc01aa/storage.gif"]]},"format":{"block_width":1920,"display_source":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/9e702fd3-af76-4d02-8c0a-a63492cc01aa/storage.gif","block_full_width":false,"block_page_width":true,"block_aspect_ratio":0.5625,"block_preserve_scale":true},"created_time":1681270257676,"last_edited_time":1681270591617,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"file_ids":["9e702fd3-af76-4d02-8c0a-a63492cc01aa"],"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"59e4348f-998e-4206-bf7b-d0023e8a8e87":{"value":{"id":"59e4348f-998e-4206-bf7b-d0023e8a8e87","version":374,"type":"text","properties":{"title":[["其次，为了解决长时间跨度数据的查询延迟问题，利用线段树对数据进行了预合并。"]]},"created_time":1681269647065,"last_edited_time":1681270631467,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"5a0fd51d-fc17-4e8a-b3be-79d680bc26a5":{"value":{"id":"5a0fd51d-fc17-4e8a-b3be-79d680bc26a5","version":12,"type":"image","properties":{"size":[["1136.5KB"]],"title":[["segment.gif"]],"source":[["https://s3-us-west-2.amazonaws.com/secure.notion-static.com/933febec-2e5c-44e4-ad8a-d18c952064d6/segment.gif"]]},"format":{"block_width":1366,"display_source":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/933febec-2e5c-44e4-ad8a-d18c952064d6/segment.gif","block_full_width":false,"block_page_width":true,"block_aspect_ratio":0.5622254758418741,"block_preserve_scale":true},"created_time":1681270683290,"last_edited_time":1681270687480,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"file_ids":["933febec-2e5c-44e4-ad8a-d18c952064d6"],"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"4e7f4491-b1fd-4bd0-a7c9-d949749fa38e":{"value":{"id":"4e7f4491-b1fd-4bd0-a7c9-d949749fa38e","version":883,"type":"text","properties":{"title":[["虽然和其他项目一样，它的存储逻辑模型基本依照 "],["pprof 定义",[["a","https://github.com/google/pprof/blob/main/proto/profile.proto"]]],["，得益于这些优化，它在存储空间和读取延迟上都有更好的表现。但也带来了一些其他的问题："]]},"created_time":1681270631867,"last_edited_time":1681270835980,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"dfcfa7b6-3797-4d1a-8f5e-8e0fc601ed68":{"value":{"id":"dfcfa7b6-3797-4d1a-8f5e-8e0fc601ed68","version":492,"type":"bulleted_list","properties":{"title":[["为了更容易实现这些优化，存储引擎选择了灵活的 K-V 结构内嵌引擎 BadgerDB，也因此失去了更好的水平扩展能力。"]]},"created_time":1681270836268,"last_edited_time":1681270899633,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"bb062c71-c239-48d9-8d56-8f80d64fabae":{"value":{"id":"bb062c71-c239-48d9-8d56-8f80d64fabae","version":403,"type":"bulleted_list","properties":{"title":[["在结构落库时需要消耗更多的 CPU 计算，压测时 CPU 更容易出现瓶颈。"]]},"created_time":1681270900504,"last_edited_time":1681271343875,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"37e40bbd-a9a7-49da-a1a6-7892cc97d832":{"value":{"id":"37e40bbd-a9a7-49da-a1a6-7892cc97d832","version":118,"type":"sub_sub_header","properties":{"title":[["总结"]]},"created_time":1681271007768,"last_edited_time":1681271019631,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"e976ec5f-e5fe-45c5-85fb-7ee41d1746db":{"value":{"id":"e976ec5f-e5fe-45c5-85fb-7ee41d1746db","version":930,"type":"text","properties":{"title":[["Pyroscope 绝对是 Profiling 领域的开源种子选手，它的长板很长（语言支持、存储优化等），同时考虑到最近被 "],["Grafana Labs 收购",[["a","https://grafana.com/blog/2023/03/15/pyroscope-grafana-phlare-join-for-oss-continuous-profiling/"]]],["，原来的短板恰好是 Grafana 团队擅长处理的，相信等待一段时间的发展，Pyroscope 有潜力成为该领域的"],["开源标准答案",[["b"]]],["。"]]},"created_time":1681271007768,"last_edited_time":1681271238993,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"076bbf99-97b9-4a71-ab23-682052568fc4":{"value":{"id":"076bbf99-97b9-4a71-ab23-682052568fc4","version":19,"type":"sub_header","properties":{"title":[["Parca"]]},"created_time":1681207089839,"last_edited_time":1681270185593,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"220a046a-390c-4956-9d06-210dbaaf21db":{"value":{"id":"220a046a-390c-4956-9d06-210dbaaf21db","version":16,"type":"image","properties":{"size":[["287.6KB"]],"title":[["Parca Overview.svg"]],"source":[["https://s3-us-west-2.amazonaws.com/secure.notion-static.com/ce81fb64-8a5f-4466-8745-857180009084/Parca_Overview.svg"]]},"format":{"block_width":672,"block_height":150,"display_source":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/ce81fb64-8a5f-4466-8745-857180009084/Parca_Overview.svg","block_full_width":false,"block_page_width":true,"block_aspect_ratio":0.6976744186046512,"block_preserve_scale":true},"created_time":1681271403830,"last_edited_time":1681271416743,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"file_ids":["ce81fb64-8a5f-4466-8745-857180009084"],"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"d81dc4ad-b7ba-4611-bea0-62f04f74ff7f":{"value":{"id":"d81dc4ad-b7ba-4611-bea0-62f04f74ff7f","version":5,"type":"text","created_time":1681271379195,"last_edited_time":1681271379197,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"1a3c33f6-4c9e-4a63-b1e9-96674a74f62b":{"value":{"id":"1a3c33f6-4c9e-4a63-b1e9-96674a74f62b","version":401,"type":"text","properties":{"title":[["Parca",[["a","https://github.com/parca-dev/parca/"]]],[" 项目是由原 Prometheus 团队的开发者开发，带有浓浓的 Prometheus 的味道。相较于其他项目，它也有几个显著的特点："]]},"created_time":1681271241614,"last_edited_time":1681271432274,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"67b2a209-de73-4b0d-ac7a-a1615518435f":{"value":{"id":"67b2a209-de73-4b0d-ac7a-a1615518435f","version":224,"type":"bulleted_list","properties":{"title":[["Agent 完全采用了 ebpf  作为采集方案"]]},"created_time":1681271432611,"last_edited_time":1681271470516,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"0804f542-fd8a-4542-9a71-579962335f5b":{"value":{"id":"0804f542-fd8a-4542-9a71-579962335f5b","version":345,"type":"bulleted_list","properties":{"title":[["Profile Meta 和 Profile Sample 使用了两种不同的引擎存储，其中 Sample 存储采用了自研的内嵌列存 "],["FrostDB",[["a","https://github.com/polarsignals/frostdb"]]]]},"created_time":1681271471287,"last_edited_time":1681271538283,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"88491ead-c7ff-407a-9a64-160c71a85044":{"value":{"id":"88491ead-c7ff-407a-9a64-160c71a85044","version":57,"type":"sub_sub_header","properties":{"title":[["eBPF Agent"]]},"created_time":1681271742512,"last_edited_time":1681272247203,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"d7cc5e3f-224d-4df2-9528-e14ea39e56fd":{"value":{"id":"d7cc5e3f-224d-4df2-9528-e14ea39e56fd","version":987,"type":"text","properties":{"title":[["近几年 "],["eBPF",[["a","https://ebpf.io/"]]],[" 在云原生、可观测领域讨论度很高，相信紧跟热点的各位读者也是早有耳闻，我在这里就不做多的赘述。Parca 最显著的一个特点就是在 Agent 上完全使用 eBPF 来解决问题。以下是一个简化的处理流程："]]},"created_time":1681271881197,"last_edited_time":1681272374377,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"2feb672e-1a78-4431-a03f-caa90749554e":{"value":{"id":"2feb672e-1a78-4431-a03f-caa90749554e","version":15,"type":"image","properties":{"size":[["47.0KB"]],"title":[["Pasted image 20230113174652.png"]],"source":[["https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c0197489-56d8-4b57-8710-f6b517f8fcba/Pasted_image_20230113174652.png"]]},"format":{"block_width":1918,"display_source":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c0197489-56d8-4b57-8710-f6b517f8fcba/Pasted_image_20230113174652.png","block_full_width":false,"block_page_width":true,"block_aspect_ratio":0.1762252346193952,"block_preserve_scale":true},"created_time":1681271871809,"last_edited_time":1681271877968,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"file_ids":["c0197489-56d8-4b57-8710-f6b517f8fcba"],"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"fcbebe65-025c-4154-8496-140149b36e9e":{"value":{"id":"fcbebe65-025c-4154-8496-140149b36e9e","version":493,"type":"text","properties":{"title":[["在 Profiling 领域，eBPF 的优劣我们会在后面的章节谈到，这里就一笔带过了。"]]},"created_time":1681272378316,"last_edited_time":1681272478745,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"a60e62ba-3151-4a2d-899c-fa999592dc00":{"value":{"id":"a60e62ba-3151-4a2d-899c-fa999592dc00","version":4,"type":"sub_sub_header","properties":{"title":[["Meta Sample 分离存储"]]},"created_time":1681271865675,"last_edited_time":1681272378316,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"2f3a7263-aabc-473b-b644-365009281f93":{"value":{"id":"2f3a7263-aabc-473b-b644-365009281f93","version":1202,"type":"text","properties":{"title":[["Parca 和其他项目一样，存储的逻辑模型也是依照 pprof 的数据定义，而 pprof 逻辑模型中，按照其不同的特性，可以划分为两类数据："],["Meta 和 Sample",[["b"]]],["。所谓的分离存储，实际上是讨论："],["这两类数据是否使用不同的存储引擎。",[["b"]]]]},"created_time":1681280779106,"last_edited_time":1681283966911,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"12da01c5-a71b-44e9-8902-5837ba513115":{"value":{"id":"12da01c5-a71b-44e9-8902-5837ba513115","version":2,"type":"table","content":["e7c505e7-2060-4348-8511-34b3e8737e6f","e83d4d87-0fe6-4139-ad9f-8afa128ac8e4","89fa559f-828f-4751-a310-52b880e6f8a6"],"format":{"table_block_column_order":["C;V{","xM?m","HYkc","Yhkc"]},"created_time":1681271936532,"last_edited_time":1681271936538,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"46e77f4d-1a8a-4bf2-a8b1-e8d915ad3311":{"value":{"id":"46e77f4d-1a8a-4bf2-a8b1-e8d915ad3311","version":6,"type":"text","properties":{"title":[["由于以上特性，二者的读写需求也不同，所以顺其自然的想法就是将其分成不同的引擎存储。"]]},"created_time":1681271936532,"last_edited_time":1681271965468,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"17365db1-ff86-4361-bf25-45e52b8392a6":{"value":{"id":"17365db1-ff86-4361-bf25-45e52b8392a6","version":2,"type":"table","content":["13051b7e-3fe2-4afb-9f0f-30f9d09ccacd","f56ed814-e806-402a-8e05-eefd3b153340","f8816f65-d788-46c7-bef7-c60baf91c49d"],"format":{"table_block_column_order":["al`o","~~LO","Qp_=","@jKH"]},"created_time":1681271966059,"last_edited_time":1681271966065,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"9b3122f2-d685-44cc-b5e4-045187dbe25f":{"value":{"id":"9b3122f2-d685-44cc-b5e4-045187dbe25f","version":21,"type":"text","properties":{"title":[["相较于后期的维护性，开发便捷性的损失是一次性且短期的，且不分离的情况是不太方便针对二者特性做针对性优化的。所以 Meta / Sample 分离存储，对于服务的“长治久安”有着更好的积极意义。"],["当然 Parca 目前在 Sample 存储上使用的 FrostDB 还未到可以直接生产的阶段，目前仅是 Parca 专用内嵌引擎。",[["i"]]]]},"created_time":1681271966059,"last_edited_time":1681282639254,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"4c1de643-193b-4a2f-bd6f-04e44ebf9978":{"value":{"id":"4c1de643-193b-4a2f-bd6f-04e44ebf9978","version":33,"type":"sub_sub_header","properties":{"title":[["总结"]]},"created_time":1681281072273,"last_edited_time":1681281074501,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"eb594843-a6c6-4160-bc81-dddc4ca6bca3":{"value":{"id":"eb594843-a6c6-4160-bc81-dddc4ca6bca3","version":637,"type":"text","properties":{"title":[["Parca 项目在 Agent 选择和存储设计上有独到之处，虽然在语言支持上比较少（Go 和有限的 Java），但仍旧可以作为方案设计上的重要参考。"]]},"created_time":1681281074785,"last_edited_time":1681281140848,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"f2770103-f80e-4810-bf88-b50be6f34f55":{"value":{"id":"f2770103-f80e-4810-bf88-b50be6f34f55","version":46,"type":"sub_header","properties":{"title":[["Phlare"]]},"created_time":1681207093262,"last_edited_time":1681269890000,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"9da5ce52-ec33-408a-9200-05e785402e04":{"value":{"id":"9da5ce52-ec33-408a-9200-05e785402e04","version":7,"type":"column_list","content":["9c6db133-b2f5-4cad-9f64-4e16783bd111","526b9dad-c3e4-407a-997e-91102bf5e51d"],"created_time":1681283364658,"last_edited_time":1681283364669,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"526b9dad-c3e4-407a-997e-91102bf5e51d":{"value":{"id":"526b9dad-c3e4-407a-997e-91102bf5e51d","version":10,"type":"column","content":["727db1ff-238b-48a4-831d-8797ccfa555e"],"format":{"column_ratio":0.75},"created_time":1681283364654,"last_edited_time":1681283370492,"parent_id":"9da5ce52-ec33-408a-9200-05e785402e04","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"9c6db133-b2f5-4cad-9f64-4e16783bd111":{"value":{"id":"9c6db133-b2f5-4cad-9f64-4e16783bd111","version":8,"type":"column","content":["246d23eb-b5b3-40fd-b8c5-34f8b2dbffe6"],"format":{"column_ratio":0.25},"created_time":1681283364663,"last_edited_time":1681283370492,"parent_id":"9da5ce52-ec33-408a-9200-05e785402e04","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"b2293d9a-71bc-457d-8827-a793da2c3445":{"value":{"id":"b2293d9a-71bc-457d-8827-a793da2c3445","version":1078,"type":"text","properties":{"title":[["Phlare",[["a","https://github.com/grafana/phlare"]]],[" 是 Grafana Labs 出品的 Profiling 产品，随着 Pyroscope 被收购，Phlare 项目很可能会被直接揉碎，合并到 Pyroscope 中去。即便如此，Phlare 项目仍旧有着不少有意思的亮点："]]},"created_time":1681283585595,"last_edited_time":1681283726224,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"0232149f-3a7a-4cb3-84aa-7e3ae1746c2c":{"value":{"id":"0232149f-3a7a-4cb3-84aa-7e3ae1746c2c","version":424,"type":"bulleted_list","properties":{"title":[["支持 monolithic/microservices 两种启动模式，既能满足快速验证，又能在大规模部署中轻易水平扩展"]]},"created_time":1681283726487,"last_edited_time":1681283782106,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"23ce3432-c809-46d4-93d2-262ffc13ff25":{"value":{"id":"23ce3432-c809-46d4-93d2-262ffc13ff25","version":802,"type":"bulleted_list","properties":{"title":[["数据存储分层，热数据存放在 ingster 的本地块存储中，冷数据发送到远端的对象存储中，总占有成本 TCO 较低（当然是存储空间的，没有考量到对象存储发送带来的带宽成本）"]]},"created_time":1681283784268,"last_edited_time":1681285114751,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"bd78b2d1-0061-4fbf-9dc9-dd151a176579":{"value":{"id":"bd78b2d1-0061-4fbf-9dc9-dd151a176579","version":59,"type":"sub_sub_header","properties":{"title":[["水平扩展"]]},"created_time":1681284916647,"last_edited_time":1681284924645,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"b11bc31a-057e-44b7-a557-2a0844f3b0c1":{"value":{"id":"b11bc31a-057e-44b7-a557-2a0844f3b0c1","version":1443,"type":"text","properties":{"title":[["相较于 Parca 和 Pyroscope，Phlare 总算把工程的扩展能力当作重要考量了。要知道前面二者想要水平扩展，无论是想扩展读或者写的能力，都只能将整个进程跑起来，存储走 remote write 的方式，既笨拙又浪费资源，难称优雅。而 Phlare 具备以微服务部署的能力，qureier 和 distrubutor 可以较轻松地水平扩展。"]]},"created_time":1681284928757,"last_edited_time":1681285132218,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"6ad656e2-dd1d-402e-9907-6d562540f7d9":{"value":{"id":"6ad656e2-dd1d-402e-9907-6d562540f7d9","version":194,"type":"bulleted_list","properties":{"title":[["在存储上通过一致性哈希解决分片问题"]]},"created_time":1681285162637,"last_edited_time":1681285202640,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"f642c641-76f9-4b1a-a709-966cfa0d891b":{"value":{"id":"f642c641-76f9-4b1a-a709-966cfa0d891b","version":187,"type":"bulleted_list","properties":{"title":[["通过 Gossip 解决分布式选主问题"]]},"created_time":1681285203028,"last_edited_time":1681285240973,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"79b9e13d-7c28-4eb7-8e50-05bc2c016d8f":{"value":{"id":"79b9e13d-7c28-4eb7-8e50-05bc2c016d8f","version":45,"type":"text","properties":{"title":[["为了更好地理解它是如何工作的，以四个 ingester 和一个位于0和9之间的令牌空间为例（"],["来源",[["a","https://grafana.com/docs/phlare/latest/operators-guide/architecture/hash-ring/#a-practical-example"]]],["）："]]},"created_time":1681285291160,"last_edited_time":1681286831808,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"0abb44d9-585a-4ccc-824b-5ddf30c97fb7":{"value":{"id":"0abb44d9-585a-4ccc-824b-5ddf30c97fb7","version":5,"type":"bulleted_list","properties":{"title":[["ingester#1在令牌环中注册令牌"],["2",[["c"]]]]},"format":{"copied_from_pointer":{"id":"de6b873a-abc9-4d20-b8df-caaeb9dcc78b","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1681285327748,"last_edited_time":1681285340947,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"copied_from":"de6b873a-abc9-4d20-b8df-caaeb9dcc78b","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"c07c3761-d320-47ad-8eb3-adb0487e7652":{"value":{"id":"c07c3761-d320-47ad-8eb3-adb0487e7652","version":5,"type":"bulleted_list","properties":{"title":[["ingester#2在令牌环中注册令牌"],["4",[["c"]]]]},"format":{"copied_from_pointer":{"id":"5e83e5f5-5056-4032-be18-92913cd518cc","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1681285327748,"last_edited_time":1681285342088,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"copied_from":"5e83e5f5-5056-4032-be18-92913cd518cc","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"baa45b6b-8f61-48cb-a445-5c18a7f7eb4d":{"value":{"id":"baa45b6b-8f61-48cb-a445-5c18a7f7eb4d","version":5,"type":"bulleted_list","properties":{"title":[["ingester#3在令牌环中注册令牌"],["6",[["c"]]]]},"format":{"copied_from_pointer":{"id":"fb76283a-25d7-4c89-a6a0-44a46acfbd1f","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1681285327748,"last_edited_time":1681285343420,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"copied_from":"fb76283a-25d7-4c89-a6a0-44a46acfbd1f","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"eaf4410a-5f0b-4d51-93e5-cdf5d2657eb9":{"value":{"id":"eaf4410a-5f0b-4d51-93e5-cdf5d2657eb9","version":6,"type":"bulleted_list","properties":{"title":[["ingester#4在令牌环中注册令牌"],["9",[["c"]]]]},"format":{"copied_from_pointer":{"id":"16185385-9e3d-465f-96b2-9bad0679da26","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1681285327748,"last_edited_time":1681285344963,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"copied_from":"16185385-9e3d-465f-96b2-9bad0679da26","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"b894ea09-88e4-49af-8745-088af1efa4a8":{"value":{"id":"b894ea09-88e4-49af-8745-088af1efa4a8","version":1146,"type":"text","properties":{"title":[["当它接收到一个带有 label "],["{",[["c"]]],["name",[["b"],["c"]]],["=\"process_cpu\", instance=\"1.1.1.1\"}",[["c"]]],[" 的 Profile 数据时，它会将 label 内容进行哈希计算，假如这次计算后的结果是 "],["3",[["c"]]],[" 。为了找到对应的 ingester，将会尝试寻找哈希环上 token 值上大于 "],["3",[["c"]]],[" 最靠近的一个，即 ingester#2，并认为它将是这份 Profile 的权威数据拥有者。"]]},"created_time":1681285350743,"last_edited_time":1681285954239,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"418f8f28-c28d-431c-9066-d18a902fc56c":{"value":{"id":"418f8f28-c28d-431c-9066-d18a902fc56c","version":12,"type":"image","properties":{"size":[["198.1KB"]],"title":[["Untitled"]],"source":[["https://s3-us-west-2.amazonaws.com/secure.notion-static.com/a9b13bb1-7174-46a7-ba2e-98d9804ae94c/Untitled.png"]]},"format":{"block_width":3656,"display_source":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/a9b13bb1-7174-46a7-ba2e-98d9804ae94c/Untitled.png","block_full_width":false,"block_page_width":true,"block_aspect_ratio":0.3402625820568928,"block_preserve_scale":true},"created_time":1681285448690,"last_edited_time":1681285457988,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"file_ids":["a9b13bb1-7174-46a7-ba2e-98d9804ae94c"],"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"1f2d0890-7379-4a2c-961a-f4aafb4d2eeb":{"value":{"id":"1f2d0890-7379-4a2c-961a-f4aafb4d2eeb","version":1356,"type":"text","properties":{"title":[["此时， Ingester 的副本数设置如果是 3 个，在 ingester#2 被选主后，将继续向后寻找接下来的两个实例，即 ingester#3 \u0026 ingester#4，并将数据复制分摊到他们的存储中，以保证数据能够均匀地被复制成多副本来保证高可用。"]]},"created_time":1681285746689,"last_edited_time":1681286106194,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"b63c5b80-3d2d-4699-8fd3-fc48ed2674f0":{"value":{"id":"b63c5b80-3d2d-4699-8fd3-fc48ed2674f0","version":12,"type":"image","properties":{"size":[["212.9KB"]],"title":[["Untitled"]],"source":[["https://s3-us-west-2.amazonaws.com/secure.notion-static.com/a86cc56a-1126-4d9d-984c-3d1ebd31c01a/Untitled.png"]]},"format":{"block_width":3656,"display_source":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/a86cc56a-1126-4d9d-984c-3d1ebd31c01a/Untitled.png","block_full_width":false,"block_page_width":true,"block_aspect_ratio":0.3402625820568928,"block_preserve_scale":true},"created_time":1681285598982,"last_edited_time":1681285602754,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"file_ids":["a86cc56a-1126-4d9d-984c-3d1ebd31c01a"],"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"6418d4f2-c11e-4b0d-9c50-138a28b47cc0":{"value":{"id":"6418d4f2-c11e-4b0d-9c50-138a28b47cc0","version":4,"type":"sub_sub_header","properties":{"title":[["分级存储"]]},"created_time":1681283882350,"last_edited_time":1681285598250,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"1499e616-f161-4485-a163-a068227e4b8c":{"value":{"id":"1499e616-f161-4485-a163-a068227e4b8c","version":2,"type":"text","properties":{"title":[["phlare 的存储流程较为复杂，主要分成了三个部分："]]},"created_time":1681286151927,"last_edited_time":1681286151931,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"d1982325-a2e1-43df-8515-9efe7f5d819f":{"value":{"id":"d1982325-a2e1-43df-8515-9efe7f5d819f","version":2,"type":"bulleted_list","properties":{"title":[["head block，ingester 模块获取到数据后不会立即写入到长期存储中，而是首先放在内存"]]},"created_time":1681286151927,"last_edited_time":1681286151931,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"4098b0b3-a6e2-42e0-9baa-0c03e48c3251":{"value":{"id":"4098b0b3-a6e2-42e0-9baa-0c03e48c3251","version":2,"type":"bulleted_list","properties":{"title":[["当 head block 大小超限或者超时，会将这些数据写到 ingester 本地磁盘"]]},"created_time":1681286151927,"last_edited_time":1681286151931,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"2a79cae4-a8f7-4c0e-ad71-e87ac1532eb8":{"value":{"id":"2a79cae4-a8f7-4c0e-ad71-e87ac1532eb8","version":2,"type":"bulleted_list","properties":{"title":[["内存和磁盘的数据都将会周期上报到 Long term storage"]]},"created_time":1681286151927,"last_edited_time":1681286151931,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"d54af76f-9e35-4056-8914-ee603bd3f859":{"value":{"id":"d54af76f-9e35-4056-8914-ee603bd3f859","version":305,"type":"text","properties":{"title":[["这样做的好处显而易见："]]},"created_time":1681286168300,"last_edited_time":1681286349864,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"226d9fce-6072-49a8-9697-8d3c694c006b":{"value":{"id":"226d9fce-6072-49a8-9697-8d3c694c006b","version":214,"type":"bulleted_list","properties":{"title":[["最热的数据将在内存中被访问，速度最快"]]},"created_time":1681286350139,"last_edited_time":1681286374120,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"a8f0029c-b20a-4ba3-b361-56f7b145d2fc":{"value":{"id":"a8f0029c-b20a-4ba3-b361-56f7b145d2fc","version":145,"type":"bulleted_list","properties":{"title":[["大量的冷数据放到了对象存储，成本更低"]]},"created_time":1681286375287,"last_edited_time":1681286422794,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"77b99172-e84b-4531-8da7-12e7b41575f7":{"value":{"id":"77b99172-e84b-4531-8da7-12e7b41575f7","version":763,"type":"text","properties":{"title":[["但也有些问题，就像上面 "],["read path",[["c"]]],[" 中表述的，对象存储中冷数据的读取问题会存在延迟问题，后面在对象存储和块存储的对比环节会稍微展开。"]]},"created_time":1681286424807,"last_edited_time":1681286887454,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"8e4d8ade-7820-401e-bdcf-474902336cc0":{"value":{"id":"8e4d8ade-7820-401e-bdcf-474902336cc0","version":32,"type":"sub_sub_header","properties":{"title":[["总结"]]},"created_time":1681283919294,"last_edited_time":1681286134075,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"cd1e02de-1ac6-4035-8de6-201ae337a5b5":{"value":{"id":"cd1e02de-1ac6-4035-8de6-201ae337a5b5","version":1601,"type":"text","properties":{"title":[["Phlare 相较于 Parca 和 Pyroscope 增加了更多工程上的探索，它比后两者都更容易在大集群中部署和扩展，但它只支持 pprof Http 端点数据拉取，仅有 Go 能够被较好的支持，这也成了它没法被大规模采用的最大障碍。在 Pyroscope 被收购后，Phlare 的这些工程特点也许会被整合到前者里去，就让我们继续关注接下来会发生什么吧。 "]]},"created_time":1681286135222,"last_edited_time":1681286963724,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"617226da-c092-4b34-adb5-c589ea30c6d9":{"value":{"id":"617226da-c092-4b34-adb5-c589ea30c6d9","version":4,"type":"sub_header","properties":{"title":[["Pixie"]]},"created_time":1681269888084,"last_edited_time":1681283585595,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"df187fd9-c3d6-4b68-803f-e7015fb83b79":{"value":{"id":"df187fd9-c3d6-4b68-803f-e7015fb83b79","version":11,"type":"image","properties":{"size":[["236.9KB"]],"title":[["Pasted image 20230106143708.png"]],"source":[["https://s3-us-west-2.amazonaws.com/secure.notion-static.com/04cb20ca-0d39-4887-90b1-b156b1c5e266/Pasted_image_20230106143708.png"]]},"format":{"block_width":2390,"display_source":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/04cb20ca-0d39-4887-90b1-b156b1c5e266/Pasted_image_20230106143708.png","block_full_width":false,"block_page_width":true,"block_aspect_ratio":0.7715481171548118,"block_preserve_scale":true},"created_time":1681287018870,"last_edited_time":1681287026784,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"file_ids":["04cb20ca-0d39-4887-90b1-b156b1c5e266"],"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"32aa0517-a8c6-48a5-8643-7c1bd3cd8a4a":{"value":{"id":"32aa0517-a8c6-48a5-8643-7c1bd3cd8a4a","version":801,"type":"text","properties":{"title":[["pixie",[["a","https://github.com/pixie-io/pixie"]]],[" 实际上并不是一个 Profiling 专用软件，而是一个 K8S 应用的观测工具。除了 Profiling 以外，它还包括了Service 映射、集群资源、应用流量等能力。我们这里仅关注它的 Continuous Profiling 能力。"]]},"created_time":1681207146671,"last_edited_time":1681287164099,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"cf8de912-1c96-49d7-86a7-7600dbc8fc13":{"value":{"id":"cf8de912-1c96-49d7-86a7-7600dbc8fc13","version":187,"type":"text","properties":{"title":[["相较于以上其他开源软件，它又有一些不同的特点："]]},"created_time":1681287166773,"last_edited_time":1681287332939,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"e876d5c1-fd4f-42c9-992c-dc75dc106cc7":{"value":{"id":"e876d5c1-fd4f-42c9-992c-dc75dc106cc7","version":175,"type":"bulleted_list","properties":{"title":[["PxL",[["a","https://docs.px.dev/reference/pxl/"]]],["，用于查询 SQL 不再是 PromQL like 而是 Python 风格"]]},"created_time":1681287217541,"last_edited_time":1681287421106,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"78fe8bc9-6a2c-4353-987b-fea9ef58a589":{"value":{"id":"78fe8bc9-6a2c-4353-987b-fea9ef58a589","version":258,"type":"bulleted_list","properties":{"title":[["与 K8S 集群绑定较强，不适合部署在物理机的服务"]]},"created_time":1681287262968,"last_edited_time":1681287601159,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"e49581c5-d352-403c-aae0-ebd5f1eacb11":{"value":{"id":"e49581c5-d352-403c-aae0-ebd5f1eacb11","version":193,"type":"bulleted_list","properties":{"title":[["底层使用 eBPF 采集数据，编译型语言支持更好"]]},"created_time":1681287313631,"last_edited_time":1681287363270,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"66c29229-5b0e-4d02-b611-4870c302d564":{"value":{"id":"66c29229-5b0e-4d02-b611-4870c302d564","version":113,"type":"bulleted_list","properties":{"title":[["仅限于 CPU Profiling"]]},"created_time":1681287364919,"last_edited_time":1681287541166,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"1b1638fc-5f1a-46c0-9c79-c08a66ded20b":{"value":{"id":"1b1638fc-5f1a-46c0-9c79-c08a66ded20b","version":264,"type":"text","properties":{"title":[["由于它在 Profiling 领域着墨不多，功能也相对简单，这里就不做过多展开了。"]]},"created_time":1681287715157,"last_edited_time":1681287742055,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"e00ee34f-b084-4b0d-9892-97233c5e626e":{"value":{"id":"e00ee34f-b084-4b0d-9892-97233c5e626e","version":11,"type":"header","properties":{"title":[["商业软件"]]},"created_time":1681207146671,"last_edited_time":1681269893702,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"6de913a2-2204-4b24-9606-3feb21c4ff9e":{"value":{"id":"6de913a2-2204-4b24-9606-3feb21c4ff9e","version":117,"type":"sub_header","properties":{"title":[["Datadog Continuous Profiler"]]},"created_time":1681207157517,"last_edited_time":1681290651126,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"6d22ce30-e1e1-4355-b971-b895fa8e3775":{"value":{"id":"6d22ce30-e1e1-4355-b971-b895fa8e3775","version":650,"type":"text","properties":{"title":[["Datadog 作为可观测的商业 SaaS 产品巨头，推出的 Profiler 产品质量非常高，由于它的闭源性，我们很难分析它具体的技术架构，仅从它产品表现来窥见一二。"]]},"created_time":1681290480748,"last_edited_time":1681290574125,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"bb9bbc61-9d7d-45a2-8291-756594c5d74b":{"value":{"id":"bb9bbc61-9d7d-45a2-8291-756594c5d74b","version":174,"type":"text","properties":{"title":[["以下是一些 Datadog 有别于开源产品的亮眼功能。"]]},"created_time":1681290569885,"last_edited_time":1681290605664,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"05c52ae9-09e0-4cf1-899d-e9f07940e7f1":{"value":{"id":"05c52ae9-09e0-4cf1-899d-e9f07940e7f1","version":43,"type":"sub_sub_header","properties":{"title":[["可以细粒度控制 function 展示内容"]]},"created_time":1681290605925,"last_edited_time":1681290623978,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"82534873-9a04-4914-904a-996da3771045":{"value":{"id":"82534873-9a04-4914-904a-996da3771045","version":12,"type":"image","properties":{"size":[["103.2KB"]],"title":[["Pasted image 20230209155039.png"]],"source":[["https://s3-us-west-2.amazonaws.com/secure.notion-static.com/4c5de3f5-8b9f-4027-bd50-bab3528a30fe/Pasted_image_20230209155039.png"]]},"format":{"block_width":1870,"display_source":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/4c5de3f5-8b9f-4027-bd50-bab3528a30fe/Pasted_image_20230209155039.png","block_full_width":false,"block_page_width":true,"block_aspect_ratio":0.4385026737967914,"block_preserve_scale":true},"created_time":1681290631289,"last_edited_time":1681290634554,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"file_ids":["4c5de3f5-8b9f-4027-bd50-bab3528a30fe"],"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"23f4922c-d3cd-4a3c-97f5-f3c0def5c118":{"value":{"id":"23f4922c-d3cd-4a3c-97f5-f3c0def5c118","version":139,"type":"sub_sub_header","properties":{"title":[["Only My Code 可以聚焦于用户代码"]]},"created_time":1681290617060,"last_edited_time":1681290672358,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"61cbf1cb-4dee-4af1-a1a9-02731bdc2aca":{"value":{"id":"61cbf1cb-4dee-4af1-a1a9-02731bdc2aca","version":12,"type":"image","properties":{"size":[["169.2KB"]],"title":[["Pasted image 20230209153132.png"]],"source":[["https://s3-us-west-2.amazonaws.com/secure.notion-static.com/6ed74e04-7843-405b-91cf-8e46321f2378/Pasted_image_20230209153132.png"]]},"format":{"block_width":2336,"display_source":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/6ed74e04-7843-405b-91cf-8e46321f2378/Pasted_image_20230209153132.png","block_full_width":false,"block_page_width":true,"block_aspect_ratio":0.2799657534246575,"block_preserve_scale":true},"created_time":1681290680037,"last_edited_time":1681290684618,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"file_ids":["6ed74e04-7843-405b-91cf-8e46321f2378"],"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"56a944c7-a6c1-4831-bd11-2a0aaa4efd18":{"value":{"id":"56a944c7-a6c1-4831-bd11-2a0aaa4efd18","version":7,"type":"text","created_time":1681290672748,"last_edited_time":1681290694017,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"a3251afd-1fdf-4423-b182-60b0532ef4da":{"value":{"id":"a3251afd-1fdf-4423-b182-60b0532ef4da","version":36,"type":"text","properties":{"title":[["聚焦前"]]},"created_time":1681290672748,"last_edited_time":1681290697399,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"df84be5a-4757-4ff1-a968-281d27c40e08":{"value":{"id":"df84be5a-4757-4ff1-a968-281d27c40e08","version":12,"type":"image","properties":{"size":[["180.8KB"]],"title":[["Pasted image 20230209161309.png"]],"source":[["https://s3-us-west-2.amazonaws.com/secure.notion-static.com/40bd239c-c278-41f1-b81f-07659d949145/Pasted_image_20230209161309.png"]]},"format":{"block_width":2254,"display_source":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/40bd239c-c278-41f1-b81f-07659d949145/Pasted_image_20230209161309.png","block_full_width":false,"block_page_width":true,"block_aspect_ratio":0.4427684117125111,"block_preserve_scale":true},"created_time":1681290691617,"last_edited_time":1681290695504,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"file_ids":["40bd239c-c278-41f1-b81f-07659d949145"],"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"76583d7e-5cc9-42c7-b479-b6c41cbda10e":{"value":{"id":"76583d7e-5cc9-42c7-b479-b6c41cbda10e","version":75,"type":"text","properties":{"title":[["聚焦后"]]},"created_time":1681290699890,"last_edited_time":1681290701916,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"ce4525d4-8926-4332-98c9-80382af68fae":{"value":{"id":"ce4525d4-8926-4332-98c9-80382af68fae","version":12,"type":"image","properties":{"size":[["54.4KB"]],"title":[["Pasted image 20230209161312.png"]],"source":[["https://s3-us-west-2.amazonaws.com/secure.notion-static.com/e9f62ef1-da7f-4ee0-a7c0-a384c94cf72f/Pasted_image_20230209161312.png"]]},"format":{"block_width":2254,"display_source":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/e9f62ef1-da7f-4ee0-a7c0-a384c94cf72f/Pasted_image_20230209161312.png","block_full_width":false,"block_page_width":true,"block_aspect_ratio":0.18633540372670807,"block_preserve_scale":true},"created_time":1681290710354,"last_edited_time":1681290713019,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"file_ids":["e9f62ef1-da7f-4ee0-a7c0-a384c94cf72f"],"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"6be20865-92f9-47ad-9a39-f664cbd00cba":{"value":{"id":"6be20865-92f9-47ad-9a39-f664cbd00cba","version":18,"type":"sub_sub_header","properties":{"title":[["对比图表直观清晰"]]},"created_time":1681290702387,"last_edited_time":1681290725848,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"05d48bad-8209-4e39-a91a-2c1ef173bdad":{"value":{"id":"05d48bad-8209-4e39-a91a-2c1ef173bdad","version":397,"type":"text","properties":{"title":[["对比视图，通过颜色能够清晰获取不同时间的代码内存申请的异同。火焰图表现："]]},"created_time":1681290755880,"last_edited_time":1681290834401,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"e357cd64-c9ea-4f5c-89f2-15397a2b2ad1":{"value":{"id":"e357cd64-c9ea-4f5c-89f2-15397a2b2ad1","version":12,"type":"image","properties":{"size":[["262.0KB"]],"title":[["Pasted image 20230209162221.png"]],"source":[["https://s3-us-west-2.amazonaws.com/secure.notion-static.com/a0575373-99e8-42b4-afcf-0dd78c65b4b1/Pasted_image_20230209162221.png"]]},"format":{"block_width":3452,"display_source":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/a0575373-99e8-42b4-afcf-0dd78c65b4b1/Pasted_image_20230209162221.png","block_full_width":false,"block_page_width":true,"block_aspect_ratio":0.27983777520278097,"block_preserve_scale":true},"created_time":1681290740847,"last_edited_time":1681290744745,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"file_ids":["a0575373-99e8-42b4-afcf-0dd78c65b4b1"],"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"e429a496-ce9e-4014-ac37-fe95a77c287d":{"value":{"id":"e429a496-ce9e-4014-ac37-fe95a77c287d","version":60,"type":"text","properties":{"title":[["表格表现："]]},"created_time":1681290731675,"last_edited_time":1681290861773,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"3461c9b1-1c57-4bec-91b3-44d2aee67f7e":{"value":{"id":"3461c9b1-1c57-4bec-91b3-44d2aee67f7e","version":14,"type":"image","properties":{"size":[["257.3KB"]],"title":[["Pasted image 20230209162359.png"]],"source":[["https://s3-us-west-2.amazonaws.com/secure.notion-static.com/82b8c0ac-0516-4a8b-b09b-b0bf1fa7650a/Pasted_image_20230209162359.png"]]},"format":{"block_width":3448,"display_source":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/82b8c0ac-0516-4a8b-b09b-b0bf1fa7650a/Pasted_image_20230209162359.png","block_full_width":false,"block_page_width":true,"block_aspect_ratio":0.2923433874709977,"block_preserve_scale":true},"created_time":1681290753502,"last_edited_time":1681290810192,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"file_ids":["82b8c0ac-0516-4a8b-b09b-b0bf1fa7650a"],"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"8b8b5ae4-a8bd-4830-92fd-8bd09622f708":{"value":{"id":"8b8b5ae4-a8bd-4830-92fd-8bd09622f708","version":189,"type":"sub_sub_header","properties":{"title":[["常用的数据聚合快捷入口"]]},"created_time":1681290852461,"last_edited_time":1681290898681,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"52903829-b2e0-4913-991e-5f34fc31163b":{"value":{"id":"52903829-b2e0-4913-991e-5f34fc31163b","version":285,"type":"text","properties":{"title":[["在 CPU 数据上，已经根据不同纬度提供了聚合计算快捷入口。"]]},"created_time":1681290905937,"last_edited_time":1681290959737,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"d6be32ce-df58-4312-ab16-bc40d0a7a85d":{"value":{"id":"d6be32ce-df58-4312-ab16-bc40d0a7a85d","version":11,"type":"image","properties":{"size":[["222.9KB"]],"title":[["Pasted image 20230209161756.png"]],"source":[["https://s3-us-west-2.amazonaws.com/secure.notion-static.com/6b7742fe-f526-4231-b30a-158b52a32c2f/Pasted_image_20230209161756.png"]]},"format":{"block_width":1570,"display_source":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/6b7742fe-f526-4231-b30a-158b52a32c2f/Pasted_image_20230209161756.png","block_full_width":false,"block_page_width":true,"block_aspect_ratio":0.5732484076433121,"block_preserve_scale":true},"created_time":1681290903094,"last_edited_time":1681290907072,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"file_ids":["6b7742fe-f526-4231-b30a-158b52a32c2f"],"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"f427825c-c82d-402a-951d-6bbc75022f29":{"value":{"id":"f427825c-c82d-402a-951d-6bbc75022f29","version":16,"type":"sub_sub_header","properties":{"title":[["Elastic Profiler?"]]},"created_time":1681207193356,"last_edited_time":1681291449734,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"c744f64c-2bc1-4c55-a785-e406e8da5508":{"value":{"id":"c744f64c-2bc1-4c55-a785-e406e8da5508","version":540,"type":"text","properties":{"title":[["实话实说，实际上在本文写成的时候，笔者尚未体验过 Elastic Profiler ，这里就暂不置评，留空日后补充。"]]},"created_time":1681291450378,"last_edited_time":1681291532995,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"8bb6b79b-e149-4abd-95fc-05375e139b88":{"value":{"id":"8bb6b79b-e149-4abd-95fc-05375e139b88","version":214,"type":"header","properties":{"title":[["方案选型对抗赛"]]},"created_time":1681206718865,"last_edited_time":1681207055577,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"729375fb-46d2-432a-971f-3de708f5fa8c":{"value":{"id":"729375fb-46d2-432a-971f-3de708f5fa8c","version":37,"type":"sub_header","properties":{"title":[["推 vs 拉"]]},"created_time":1681207038474,"last_edited_time":1681207045832,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"388f9c20-43f6-486f-9c7a-dc9ccdb3170f":{"value":{"id":"388f9c20-43f6-486f-9c7a-dc9ccdb3170f","version":523,"type":"text","properties":{"title":[["在可观测领域，数据获取的方向一直是热议的话题，Profiling 也不例外。以下是概要性的对比："]]},"created_time":1681267757321,"last_edited_time":1681268438646,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"ea137915-745a-434b-bb65-2864ecfde965":{"value":{"id":"ea137915-745a-434b-bb65-2864ecfde965","version":40,"type":"table","content":["82667e49-45fb-4f70-b3d9-f9ef238421ea","e9ae2ae7-5d1f-4c10-a77f-52574fb72731","ea7924fe-40b3-46ea-8a71-7f8f229cb652","77257cf2-d83b-4d5c-a698-562af2ed67ad","e078d02a-a86d-4c26-9716-82754e03ad7f","cc1d665f-152f-41d9-badf-3845818e3216","d0a2485b-01dd-4219-8902-71c7def50da1"],"format":{"table_block_column_order":["g]nP","Pqgl","P[JT"],"table_block_column_format":{"P[JT":{"width":355},"Pqgl":{"width":333}}},"created_time":1681267843800,"last_edited_time":1681268556459,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"d6215445-13cb-43a3-820e-4504d27ff671":{"value":{"id":"d6215445-13cb-43a3-820e-4504d27ff671","version":2978,"type":"text","properties":{"title":[["与 Prometheus 稍有不同的是，Continuous Profiling 基本不存在短任务数据上报的场景——既然都是 "],["Continuous",[["b"],["i"]]],[" 了，那肯定不短，所以 pull 场景中最大的短板——难以适配短任务——基本不存在了。同时，由于 Go 语言是该领域的绝对“第一公民”，其标准库就支持的 pprof 模块能够以极低的开发成本添加 pprof HTTP 端点，所以三大开源软件在 pull 方向的支持上都是完备的，而 push 方向除了 pyroscope，其他项目均有不同程度的“残缺”。"],["考虑到 OT 和其他语言工具转换 pprof 的进度，这种“重 pull 轻 push” 的现象仍将在 Profiling 领域持续一段时间。",[["b"]]]]},"created_time":1681268004604,"last_edited_time":1681283007247,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"492b9ded-6ab7-4c85-9f1b-670c85082431":{"value":{"id":"492b9ded-6ab7-4c85-9f1b-670c85082431","version":124,"type":"sub_header","properties":{"title":[["存算分离 vs 存算一体"]]},"created_time":1681207349060,"last_edited_time":1681207368493,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"b848417c-cee7-4127-b14a-99e0b1b45381":{"value":{"id":"b848417c-cee7-4127-b14a-99e0b1b45381","version":757,"type":"text","properties":{"title":[["Profiling 项目最大的技术难点就是如何处理存储，这也是可观测领域一直以来的重点。其中存算分离和存算一体的选择，决定了存储引擎乃至整个产品的形态。"]]},"created_time":1681269092769,"last_edited_time":1681281512124,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"02a9cf6c-699b-49c0-8d89-833a0dfe2d91":{"value":{"id":"02a9cf6c-699b-49c0-8d89-833a0dfe2d91","version":875,"type":"text","properties":{"title":[["在我们上面分享的几个开源产品中，它们无一例外都选择了内嵌式——也就是存算一体的方式，无论是性能较好、灵活度较高、但缺少水平扩容的 BadgerDB，还是列存 FrostDB，存取逻辑都是和计算进程绑定在一起。"]]},"created_time":1681281512618,"last_edited_time":1681281607750,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"ccd3f17c-2442-4a33-909e-5866f78bccaa":{"value":{"id":"ccd3f17c-2442-4a33-909e-5866f78bccaa","version":309,"type":"text","properties":{"title":[["在我看来，产品的服务形态是存算分离与否的决定性因素。"]]},"created_time":1681281679262,"last_edited_time":1681281723135,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"103b9304-7265-4b0f-9fb2-0767b10bf256":{"value":{"id":"103b9304-7265-4b0f-9fb2-0767b10bf256","version":14,"type":"table","content":["c66eb9f0-3c87-44ca-9be5-f27287d5599d","6d6a9274-483e-4056-b926-d13283b0887d","a23fb047-28ea-49a3-b402-22e9a59adaf4"],"format":{"table_block_column_order":["Kb\u003cn","rXVA","rKna"],"table_block_column_format":{"Kb\u003cn":{"width":177},"rKna":{"width":307},"rXVA":{"width":222.3671875}}},"created_time":1681281728766,"last_edited_time":1681281761396,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"62231d19-391d-4f32-9621-2a660cdba8dc":{"value":{"id":"62231d19-391d-4f32-9621-2a660cdba8dc","version":454,"type":"text","properties":{"title":[["总而言之，产品的服务形态将很大程度上决定存储的模式。如果是偏向于 OSS 分发，选内嵌存储，如果是以 SaaS 服务为主，选专用的分布式 DBMS。当然，从具体的工程实现来说，完全可以在存储上加一个可插拔的抽象层，以适配不同的服务形态，类似"],["这里的讨论",[["a","https://github.com/grafana/pyroscope/issues/169"]]],["。"]]},"created_time":1681281969346,"last_edited_time":1681282601738,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"3b416040-3f96-4f46-818d-70117d0dd1ec":{"value":{"id":"3b416040-3f96-4f46-818d-70117d0dd1ec","version":13,"type":"sub_header","properties":{"title":[["块存储 vs 对象存储"]]},"created_time":1681206503128,"last_edited_time":1681282542110,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"b43f0571-8b43-4484-8f23-b06d6607b0f5":{"value":{"id":"b43f0571-8b43-4484-8f23-b06d6607b0f5","version":3,"type":"text","properties":{"title":[["在存储领域，块存储和对象存储都是非常常见的方式。"]]},"created_time":1681282217535,"last_edited_time":1681282217542,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"8d19018a-c43d-474f-9362-f09988de282f":{"value":{"id":"8d19018a-c43d-474f-9362-f09988de282f","version":163,"type":"text","properties":{"title":[["块存储（Block Storage）是将存储数据分为固定大小的块进行存储，适合于需要低延迟、高性能、高可用的场景，如数据库、虚拟机、容器等。块存储一般使用本地存储或网络存储，操作系统可以使用块设备访问。"],["缺点在于扩展性差、价格相较于对象存储更贵，不适合存储海量数据。",[["b"]]]]},"created_time":1681282217535,"last_edited_time":1681282880754,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"d4b9131a-5793-41c2-bf44-c7089c85d8f2":{"value":{"id":"d4b9131a-5793-41c2-bf44-c7089c85d8f2","version":27,"type":"text","properties":{"title":[["对象存储（Object Storage）则是将数据存储为对象，每个对象都有唯一的标识符（URI），将数据分散到多个节点上，通过分布式算法实现高可用和容错，适合于海量数据存储和分布式存储。"],["缺点在于读写性能较差，不适合要求低延迟和高性能的场景。",[["b"]]]]},"created_time":1681282217535,"last_edited_time":1681282565901,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"c53f4d3e-d977-4473-be31-3ce3ed0167d6":{"value":{"id":"c53f4d3e-d977-4473-be31-3ce3ed0167d6","version":669,"type":"text","properties":{"title":[["在实际 Profiling 场景下，通常会有两部分数据："]]},"created_time":1681282217535,"last_edited_time":1681282500331,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"74a5923f-88d3-49b4-8cd3-21ea183f933d":{"value":{"id":"74a5923f-88d3-49b4-8cd3-21ea183f933d","version":119,"type":"bulleted_list","properties":{"title":[["近期需要频繁访问的短期热数据"]]},"created_time":1681282500324,"last_edited_time":1681282510463,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"d51f46b1-8618-4f60-971b-e1e4f1b4a84c":{"value":{"id":"d51f46b1-8618-4f60-971b-e1e4f1b4a84c","version":21,"type":"bulleted_list","properties":{"title":[["可能会存在较长时间的冷数据"]]},"created_time":1681282510451,"last_edited_time":1681282589886,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"ea3ea485-73b1-4580-912e-18fdf355f83e":{"value":{"id":"ea3ea485-73b1-4580-912e-18fdf355f83e","version":1379,"type":"text","properties":{"title":[["从原理上来说，热、冷数据应该分别存放到块存储和对象存储中，类似上面提到的 Phlare 方案，而不是一股脑放到块存储（Pyroscope OSS 的做法）或者全部放到对象存储（好像也没人这么做）。"]]},"created_time":1681282788805,"last_edited_time":1681286737455,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"4e155dd0-5728-429d-bb54-cf449f36f32a":{"value":{"id":"4e155dd0-5728-429d-bb54-cf449f36f32a","version":195,"type":"text","properties":{"title":[["即使 Phlare 的方案看起来很合理，但它依旧是内嵌型存储，目前还没有一个比较成熟的分布式 DBMS 支持这样的特性。Pyroscope 在其云服务中也放弃了原来的内嵌式 K-V 存储，而转向了借用 Parquet 的分布式存储 "],["Tempo ",[["a","https://github.com/grafana/tempo"]]],["方案（来自其 "],["blog",[["a","https://pyroscope.io/blog/introducing-pyroscope-cloud/#pyroscope-clouds-major-scaling-improvements"]]],["），在保证后端存储针对性优化的同时，利用类似 Thanos objstore 的方案实现了利用对象存储的扩展能力，遗憾的是尚未将这部分代码开源，也无法研究其内部细节了。"]]},"created_time":1681286737452,"last_edited_time":1681286794033,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"61ca23de-d6ce-4926-8927-10f5dc7049d9":{"value":{"id":"61ca23de-d6ce-4926-8927-10f5dc7049d9","version":94,"type":"sub_header","properties":{"title":[["eBPF vs N"],["ative Language Tools",[["b"]]]]},"created_time":1681207279872,"last_edited_time":1681288093418,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"c7410642-9e67-46d4-8c0d-243219f77262":{"value":{"id":"c7410642-9e67-46d4-8c0d-243219f77262","version":1620,"type":"text","properties":{"title":[["Profier 是 Profiling 数据来源的基础，上述不少产品中都采用了 eBPF 作为采集方案，那么是否只要使用了 eBPF 就代表着开销更小、数据更全呢？并不全是，Pyroscope 的"],["这篇 blog",[["a","https://pyroscope.io/blog/ebpf-profiling-pros-cons/"]]],[" 给了我们一个比较客观的对比。首先从数据来源的层级来看，可以将 Profiler 分为两类："]]},"created_time":1681283162499,"last_edited_time":1681288410878,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"2486291c-acb5-4336-a7b3-d00c59ba61bb":{"value":{"id":"2486291c-acb5-4336-a7b3-d00c59ba61bb","version":29,"type":"bulleted_list","properties":{"title":[["用户态: 流行的性能分析工具，如pprof，async-profiler，rbspy，py-spy，pprof-rs，dotnet-trace等，都在这个层面上运行。"]]},"created_time":1681288337051,"last_edited_time":1681288360364,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"cc608e8d-11a9-4510-b0d8-5765738cc08d":{"value":{"id":"cc608e8d-11a9-4510-b0d8-5765738cc08d","version":179,"type":"bulleted_list","properties":{"title":[["内核态: 基于 eBPF 的各种 Profiler 封装和 Linux perf 工具可以从内核获取整个系统的堆栈跟踪"]]},"created_time":1681288337051,"last_edited_time":1681288427823,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"27b555bb-81b7-4efb-bbd3-19ee0956c182":{"value":{"id":"27b555bb-81b7-4efb-bbd3-19ee0956c182","version":460,"type":"text","properties":{"title":[["由于数据来源的层级不同，它们各有长短。"]]},"created_time":1681288433281,"last_edited_time":1681288884259,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"a21e473e-2841-43dc-8f1e-21e7f2898bce":{"value":{"id":"a21e473e-2841-43dc-8f1e-21e7f2898bce","version":7,"type":"text","properties":{"title":[["对于用户态的工具而言："]]},"created_time":1681288884254,"last_edited_time":1681288901400,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"e5f17aa7-468e-4e4c-b1bd-067e98010fb1":{"value":{"id":"e5f17aa7-468e-4e4c-b1bd-067e98010fb1","version":308,"type":"bulleted_list","properties":{"title":[["可以非常灵活的标记用户的应用代码（例如 标记 spans, controllers, functions）👍"]]},"created_time":1681288496552,"last_edited_time":1681288804304,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"60e8ba74-0337-4f2f-95b2-3dd1deda2d43":{"value":{"id":"60e8ba74-0337-4f2f-95b2-3dd1deda2d43","version":357,"type":"bulleted_list","properties":{"title":[["能够分析代码的各个特定部分（例如 Lambda 函数、测试套件、脚本）👍"]]},"created_time":1681288546253,"last_edited_time":1681288806207,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"6d8c9228-0f8c-4f2c-8582-52cceb2330cd":{"value":{"id":"6d8c9228-0f8c-4f2c-8582-52cceb2330cd","version":175,"type":"bulleted_list","properties":{"title":[["有着更容易分析其他类型数据的能力（例如内存、goroutines）👍"]]},"created_time":1681288628380,"last_edited_time":1681288989190,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"7185f4e5-5050-40a9-b70c-bc9b6d0586b4":{"value":{"id":"7185f4e5-5050-40a9-b70c-bc9b6d0586b4","version":7,"type":"bulleted_list","properties":{"title":[["本地开发十分便捷，容易使用 👍"]]},"created_time":1681289068645,"last_edited_time":1681289070503,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"14f40af5-4684-4a22-b958-1691963d3dff":{"value":{"id":"14f40af5-4684-4a22-b958-1691963d3dff","version":224,"type":"bulleted_list","properties":{"title":[["复杂，如果一个系统是多语言的，很难获取一个全局视图 👎"]]},"created_time":1681288809801,"last_edited_time":1681288843945,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"83f7faf9-e12a-4628-8737-717d197ad0ca":{"value":{"id":"83f7faf9-e12a-4628-8737-717d197ad0ca","version":163,"type":"bulleted_list","properties":{"title":[["对于基建元信息的标识能力有限（例如 Kubernetes） 👎"]]},"created_time":1681288855048,"last_edited_time":1681288878468,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"79a3017b-ebf8-405b-8f0b-e94e1d92e4be":{"value":{"id":"79a3017b-ebf8-405b-8f0b-e94e1d92e4be","version":87,"type":"text","properties":{"title":[["对于内核态的工具而言："]]},"created_time":1681288881599,"last_edited_time":1681288898910,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"1f1d13c9-6ca2-484a-8e07-8597707b2475":{"value":{"id":"1f1d13c9-6ca2-484a-8e07-8597707b2475","version":161,"type":"bulleted_list","properties":{"title":[["非常容易就能获取到跨语言的全局视图 👍"]]},"created_time":1681288903558,"last_edited_time":1681288928915,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"26ab1028-fe72-49a4-a9e6-504e3bf3c352":{"value":{"id":"26ab1028-fe72-49a4-a9e6-504e3bf3c352","version":126,"type":"bulleted_list","properties":{"title":[["很容易对基建元信息进行标识能力有限（例如 Kubernetes Pods） 👍"]]},"created_time":1681288929285,"last_edited_time":1681288954795,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"f7463e76-83aa-4a21-b51d-345eac377ccc":{"value":{"id":"f7463e76-83aa-4a21-b51d-345eac377ccc","version":7,"type":"bulleted_list","properties":{"title":[["所有语言在符号化上都是一致的 👍"]]},"created_time":1681288955216,"last_edited_time":1681288973687,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"19b0ebf4-ad92-472b-b1fb-6172b5f132bb":{"value":{"id":"19b0ebf4-ad92-472b-b1fb-6172b5f132bb","version":99,"type":"bulleted_list","properties":{"title":[["对 Linux 内核版本有要求 👎"]]},"created_time":1681289004107,"last_edited_time":1681289014461,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"a024146a-8f43-4abc-a61e-3ecbfa2e12a4":{"value":{"id":"a024146a-8f43-4abc-a61e-3ecbfa2e12a4","version":129,"type":"bulleted_list","properties":{"title":[["用户层级的代码比较难标记 👎"]]},"created_time":1681289014821,"last_edited_time":1681289031135,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"f6e331e1-83a0-4959-bb90-aae07cfbf1af":{"value":{"id":"f6e331e1-83a0-4959-bb90-aae07cfbf1af","version":118,"type":"bulleted_list","properties":{"title":[["内存、goroutines 很难获取对应数据 👎"]]},"created_time":1681289031447,"last_edited_time":1681289055933,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"dd0cbd10-0138-4d5d-8392-50796d1e0c02":{"value":{"id":"dd0cbd10-0138-4d5d-8392-50796d1e0c02","version":123,"type":"bulleted_list","properties":{"title":[["开发者想在本地开发比较困难 👎"]]},"created_time":1681289057100,"last_edited_time":1681289082771,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"4d8582b2-54cf-4fc6-86ef-241d0a9f906d":{"value":{"id":"4d8582b2-54cf-4fc6-86ef-241d0a9f906d","version":124,"type":"bulleted_list","properties":{"title":[["解释器型的语言获取的信息较为有限 👎"]]},"created_time":1681289190708,"last_edited_time":1681289201184,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"401e72b9-9a91-4b33-b3e6-ec8a90f21a9f":{"value":{"id":"401e72b9-9a91-4b33-b3e6-ec8a90f21a9f","version":1108,"type":"text","properties":{"title":[["简单来说，这两种方案的方向是反的：自下而上和自上而下，它们的数据信息理应做到互相补充，现阶段仅有 Pyroscope 对它做了"],["有限的整合优化",[["a","https://pyroscope.io/blog/ebpf-profiling-pros-cons/#pyroscopes-solution-merge-ebpf-profiling-and-native-language-profiling"]]],["，需要进一步关注进展。"]]},"created_time":1681289149032,"last_edited_time":1681289485770,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"f9474cb3-7736-4a1f-aa74-0d5276deb613":{"value":{"id":"f9474cb3-7736-4a1f-aa74-0d5276deb613","version":50,"type":"sub_header","properties":{"title":[["pprof vs OT"]]},"created_time":1681207342010,"last_edited_time":1681207477645,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"23659b28-44e6-4076-bc6e-d9707a300a32":{"value":{"id":"23659b28-44e6-4076-bc6e-d9707a300a32","version":294,"type":"text","properties":{"title":[["pprof 本身是一个开源的性能分析工具套件，它可以抓取并组装 CPU、内存、goroutine 等性能数据，并且通过配套的工具可以生成各种可视化视图，例如火焰图、调用图等。"]]},"created_time":1681284094501,"last_edited_time":1681284303027,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"75537ccb-fc25-4c6b-b85a-51b392657ed4":{"value":{"id":"75537ccb-fc25-4c6b-b85a-51b392657ed4","version":229,"type":"text","properties":{"title":[["同时 pprof 也定义了相关的 Profile 数据格式，"],["以 Protocol Buffers 呈现",[["a","https://github.com/google/pprof/blob/main/proto/profile.proto"]]],["。它由一系列的记录 Sample 组成：包含了函数调用堆栈以及相应的计数器值。"]]},"created_time":1681284094501,"last_edited_time":1681284366307,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"80509e27-02df-445b-a676-15834a7e3a04":{"value":{"id":"80509e27-02df-445b-a676-15834a7e3a04","version":299,"type":"text","properties":{"title":[["以下讨论的 pprof 指的是"],["其代表的数据格式。",[["b"]]]]},"created_time":1681284282150,"last_edited_time":1681284412317,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"08845340-1696-43af-a381-ddd55b7ec206":{"value":{"id":"08845340-1696-43af-a381-ddd55b7ec206","version":555,"type":"text","properties":{"title":[["可以通过"],["它的文本表达示例",[["a","https://github.com/DataDog/go-profiler-notes/blob/18fd7f410e681d4b43c9afb403a4bdf23af29f99/examples/cpu/pprof.samples.cpu.001.pprof.txt#L1"]]],["或者下面这张图理解其中的关联关系（除了 Stacktrace 是额外抽象出来的中间表）"]]},"created_time":1681284185772,"last_edited_time":1681284473480,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"5e17dafb-13e4-4533-b6ad-eb6703c1e3e1":{"value":{"id":"5e17dafb-13e4-4533-b6ad-eb6703c1e3e1","version":56,"type":"image","properties":{"size":[["149.8KB"]],"title":[["Untitled"]],"source":[["https://s3-us-west-2.amazonaws.com/secure.notion-static.com/a436eddf-7b62-4cff-b8ed-d0b14037d1ca/Untitled.png"]],"caption":[["基本对齐 pprof 模型的列存数据表，来自 Phlare"]]},"format":{"block_width":1209,"display_source":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/a436eddf-7b62-4cff-b8ed-d0b14037d1ca/Untitled.png","block_full_width":false,"block_page_width":true,"block_aspect_ratio":0.8957816377171216,"copied_from_pointer":{"id":"5319fd7a-7dc5-40d3-92a7-ad6ea4b52cf0","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"block_preserve_scale":true},"created_time":1681283925180,"last_edited_time":1681284396407,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"copied_from":"5319fd7a-7dc5-40d3-92a7-ad6ea4b52cf0","file_ids":["a436eddf-7b62-4cff-b8ed-d0b14037d1ca"],"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"1ebdfc01-fc72-4957-a1b6-6a2fd72a5c18":{"value":{"id":"1ebdfc01-fc72-4957-a1b6-6a2fd72a5c18","version":2042,"type":"text","properties":{"title":[["pprof 在设计上是跨语言的，它理应成为一个跨语言标准，但受限于历史的进程，大多数语言的采集工具比它的历史更久，各种工具和采集链已经较为成熟，所以，除了 Go 语言有着极好的 pprof 支持，其他语言都没有成熟的 pprof 格式转换方案（例如"],[" Python 虽然有，但缺乏维护",[["a","https://github.com/timpalpant/pypprof"]]],["）。这中间的沟壑既给了 Pyroscope 较多的对接工作量，也给 OT 的标准化留足了空间。"]]},"created_time":1681284478102,"last_edited_time":1681287894788,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"95b44f9d-6fbd-4bf5-9f48-30ddf1943ab1":{"value":{"id":"95b44f9d-6fbd-4bf5-9f48-30ddf1943ab1","version":432,"type":"text","properties":{"title":[["Open Telemetry "],["预期将 Profiling 格式做一个标准化",[["a","https://github.com/open-telemetry/oteps/blob/main/text/profiles/0212-profiling-vision.md"]]],["，包括了非常多的工作内容："]]},"created_time":1681289503694,"last_edited_time":1681289940625,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"375bd97f-20a8-429a-8707-024d6ad2b625":{"value":{"id":"375bd97f-20a8-429a-8707-024d6ad2b625","version":132,"type":"bulleted_list","properties":{"title":[["尽可能多兼容各种 Profiling 格式"]]},"created_time":1681289629026,"last_edited_time":1681289644105,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"ce3ccec3-5cfd-4635-b51f-7297c06ed255":{"value":{"id":"ce3ccec3-5cfd-4635-b51f-7297c06ed255","version":254,"type":"bulleted_list","properties":{"title":[["应尽可能高效地传输分析数据，并且制定一个无损的 Profiling 模型，重点在于解析、转码（与其他格式之间的转换）和分析的效率上"]]},"created_time":1681289644405,"last_edited_time":1681289721629,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"bc9095b1-96c2-4f18-acb8-fba2a90aa6d3":{"value":{"id":"bc9095b1-96c2-4f18-acb8-fba2a90aa6d3","version":268,"type":"bulleted_list","properties":{"title":[["应该可以清晰地映射到标准数据模型（例如 collapsed、pprof、JFR 等）"]]},"created_time":1681289722974,"last_edited_time":1681289803627,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"71b30cb9-4448-4301-9295-6a7417b3b987":{"value":{"id":"71b30cb9-4448-4301-9295-6a7417b3b987","version":124,"type":"bulleted_list","properties":{"title":[["应该包含表示其他 OT Signal 之间关系的机制（例如 span 中的调用链）"]]},"created_time":1681289821207,"last_edited_time":1681289861000,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"af7918c0-9ff1-4612-a1d6-45f8f93f5e2d":{"value":{"id":"af7918c0-9ff1-4612-a1d6-45f8f93f5e2d","version":172,"type":"bulleted_list","properties":{"title":[["对于已经流行的 Profiler，保持尽可能小的转换开销"]]},"created_time":1681289877683,"last_edited_time":1681289905241,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"54325062-d698-464f-80e6-78ac3943769a":{"value":{"id":"54325062-d698-464f-80e6-78ac3943769a","version":1119,"type":"text","properties":{"title":[["OT 的愿景是非常美好的，但从可观察的"],["进展",[["a","https://github.com/open-telemetry/opentelemetry-profiling"]]],["来说，并不是非常顺利，至少距离上一次有效的更新已经过了几个月了。"],["所以，现阶段在没有 OT 标准化格式之前，pprof 仍旧是 Profiling 数据格式为数不多的选择。",[["b"]]]]},"created_time":1681289952269,"last_edited_time":1681290130012,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"e6f5bc4c-cbe1-41c4-9223-1597ed30f5d1":{"value":{"id":"e6f5bc4c-cbe1-41c4-9223-1597ed30f5d1","version":53,"type":"header","properties":{"title":[["总结"]]},"created_time":1681207342010,"last_edited_time":1681290146167,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"6bbef891-e413-4069-867b-d3006d522efe":{"value":{"id":"6bbef891-e413-4069-867b-d3006d522efe","version":1459,"type":"text","properties":{"title":[["Continuous Profiling 是一个不新不旧的领域，有着不大不小的市场，伴随着可观测领域常见的问题。在 OT 标准化前，Pyroscope 算是领先了一个身位，但各产品仍处于百舸争流的阶段，需要 Continuous Focusing 。"]]},"created_time":1681290146442,"last_edited_time":1681290458630,"parent_id":"9faa9c16-825a-40c0-898f-7b9f31c30722","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"},"e7c505e7-2060-4348-8511-34b3e8737e6f":{"role":"reader","value":{"id":"e7c505e7-2060-4348-8511-34b3e8737e6f","version":2,"type":"table_row","properties":{"C;V{":[["类型/特性"]],"HYkc":[["是否需要计算"]],"Yhkc":[["数据量级"]],"xM?m":[["具体内容"]]},"created_time":1681271936532,"last_edited_time":1681271936538,"parent_id":"12da01c5-a71b-44e9-8902-5837ba513115","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"e83d4d87-0fe6-4139-ad9f-8afa128ac8e4":{"role":"reader","value":{"id":"e83d4d87-0fe6-4139-ad9f-8afa128ac8e4","version":2,"type":"table_row","properties":{"C;V{":[["Metadata"]],"HYkc":[["很少"]],"Yhkc":[["较小"]],"xM?m":[["Function/Mapping/Location 等"]]},"created_time":1681271936532,"last_edited_time":1681271936538,"parent_id":"12da01c5-a71b-44e9-8902-5837ba513115","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"89fa559f-828f-4751-a310-52b880e6f8a6":{"role":"reader","value":{"id":"89fa559f-828f-4751-a310-52b880e6f8a6","version":25,"type":"table_row","properties":{"C;V{":[["Sample"]],"HYkc":[["大量合并计算"]],"Yhkc":[["大"]],"xM?m":[["时序的 Stacktrace"]]},"created_time":1681271936532,"last_edited_time":1681281065566,"parent_id":"12da01c5-a71b-44e9-8902-5837ba513115","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"13051b7e-3fe2-4afb-9f0f-30f9d09ccacd":{"role":"reader","value":{"id":"13051b7e-3fe2-4afb-9f0f-30f9d09ccacd","version":2,"type":"table_row","properties":{"@jKH":[["存储引擎选择空间"]],"Qp_=":[["后期存储维护性"]],"al`o":[["方式/特性"]],"~~LO":[["开发便捷性"]]},"created_time":1681271966059,"last_edited_time":1681271966065,"parent_id":"17365db1-ff86-4361-bf25-45e52b8392a6","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"f56ed814-e806-402a-8e05-eefd3b153340":{"role":"reader","value":{"id":"f56ed814-e806-402a-8e05-eefd3b153340","version":2,"type":"table_row","properties":{"@jKH":[["一般"]],"Qp_=":[["一般"]],"al`o":[["统一存放"]],"~~LO":[["高"]]},"created_time":1681271966059,"last_edited_time":1681271966065,"parent_id":"17365db1-ff86-4361-bf25-45e52b8392a6","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"f8816f65-d788-46c7-bef7-c60baf91c49d":{"role":"reader","value":{"id":"f8816f65-d788-46c7-bef7-c60baf91c49d","version":2,"type":"table_row","properties":{"@jKH":[["高"]],"Qp_=":[["高"]],"al`o":[["分离存放"]],"~~LO":[["较低"]]},"created_time":1681271966059,"last_edited_time":1681271966065,"parent_id":"17365db1-ff86-4361-bf25-45e52b8392a6","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"246d23eb-b5b3-40fd-b8c5-34f8b2dbffe6":{"role":"reader","value":{"id":"246d23eb-b5b3-40fd-b8c5-34f8b2dbffe6","version":41,"type":"image","properties":{"size":[["39.5KB"]],"title":[["Untitled"]],"source":[["https://s3-us-west-2.amazonaws.com/secure.notion-static.com/cb2d83a7-b7b5-4e45-8d72-0ac07fce9042/Untitled.png"]]},"format":{"block_width":192,"block_height":910,"display_source":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/cb2d83a7-b7b5-4e45-8d72-0ac07fce9042/Untitled.png","block_full_width":false,"block_page_width":false,"block_aspect_ratio":2.156398104265403,"block_preserve_scale":true},"created_time":1681283293451,"last_edited_time":1681283364669,"parent_id":"9c6db133-b2f5-4cad-9f64-4e16783bd111","parent_table":"block","alive":true,"file_ids":["cb2d83a7-b7b5-4e45-8d72-0ac07fce9042"],"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"727db1ff-238b-48a4-831d-8797ccfa555e":{"role":"reader","value":{"id":"727db1ff-238b-48a4-831d-8797ccfa555e","version":35,"type":"image","properties":{"size":[["37.3KB"]],"title":[["Untitled"]],"source":[["https://s3-us-west-2.amazonaws.com/secure.notion-static.com/87cd1ef9-8c30-4c64-8e0f-c2c6aa20da27/Untitled.png"]]},"format":{"block_width":384,"display_source":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/87cd1ef9-8c30-4c64-8e0f-c2c6aa20da27/Untitled.png","block_full_width":false,"block_page_width":true,"block_aspect_ratio":0.527363184079602,"block_preserve_scale":true},"created_time":1681283322197,"last_edited_time":1681283364669,"parent_id":"526b9dad-c3e4-407a-997e-91102bf5e51d","parent_table":"block","alive":true,"file_ids":["87cd1ef9-8c30-4c64-8e0f-c2c6aa20da27"],"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"82667e49-45fb-4f70-b3d9-f9ef238421ea":{"role":"reader","value":{"id":"82667e49-45fb-4f70-b3d9-f9ef238421ea","version":62,"type":"table_row","properties":{"P[JT":[["push"]],"Pqgl":[["pull"]],"g]nP":[["对比特性"]]},"created_time":1681267843800,"last_edited_time":1681267864210,"parent_id":"ea137915-745a-434b-bb65-2864ecfde965","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"e9ae2ae7-5d1f-4c10-a77f-52574fb72731":{"role":"reader","value":{"id":"e9ae2ae7-5d1f-4c10-a77f-52574fb72731","version":57,"type":"table_row","properties":{"P[JT":[["端上配置，通过配置中心支持中心化"]],"Pqgl":[["原生中心化配置"]],"g]nP":[["配置方式"]]},"created_time":1681267843800,"last_edited_time":1681267990952,"parent_id":"ea137915-745a-434b-bb65-2864ecfde965","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"ea7924fe-40b3-46ea-8a71-7f8f229cb652":{"role":"reader","value":{"id":"ea7924fe-40b3-46ea-8a71-7f8f229cb652","version":12,"type":"table_row","properties":{"P[JT":[["由应用、Agent自主上报，无需服务发现模块"]],"Pqgl":[["依赖服务发现机制"]],"g]nP":[["监控对象发现"]]},"created_time":1681267843800,"last_edited_time":1681268188685,"parent_id":"ea137915-745a-434b-bb65-2864ecfde965","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"77257cf2-d83b-4d5c-a698-562af2ed67ad":{"role":"reader","value":{"id":"77257cf2-d83b-4d5c-a698-562af2ed67ad","version":115,"type":"table_row","properties":{"P[JT":[["1. Agent 统一代理抓取 2. 应用主动推送到监控系统"]],"Pqgl":[["应用暴露端口，接入服务发现，原生支持Pull协议"]],"g]nP":[["部署方式"]]},"created_time":1681268067430,"last_edited_time":1681268263684,"parent_id":"ea137915-745a-434b-bb65-2864ecfde965","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"e078d02a-a86d-4c26-9716-82754e03ad7f":{"role":"reader","value":{"id":"e078d02a-a86d-4c26-9716-82754e03ad7f","version":16,"type":"table_row","properties":{"P[JT":[["被动接受，需要一些过滤器额外支持"]],"Pqgl":[["On Demand按需获取"]],"g]nP":[["指标获取灵活性"]]},"created_time":1681268308316,"last_edited_time":1681268355877,"parent_id":"ea137915-745a-434b-bb65-2864ecfde965","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"cc1d665f-152f-41d9-badf-3845818e3216":{"role":"reader","value":{"id":"cc1d665f-152f-41d9-badf-3845818e3216","version":108,"type":"table_row","properties":{"P[JT":[["与应用代码耦合"]],"Pqgl":[["应用与监控系统解耦，应用无需关心对端地址、错误处理等"]],"g]nP":[["应用耦合性"]]},"created_time":1681268362698,"last_edited_time":1681268392352,"parent_id":"ea137915-745a-434b-bb65-2864ecfde965","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"d0a2485b-01dd-4219-8902-71c7def50da1":{"role":"reader","value":{"id":"d0a2485b-01dd-4219-8902-71c7def50da1","version":142,"type":"table_row","properties":{"P[JT":[["难度低，ingest 接口交互一般都有鉴权控制"]],"Pqgl":[["工作量大，需要保证应用暴露端口的安全性，容易被DDos攻击或者出现数据泄露"]],"g]nP":[["安全性保证"]]},"created_time":1681268417354,"last_edited_time":1681268489194,"parent_id":"ea137915-745a-434b-bb65-2864ecfde965","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"c66eb9f0-3c87-44ca-9be5-f27287d5599d":{"role":"reader","value":{"id":"c66eb9f0-3c87-44ca-9be5-f27287d5599d","version":203,"type":"table_row","properties":{"Kb\u003cn":[["服务形态/存储类型"]],"rKna":[["选择存算分离（分布式存储服务）"]],"rXVA":[["选择存算一体（内嵌存储引擎）"]]},"created_time":1681281728766,"last_edited_time":1681281955027,"parent_id":"103b9304-7265-4b0f-9fb2-0767b10bf256","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"6d6a9274-483e-4056-b926-d13283b0887d":{"role":"reader","value":{"id":"6d6a9274-483e-4056-b926-d13283b0887d","version":8,"type":"table_row","properties":{"Kb\u003cn":[["OSS"]],"rKna":[["● 额外依赖，数据优化灵活度低 👎"]],"rXVA":[["● 少依赖，易部署 👍"],["\n"],["● 针对性优化灵活 👍"]]},"created_time":1681281728766,"last_edited_time":1681281746845,"parent_id":"103b9304-7265-4b0f-9fb2-0767b10bf256","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"a23fb047-28ea-49a3-b402-22e9a59adaf4":{"role":"reader","value":{"id":"a23fb047-28ea-49a3-b402-22e9a59adaf4","version":2,"type":"table_row","properties":{"Kb\u003cn":[["SaaS"]],"rKna":[["● 将状态向存储侧转移，组件复杂度相对低 👍"],["\n"],["● 针对性优化难度稍高 👎"]],"rXVA":[["● 扩展、灾备方案不完善 👎"]]},"created_time":1681281728766,"last_edited_time":1681281728771,"parent_id":"103b9304-7265-4b0f-9fb2-0767b10bf256","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}}},"collection":{"e34bec60-9b02-4ad8-aaf8-83369409cc9f":{"value":{"id":"e34bec60-9b02-4ad8-aaf8-83369409cc9f","version":96,"name":[["布鲁斯鱼的妙想天开 "]],"schema":{"NX\\Q":{"name":"date","type":"date"},"`gQ~":{"name":"type","type":"select","options":[{"id":"5aff2f95-fd1e-489b-8840-bf10bc9519cb","color":"purple","value":"Post"},{"id":"374d2bc6-a144-4832-8ca4-474aaae0ea1f","color":"orange","value":"Page"}]},"d]hq":{"name":"slug","type":"text"},"sD^m":{"name":"tags","type":"multi_select","options":[{"id":"790180f1-0c2e-4730-a1ef-c5463df34680","color":"brown","value":"python"},{"id":"5d668f5e-7204-4c7e-b57e-5558bd27efaf","color":"gray","value":"pep"},{"id":"9081ab60-29ee-4a5b-9989-f50cf36ecb9b","color":"orange","value":"tech"},{"id":"c0225229-afab-45e4-b69b-b71029b39835","color":"red","value":"django"},{"id":"90084124-d1d5-49fb-86e7-4b133c051d81","color":"default","value":"orm"},{"id":"10ace7d0-10e6-4617-970e-acf2d9348d0f","color":"yellow","value":"best-practice"},{"id":"1b9671ca-93e5-402d-a73e-f9aca38e4358","color":"pink","value":"web"},{"id":"c7015bc7-2283-4b3d-8d19-3075724a10df","color":"blue","value":"blog"},{"id":"22d9ce60-f854-4122-b0fc-4f4c3a41979e","color":"green","value":"guide"},{"id":"6e99d746-1829-43e3-a828-214a1ae79b4a","color":"purple","value":"ELK"},{"id":"45ebe27a-5445-4cc3-91c9-ec1f1296dcf4","color":"brown","value":"pytest"},{"id":"9f679b83-f407-4130-b5b7-f969329300bf","color":"brown","value":"unittest"},{"id":"e30656d1-1ff2-434c-a2cb-8b3c75c9d1a1","color":"gray","value":"fun"},{"id":"5146a8a4-5647-4ce0-8a7b-1a6320adee06","color":"blue","value":"back-pressure"},{"id":"36828c03-3b80-417d-82a3-b1066ad5ca60","color":"green","value":"Dependency injection"},{"id":"9602332d-afbb-41e8-baed-bd0dd39a5e21","color":"brown","value":"k8s"},{"id":"82cd2499-ddd4-43ad-9298-fba21fe29cfa","color":"brown","value":"helm"},{"id":"f0a44444-e52d-4db2-9262-aa29d7ded8e3","color":"blue","value":"celery"},{"id":"a87e284b-1c48-422e-9811-eba8a167f97a","color":"red","value":"amqp"},{"id":"dc50dbb3-8e3a-4747-95d8-c9098e70e088","color":"default","value":"tcp"},{"id":"90b243e4-95f4-459e-b5b7-42f09020978b","color":"gray","value":"graphql"},{"id":"00f0130d-3a96-4e5a-8b5e-77e14e0a3ff7","color":"purple","value":"logstash"},{"id":"a921b879-fcef-4ace-8c96-7a6e11fe2358","color":"orange","value":"konajdk"},{"id":"b8e6dc68-925c-4d32-84d9-580d1a34c3a6","color":"orange","value":"regex"},{"id":"fc66930c-fa10-44b1-b553-5f6acc796321","color":"gray","value":"nfa"},{"id":"f9255cb2-7e85-4bce-8042-472643ff3b58","color":"orange","value":"dfa"},{"id":"e00a51c2-af1c-4bfd-a118-e83e73f3e1a3","color":"purple","value":"security"},{"id":"45105ec0-49be-430b-aead-ef83cfbc8b02","color":"pink","value":"reading"},{"id":"4c3a21fd-3ba5-44a2-8c5e-ef6e9100c32c","color":"brown","value":"software-engineering"},{"id":"4cd1d179-3466-4d7e-baf2-99a4c0250a78","color":"blue","value":"google"},{"id":"22973bbb-4038-4f9b-a30c-c0ab6506d65d","color":"gray","value":"note"},{"id":"1ca18016-ff4e-41e0-af37-6ea457fc4bd8","color":"orange","value":"go"},{"id":"017cb1fb-940d-4281-a078-ea653dc7688a","color":"green","value":"prometheus"},{"id":"35b57024-e3a6-465c-8845-e359d09c72c7","color":"brown","value":"udp"},{"id":"4357722b-be50-481e-ba42-992e73b7b86e","color":"pink","value":"observability"},{"id":"89d067fb-d3d3-4d3f-b855-5f472e28d80b","color":"orange","value":"profiling"}]},"wz|S":{"name":"summary","type":"text"},"title":{"name":"title","type":"title"},"f211bdc0-ee00-4186-9a7d-f68c055ec2ee":{"name":"status","type":"select","options":[{"id":"22460321-fea2-4c7c-b352-a674760780ac","color":"orange","value":"Idea"},{"id":"41d5f5c6-b53c-42bc-8e0f-fc9402048480","color":"yellow","value":"Draft"},{"id":"c7390b31-9fab-4e21-94ee-7e67ea077a97","color":"blue","value":"Revise"},{"id":"7abc61d4-b405-480d-b699-12588755fa65","color":"red","value":"Published"}]}},"icon":"🗯️","format":{"copied_from_pointer":{"id":"6a42b751-ff40-4f34-aa6a-1830a3344cb7","table":"collection","spaceId":"ac4cb96d-c8f8-4040-9bb2-868d9fc7f526"},"collection_page_properties":[{"visible":false,"property":"NX\\Q"},{"visible":false,"property":"d]hq"},{"visible":false,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"visible":false,"property":"sD^m"},{"visible":false,"property":"wz|S"},{"visible":false,"property":"`gQ~"}]},"parent_id":"a6089909-2d0d-43ef-af93-5e041712e826","parent_table":"block","alive":true,"file_ids":["6cf3dc36-2f98-4f0e-9679-1bdbb1485129","5520bd92-e709-4c0d-ad58-06923f23f7e9","624d393a-62e3-4464-a1bf-1c79ecd4fbda","d52f6766-3e32-4c3d-8529-46e1f214360f"],"copied_from":"6a42b751-ff40-4f34-aa6a-1830a3344cb7","migrated":true,"space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6","deleted_schema":{"0d330ccb-d222-4440-a0de-6cccfe926a33":{"name":"url","type":"text"},"26ff3130-393a-45ac-92b5-7490d9b87515":{"name":"template","type":"select","options":[{"id":"V*ea","color":"purple","value":"post"}]},"29e679ed-47a3-46c2-9eb4-9070171591b8":{"name":"inList","type":"checkbox"},"2af12d30-97f0-4310-b38c-02e6a554245f":{"name":"publish","type":"checkbox"},"2bf55746-6864-4bb6-b585-77b81f140da1":{"name":"inList","type":"checkbox"},"487aab80-eb42-4dd6-a386-d58672ff59fa":{"name":"description","type":"text"},"53819e0d-5bc6-40de-a8bc-498fdf840fbc":{"name":"description","type":"text"},"67c34d44-b9f2-42c1-b35c-4a534c03bdd9":{"name":"inList","type":"checkbox"},"69fb2cd3-221c-476b-86c2-ab74f4490cc9":{"name":"template","type":"select","options":[{"id":"V*ea","color":"purple","value":"post"}]},"ab0a009c-1080-47c3-aecc-b26dc703a4e0":{"name":"url","type":"text"},"ad8f0878-e947-4188-8970-1ca14665f6e3":{"name":"inMenu","type":"checkbox"},"b2c6f9d4-31e2-4230-b57e-4bdb21a3d635":{"name":"template","type":"select","options":[{"id":"V*ea","color":"purple","value":"post"}]},"b387319f-5770-457e-8453-1d2f2708f9f1":{"name":"url","type":"text"},"b6d830ff-ce1d-4e76-a484-f0fc3f148c52":{"name":"publish","type":"checkbox"},"c0b15f23-eddd-4316-95d1-a92a4edbc710":{"name":"publish","type":"checkbox"},"e3660c02-9d93-463b-9495-addeeabd3e80":{"name":"description","type":"text"}}},"role":"reader"}},"space":{},"collection_view":{"065b98d2-d3b4-4dab-8b96-4eb118a3f311":{"value":{"id":"065b98d2-d3b4-4dab-8b96-4eb118a3f311","version":33,"type":"table","name":"Default view","format":{"table_wrap":false,"table_properties":[{"width":371,"visible":true,"property":"title"},{"width":243,"visible":true,"property":"d]hq"},{"width":159,"visible":true,"property":"NX\\Q"},{"width":147,"visible":true,"property":"wz|S"},{"width":356,"visible":true,"property":"sD^m"},{"width":124,"visible":true,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"width":100,"visible":true,"property":"`gQ~"}]},"parent_id":"a6089909-2d0d-43ef-af93-5e041712e826","parent_table":"block","alive":true,"page_sort":["b1e1d645-db95-42e5-8995-39a80eda6460","e8cd3732-dc1c-43ae-959a-a5a611ec098a","e876558d-e878-47f6-8c95-21be678990a5","5a971ded-d3c5-41be-bef9-ddfff48d43a2","8db8b240-e1c5-4dd7-bf74-72584d7a2ce0","daf94ca4-ec56-47a3-84ed-b1e2479acc4b","d1a2db9b-6820-421e-9b80-017ce7478587","67ea9f83-b9f6-416b-afcb-7c64f7533e6c","45939470-9819-47e8-b12b-999cfefa0aad","c60dc33d-8efb-44be-a863-7a87ad047932","fe4b8d5f-7c49-42c6-a7d5-1cb71c4f7e86","b7233a67-c367-4198-831e-f12089568d1f","4f3bf306-92c4-41b7-a43e-957129a1240a","6a789607-66cf-498e-9b32-eb3fa69a84f4","c9429034-dabd-4a25-8782-97f20c808a60","38c49fe2-37f8-4a7f-a99f-9edb9ddad4c2","474eb638-9f6b-46bf-8004-77668293f199","81d6dfab-69cb-43a0-aa04-e9725f0b67e1","7703d956-84db-46cd-b538-48eae1af68b5","9f937c73-dac9-4ed7-9b01-beefcb321f16","3cf9dcb9-e7db-406c-80ab-c65c11fbf906","5827ab53-e051-455b-b90a-3bdc20158c2c","fa7acd3b-dea9-4fb1-b859-5345f35163c6","696dfc48-62c3-494d-96d0-ec5fa84637e8","79df93cf-9b10-452e-bc62-f39e8cd2d124","9bb8e52d-c459-4528-b1b3-c2378207253a","5da038ef-f419-4a11-aa48-587b3787e040","b4a2c9d4-6a2c-49e6-988d-89a538dfe0f6","c374a479-5cc7-4c54-ba69-6a4d76dc25ad","d470fa67-0e7c-40d8-86ac-9b5a8be88dc8","986be38b-9780-4bb9-bdcd-4e361ddbd888","b7613f56-c2d4-4aae-b967-b7471ade86d0","e357d1fc-7466-4d6a-8d48-71b76ea97cdc","e1735855-4089-4af6-bd4d-0d59f7a76cb4","9b34581a-955a-4229-99d0-8f2a6d0e69ce","b4414811-0599-45cf-b047-fa95eac42d89","c28a8a01-911a-40a2-a607-d3af8cb24017","461d07ae-4b4a-49de-bdcb-341af1153201","3df59023-cb68-4a65-afd1-7f0b8c21cb57","0e3223d1-03df-40fb-90f9-cc8559d776b5","4f45b7d6-cd5b-46ab-b2a6-37ae20bf5f21","fa475a21-5f38-43d4-9a89-67c40b3129ae","97cbc634-fe3a-4b9b-9da6-ac4aaa94772f","8a0d34bc-7e8c-4a68-88a5-5276274f612a","623f8788-a20f-45fd-bb82-08935f59b44d","7ee398f0-450b-47cb-9b53-f5e7736590d2","eae9f077-591e-4841-903b-db395513c834","367d0f2a-0b10-4dbb-b53a-613152f124f9","398e2e28-3997-49bc-a138-0467d4da8531","8aaf4633-e879-44dc-82c8-3c9fb9d3a6f8","1eb5e5f2-8dc9-4ffc-b5e1-09b67be27a83","83465fb9-205b-41fc-83a6-424692ee0a0e","fb1d18d0-6403-4e8a-840e-134553748ff5","4407cb77-3838-4ba5-b474-f15222cd3dba","1880b0f2-e036-42d0-9550-0fb08a962397","d8d60bd6-33f6-458f-a7d6-209ef2fb05a1","29bf65ff-888b-4a76-a8dd-bf54f02c3864","bad1d4ae-fd4a-4671-ae94-dd53d94e0eae","0d59792d-db1c-4ae7-8d7c-4f013be40dcf","337dc259-2805-4b1c-a60f-1b3e6c7badb8","4b1b21a8-c278-4bc6-88f1-1a35d407f4d7","7946aba2-d6d0-45ef-8779-23fa15db8f2d","c18dbce6-9e8c-4f4b-b74a-0994e7c1bc3f","84aa87b7-39e7-493c-87b9-5cae4de95449","1446eadb-8c01-4295-be3a-ecf19361c143","fe8a7d94-e9ba-457d-8f19-10fe53e6ca3c","98a5a0b6-b07b-4065-a73f-2949ad28ac47","099219ec-fb4b-459d-a538-f6c3d54f6ca2","e047becf-e696-42e3-84c9-4f6278c844ae","975051d4-ebbc-4b3f-98cf-1a52e5e4761d","e5d98bee-b2d5-4b45-ab0b-b77da24aebe7","acac2668-1062-4e7a-b095-eda067da8413","179025c4-d8a8-4c47-b621-9fd6a6f3339b","d256e5ed-5eac-43bb-a32e-581774962c23","b843dacf-b655-4b1c-a61c-434b67f18154","56a80c2d-0520-415a-a77a-1db82eff0b3a","9c40a253-b9e8-42cd-8a99-62aaa9789a5e","d3a05020-0948-489a-80ac-fedebc035c58","0ee4f3e9-0451-411f-b903-0c83d30e5b67","769f1163-e45e-4c3b-87a7-3b551895d9be","7e217dcd-e4e5-4bcd-b2de-00fcb5ab7fba","28e3d2f6-abb8-4711-b21e-ce1937e3e546","04d4f00b-9608-4d83-949e-b32313ace34e","41f93fa3-0496-4ea7-8ac3-0a8beaf346da","f0db9e3e-0e99-4465-ae65-6a9a8d8a6468","279e794f-519c-44f5-ab04-422fba916b72","f0b2f8a5-7dfd-48dc-ba1f-419a7fda1fff","e874f269-1938-40be-974b-2e499c1f4590","65265d92-050f-4fb5-b529-a514079cdd83","5fc98358-411a-40d7-a5d0-c4089026ca1f","15fcd77a-6097-4ee9-9835-9d6e85897fd6","6f8b1275-2d88-40e2-b76b-375f3c028b03","33273042-efcc-45bc-8f28-b65a1c2c65ad","c18bd396-be21-4ce2-ab22-32a45c28e37f","ba597bcf-7582-4fd2-8049-6333ef3e4453","4edecef8-106d-489d-be1d-d1b528c4cdc9","b03b3109-e900-4daf-b852-a590324ab747","8cba5326-9daa-4c2c-b763-5476dc8a7a91","9ab4aa63-ce81-415f-bf95-e632006a1aea","e3644bfb-4244-4a82-a7d7-d7cdb65aa1ed","b6a1f5b5-febd-4c26-9e29-520290eb5719","51e53e64-e6dd-4fd6-8062-5d4455f0a1cb","f4ec684b-e5f1-44e9-a8a7-aca27f7ca6f3","177fa228-9099-4dd5-8969-c67f9c78bd0c","d5ab0d7a-0123-473f-84d4-81740defb9b4","548f6d36-c509-4b79-9c4b-59f227c7f550","c0901673-4f5e-4e51-ad87-0217f2d33a0c","0787f8d6-dc99-47c6-946e-2b008814bebc","0ade5216-1103-486a-aff0-a709ff825b02","a2c4dd21-985c-497d-b421-c2d8a9ec0eeb","908a498c-f7e3-4668-8afd-f179a027b4d9","4945e5c3-033d-467c-a8b3-b1479c1fdf0a","854f4584-28d5-43bd-938e-88d0957c78e3","6a6574f8-d63d-4fed-99c5-38f3df0364ac","5639d091-037c-4284-8260-ade765dbbc90","c9669745-2229-4d95-89a1-8f008e8bebc6","78ebe658-6ba5-4478-a53c-ad468984e7e3","c7f44558-498f-44bd-a8a3-504955dde6b1","d928387b-107b-4f27-b0c5-75301ed7fc55","833556aa-d685-488c-88d0-b136b456ff5f","0bfe1b9e-b115-49f4-9279-7b106f7661af","1465efce-6026-4d50-a952-1aff8c10dea1","f8f308d6-f4c4-4b0f-b7a3-df78d41ce55d","ebd71155-4a59-46a0-bbb2-40687ddbcf9d","29fc49e0-b597-4f2e-9d53-b7dd247adf4b","692194e6-08d3-4e36-a94f-dc403d6226e6","da9db882-26ea-4516-815c-75f2f9ddab59","9a08823e-eec6-4cc0-9ec8-890cb0650aa7","f7327b98-b06a-423a-8b9f-646e5ba2123f","a6c3c98f-9ef9-45de-9d52-4baec7327464","9d18b689-cdc2-4d3f-81da-a690c700caee","6ad26f7b-1828-4d64-a948-3cc6367f6901","3927ece3-9931-46e8-8e7e-91d5e0b5c326","f6ba5dfd-5000-4e15-80b4-7d3456bc676a","0c0d5bfd-8642-460a-aedc-5a8277725196","ff7b6fa3-510b-4ba1-9caa-9f8b4771a90e","fd036365-88c0-4feb-8482-6b4298cacdcc"],"query2":{"filter":{"operator":"and"},"aggregations":[{"property":"title","aggregator":"count"}]},"space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"role":"reader"}},"notion_user":{},"collection_query":{},"signed_urls":{"8a63738b-bb03-4053-aecc-722d21296f4e":"https://file.notion.so/f/s/ba3bcfdb-70e8-4f32-a43c-e73e766b6d71/persona5.jpeg?id=8a63738b-bb03-4053-aecc-722d21296f4e\u0026table=block\u0026spaceId=b0a64676-90b9-4734-9c63-2d704ee573b6\u0026expirationTimestamp=1683874529704\u0026signature=oYATEsULGVRH6w716S6D9UmBhyBwm5rVjQygzlr4PPc","12cfaf12-fa40-49b5-99e8-333b9af2abac":"https://file.notion.so/f/s/63089862-ccda-4eda-bc70-c6b6b63e3f29/Untitled.png?id=12cfaf12-fa40-49b5-99e8-333b9af2abac\u0026table=block\u0026spaceId=b0a64676-90b9-4734-9c63-2d704ee573b6\u0026expirationTimestamp=1683874529721\u0026signature=HdOQ2QLKnY1x9m8KTN3jQ0qEmxE72HVO-ke7_An96X4","43e2167d-aba8-4f9f-adee-c2a1df9e27be":"https://file.notion.so/f/s/d7c357f0-60a3-4143-99d7-8bb5e48c4d3c/ci_cd_cp.png?id=43e2167d-aba8-4f9f-adee-c2a1df9e27be\u0026table=block\u0026spaceId=b0a64676-90b9-4734-9c63-2d704ee573b6\u0026expirationTimestamp=1683874529721\u0026signature=7bBHL1oV7367alk6bLIUspn553Uy9aALPo1l8Bfpn7E","a80d3ca9-d6bf-432d-8af5-b230ce8e316e":"https://file.notion.so/f/s/cbb841eb-f3d2-4eb5-96d9-dbd145229387/Untitled.png?id=a80d3ca9-d6bf-432d-8af5-b230ce8e316e\u0026table=block\u0026spaceId=b0a64676-90b9-4734-9c63-2d704ee573b6\u0026expirationTimestamp=1683874529704\u0026signature=NjQ1Jd_CJa0HY_viEd-PJfAUO0Mozh35AQfP1RRnaDA","9338f096-d165-4d93-8c52-1f62f398c4bd":"https://file.notion.so/f/s/9e702fd3-af76-4d02-8c0a-a63492cc01aa/storage.gif?id=9338f096-d165-4d93-8c52-1f62f398c4bd\u0026table=block\u0026spaceId=b0a64676-90b9-4734-9c63-2d704ee573b6\u0026expirationTimestamp=1683874529704\u0026signature=xAiR8lvzN2-4EC6ppPn1O7R2dIS8M7rzaZbS-IUA5FU","5a0fd51d-fc17-4e8a-b3be-79d680bc26a5":"https://file.notion.so/f/s/933febec-2e5c-44e4-ad8a-d18c952064d6/segment.gif?id=5a0fd51d-fc17-4e8a-b3be-79d680bc26a5\u0026table=block\u0026spaceId=b0a64676-90b9-4734-9c63-2d704ee573b6\u0026expirationTimestamp=1683874529721\u0026signature=gwwFKH0OKV_V1rs7DOWbruE7rLLBg1XoTuVLVm7lIxc","220a046a-390c-4956-9d06-210dbaaf21db":"https://file.notion.so/f/s/ce81fb64-8a5f-4466-8745-857180009084/Parca_Overview.svg?id=220a046a-390c-4956-9d06-210dbaaf21db\u0026table=block\u0026spaceId=b0a64676-90b9-4734-9c63-2d704ee573b6\u0026expirationTimestamp=1683874529705\u0026signature=__jr-SxYYjZb_w0UU_uAPxLbb3dHQ3v2GxA1VarF1GE","2feb672e-1a78-4431-a03f-caa90749554e":"https://file.notion.so/f/s/c0197489-56d8-4b57-8710-f6b517f8fcba/Pasted_image_20230113174652.png?id=2feb672e-1a78-4431-a03f-caa90749554e\u0026table=block\u0026spaceId=b0a64676-90b9-4734-9c63-2d704ee573b6\u0026expirationTimestamp=1683874529705\u0026signature=iDavm6L6nX4C-OwGONgaCBrjeB5RvNHEvpgzbaoBGDs","246d23eb-b5b3-40fd-b8c5-34f8b2dbffe6":"https://file.notion.so/f/s/cb2d83a7-b7b5-4e45-8d72-0ac07fce9042/Untitled.png?id=246d23eb-b5b3-40fd-b8c5-34f8b2dbffe6\u0026table=block\u0026spaceId=b0a64676-90b9-4734-9c63-2d704ee573b6\u0026expirationTimestamp=1683874529665\u0026signature=6h58hMwlzrxAbcLDbsbP8xJg2O_DBxvwgYeonBQNhsY","727db1ff-238b-48a4-831d-8797ccfa555e":"https://file.notion.so/f/s/87cd1ef9-8c30-4c64-8e0f-c2c6aa20da27/Untitled.png?id=727db1ff-238b-48a4-831d-8797ccfa555e\u0026table=block\u0026spaceId=b0a64676-90b9-4734-9c63-2d704ee573b6\u0026expirationTimestamp=1683874529666\u0026signature=C_1MS14vQ7Mo-k35TuWy-dUNWEKObN7tHJOoYmmr9o4","418f8f28-c28d-431c-9066-d18a902fc56c":"https://file.notion.so/f/s/a9b13bb1-7174-46a7-ba2e-98d9804ae94c/Untitled.png?id=418f8f28-c28d-431c-9066-d18a902fc56c\u0026table=block\u0026spaceId=b0a64676-90b9-4734-9c63-2d704ee573b6\u0026expirationTimestamp=1683874529704\u0026signature=cfl675WGL8CP8Rplpvg57OGBtOKs_2h_NGR1QbWFwLA","b63c5b80-3d2d-4699-8fd3-fc48ed2674f0":"https://file.notion.so/f/s/a86cc56a-1126-4d9d-984c-3d1ebd31c01a/Untitled.png?id=b63c5b80-3d2d-4699-8fd3-fc48ed2674f0\u0026table=block\u0026spaceId=b0a64676-90b9-4734-9c63-2d704ee573b6\u0026expirationTimestamp=1683874529704\u0026signature=KRdfC6F2Cm3rnh8cExtADR2SLEPXkI3jg9Ssj5fqZdA","df187fd9-c3d6-4b68-803f-e7015fb83b79":"https://file.notion.so/f/s/04cb20ca-0d39-4887-90b1-b156b1c5e266/Pasted_image_20230106143708.png?id=df187fd9-c3d6-4b68-803f-e7015fb83b79\u0026table=block\u0026spaceId=b0a64676-90b9-4734-9c63-2d704ee573b6\u0026expirationTimestamp=1683874529704\u0026signature=Vx9nvII45kc5M-epo2kd5-M26agIWlT0i0jxfx0CPeo","82534873-9a04-4914-904a-996da3771045":"https://file.notion.so/f/s/4c5de3f5-8b9f-4027-bd50-bab3528a30fe/Pasted_image_20230209155039.png?id=82534873-9a04-4914-904a-996da3771045\u0026table=block\u0026spaceId=b0a64676-90b9-4734-9c63-2d704ee573b6\u0026expirationTimestamp=1683874529721\u0026signature=-vy3hJoIP8diVXhc3juz7SIheoj2YcnoRQbHutds7CI","61cbf1cb-4dee-4af1-a1a9-02731bdc2aca":"https://file.notion.so/f/s/6ed74e04-7843-405b-91cf-8e46321f2378/Pasted_image_20230209153132.png?id=61cbf1cb-4dee-4af1-a1a9-02731bdc2aca\u0026table=block\u0026spaceId=b0a64676-90b9-4734-9c63-2d704ee573b6\u0026expirationTimestamp=1683874529704\u0026signature=zajvGMtTGj28JsxlcB6oCDNL39okKR5z2YwE5fT90GQ","df84be5a-4757-4ff1-a968-281d27c40e08":"https://file.notion.so/f/s/40bd239c-c278-41f1-b81f-07659d949145/Pasted_image_20230209161309.png?id=df84be5a-4757-4ff1-a968-281d27c40e08\u0026table=block\u0026spaceId=b0a64676-90b9-4734-9c63-2d704ee573b6\u0026expirationTimestamp=1683874529705\u0026signature=HOV0uJSIMHnmncPWQmxKbC34mbwzyOqtO3PbuqGBtjA","ce4525d4-8926-4332-98c9-80382af68fae":"https://file.notion.so/f/s/e9f62ef1-da7f-4ee0-a7c0-a384c94cf72f/Pasted_image_20230209161312.png?id=ce4525d4-8926-4332-98c9-80382af68fae\u0026table=block\u0026spaceId=b0a64676-90b9-4734-9c63-2d704ee573b6\u0026expirationTimestamp=1683874529704\u0026signature=P7Nag5GEi1jbSD8VIBy4wjq-rTV_gISNPR6uziBxUwQ","e357cd64-c9ea-4f5c-89f2-15397a2b2ad1":"https://file.notion.so/f/s/a0575373-99e8-42b4-afcf-0dd78c65b4b1/Pasted_image_20230209162221.png?id=e357cd64-c9ea-4f5c-89f2-15397a2b2ad1\u0026table=block\u0026spaceId=b0a64676-90b9-4734-9c63-2d704ee573b6\u0026expirationTimestamp=1683874529721\u0026signature=eMNqIHVZK_TDZBYNe77oaNpro04MIWObcBdh6AYz6PU","3461c9b1-1c57-4bec-91b3-44d2aee67f7e":"https://file.notion.so/f/s/82b8c0ac-0516-4a8b-b09b-b0bf1fa7650a/Pasted_image_20230209162359.png?id=3461c9b1-1c57-4bec-91b3-44d2aee67f7e\u0026table=block\u0026spaceId=b0a64676-90b9-4734-9c63-2d704ee573b6\u0026expirationTimestamp=1683874529705\u0026signature=s60oFYxvCUgwWz4YS0TQ0naZGz568CQNKwkMnQhfqJk","d6be32ce-df58-4312-ab16-bc40d0a7a85d":"https://file.notion.so/f/s/6b7742fe-f526-4231-b30a-158b52a32c2f/Pasted_image_20230209161756.png?id=d6be32ce-df58-4312-ab16-bc40d0a7a85d\u0026table=block\u0026spaceId=b0a64676-90b9-4734-9c63-2d704ee573b6\u0026expirationTimestamp=1683874529704\u0026signature=LRUellVUO4c7Bp9b2bAX_rasu0EZTgi8R4Z0Ej6Vy_4","5e17dafb-13e4-4533-b6ad-eb6703c1e3e1":"https://file.notion.so/f/s/a436eddf-7b62-4cff-b8ed-d0b14037d1ca/Untitled.png?id=5e17dafb-13e4-4533-b6ad-eb6703c1e3e1\u0026table=block\u0026spaceId=b0a64676-90b9-4734-9c63-2d704ee573b6\u0026expirationTimestamp=1683874529721\u0026signature=VLTCE8CYyR34ZojoTaQ6PMaE85gTyauEN2wJo_cIf5k"}},"emailHash":"d54f099771ff5f17709b76693f693e2e"},"__N_SSG":true},"page":"/[slug]","query":{"slug":"continuous-profiling"},"buildId":"g414gbnn7WeHe2sFVh_rV","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>