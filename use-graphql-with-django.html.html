<!DOCTYPE html><html lang="zh-CN"><head><meta name="viewport" content="width=device-width"/><title>用 GraphQL 查询你的 Django 应用</title><meta name="robots" content="follow, index"/><meta charSet="UTF-8"/><meta name="keywords" content="Blog, Notion, Tech, Python, Django"/><meta name="description" content="强是挺强，但适用场景依旧有限"/><meta property="og:locale" content="zh-CN"/><meta property="og:title" content="用 GraphQL 查询你的 Django 应用"/><meta property="og:description" content="强是挺强，但适用场景依旧有限"/><meta property="og:url" content="https://next.emergencyexit.xyz/"/><meta property="og:image" content="https://og-image-craigary.vercel.app/%E7%94%A8%20GraphQL%20%E6%9F%A5%E8%AF%A2%E4%BD%A0%E7%9A%84%20Django%20%E5%BA%94%E7%94%A8.png?theme=dark&amp;md=1&amp;fontSize=125px&amp;images=https%3A%2F%2Fnobelium.vercel.app%2Flogo-for-dark-bg.svg"/><meta property="og:type" content="article"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:description" content="强是挺强，但适用场景依旧有限"/><meta name="twitter:title" content="用 GraphQL 查询你的 Django 应用"/><meta name="twitter:image" content="https://og-image-craigary.vercel.app/%E7%94%A8%20GraphQL%20%E6%9F%A5%E8%AF%A2%E4%BD%A0%E7%9A%84%20Django%20%E5%BA%94%E7%94%A8.png?theme=dark&amp;md=1&amp;fontSize=125px&amp;images=https%3A%2F%2Fnobelium.vercel.app%2Flogo-for-dark-bg.svg"/><meta property="article:published_time"/><meta property="article:author" content="bluesyu"/><meta name="next-head-count" content="18"/><link rel="preload" href="/fonts/IBMPlexSansVar-Roman.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><link rel="preload" href="/fonts/IBMPlexSansVar-Italic.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/><link rel="preload" as="style" data-href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&amp;display=swap"/><link rel="stylesheet" data-href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&amp;display=swap"/><noscript><link rel="stylesheet" data-href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&amp;display=swap"/></noscript><link rel="icon" href="/favicon.svg" type="image/svg+xml"/><link rel="icon" href="/favicon.ico"/><link rel="apple-touch-icon" sizes="192x192" href="/apple-touch-icon.png"/><link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="/feed"/><meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)"/><meta name="theme-color" content="#18181B" media="(prefers-color-scheme: dark)"/><link rel="preload" href="/_next/static/css/8e8bd7c50b2739f5.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8e8bd7c50b2739f5.css" data-n-g=""/><link rel="preload" href="/_next/static/css/6a5815369e10547f.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6a5815369e10547f.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-c0a56147c8fcef8f.js" defer=""></script><script src="/_next/static/chunks/main-e557dee8cfeafd6c.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6b8bcc68cb80bb32.js" defer=""></script><script src="/_next/static/chunks/b5f2ed29-08db60af0c3043ba.js" defer=""></script><script src="/_next/static/chunks/684-63c1a25e215d8bed.js" defer=""></script><script src="/_next/static/chunks/580-c0214944b9e37cce.js" defer=""></script><script src="/_next/static/chunks/pages/%5Bslug%5D-03011df04807c853.js" defer=""></script><script src="/_next/static/D9Djqk3Urz4RpQzb05P1Z/_buildManifest.js" defer=""></script><script src="/_next/static/D9Djqk3Urz4RpQzb05P1Z/_ssgManifest.js" defer=""></script><script src="/_next/static/D9Djqk3Urz4RpQzb05P1Z/_middlewareManifest.js" defer=""></script><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap"/></head><body class="bg-day dark:bg-night"><div id="__next" data-reactroot=""><div><div class="wrapper font-sans"><div class="observer-element h-4 md:h-12"></div><div class="sticky-nav m-auto w-full h-6 flex flex-row justify-between items-center mb-2 md:mb-12 py-8 bg-opacity-60 max-w-3xl px-4" id="sticky-nav"><div class="flex items-center"><a aria-label="布鲁斯鱼的妙想天开" href="/"><div class="h-6"><svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="14" cy="14" r="14" class="fill-current text-black dark:text-white"></circle><circle cx="14" cy="14" r="14" fill="url(#paint0_radial)"></circle><circle cx="8" cy="8" r="1.5" fill="white"></circle><defs><radialGradient id="paint0_radial" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="rotate(45) scale(39.598)"><stop stop-color="#3399FF" stop-opacity="0.9"></stop><stop offset="1" stop-color="#FF3399" stop-opacity="0.6"></stop></radialGradient></defs></svg></div></a><p class="ml-2 font-medium text-day dark:text-night header-name">用 GraphQL 查询你的 Django 应用</p></div><div class="flex-shrink-0"><ul class="flex flex-row"><li class="block ml-4 text-black dark:text-gray-50 nav"><a href="/about">关于</a></li><li class="block ml-4 text-black dark:text-gray-50 nav"><a href="/search">搜索</a></li></ul></div></div><main class="m-auto flex-grow w-full transition-all max-w-3xl px-4"><article><h1 class="font-bold text-3xl text-black dark:text-white">😶‍🌫️<!-- --> <!-- -->用 GraphQL 查询你的 Django 应用</h1><nav class="flex mt-7 items-start text-gray-500 dark:text-gray-400"><div class="flex mb-4"><a href="https://twitter.com/bluesedenyu" class="flex"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2724%27%20height=%2724%27/%3e"/></span><img alt="bluesyu" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="rounded-full" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="bluesyu" srcSet="https://gravatar.com/avatar/d54f099771ff5f17709b76693f693e2e?imwidth=32 1x, https://gravatar.com/avatar/d54f099771ff5f17709b76693f693e2e?imwidth=48 2x" src="https://gravatar.com/avatar/d54f099771ff5f17709b76693f693e2e?imwidth=48" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="rounded-full" loading="lazy"/></noscript></span><p class="ml-2 md:block">bluesyu</p></a><span class="block"> / </span></div><div class="mr-2 mb-4 md:ml-0">2021 年 11 月 27 日</div><div class="flex flex-nowrap max-w-full overflow-x-auto article-tags"><a href="/tag/tech"><p class="mr-1 rounded-full px-2 py-1 border leading-none text-sm dark:border-gray-600">tech</p></a><a href="/tag/django"><p class="mr-1 rounded-full px-2 py-1 border leading-none text-sm dark:border-gray-600">django</p></a><a href="/tag/python"><p class="mr-1 rounded-full px-2 py-1 border leading-none text-sm dark:border-gray-600">python</p></a><a href="/tag/web"><p class="mr-1 rounded-full px-2 py-1 border leading-none text-sm dark:border-gray-600">web</p></a><a href="/tag/graphql"><p class="mr-1 rounded-full px-2 py-1 border leading-none text-sm dark:border-gray-600">graphql</p></a></div><div> <img src="https://images.unsplash.com/photo-1610007863631-86d870c56b45?ixlib=rb-1.2.1&amp;q=85&amp;fm=jpg&amp;crop=entropy&amp;cs=srgb"/> </div></nav><div class="-mt-4"><main class="notion light-mode notion-page notion-block-9a08823eeec64cc09ec8890cb0650aa7"><div class="notion-viewport"></div><div class="notion-collection-row"><div class="notion-collection-row-body"><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M10.889 5.5H3.11v1.556h7.778V5.5zm1.555-4.444h-.777V0H10.11v1.056H3.89V0H2.333v1.056h-.777c-.864 0-1.548.7-1.548 1.555L0 12.5c0 .856.692 1.5 1.556 1.5h10.888C13.3 14 14 13.356 14 12.5V2.611c0-.855-.7-1.555-1.556-1.555zm0 11.444H1.556V3.944h10.888V12.5zM8.556 8.611H3.11v1.556h5.445V8.61z"></path></svg><div class="notion-collection-column-title-body">date</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-date">Nov 27, 2021</span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 4.568a.5.5 0 00-.5-.5h-6a.5.5 0 00-.5.5v1.046a.5.5 0 00.5.5h6a.5.5 0 00.5-.5V4.568zM.5 1a.5.5 0 00-.5.5v1.045a.5.5 0 00.5.5h12a.5.5 0 00.5-.5V1.5a.5.5 0 00-.5-.5H.5zM0 8.682a.5.5 0 00.5.5h11a.5.5 0 00.5-.5V7.636a.5.5 0 00-.5-.5H.5a.5.5 0 00-.5.5v1.046zm0 3.068a.5.5 0 00.5.5h9a.5.5 0 00.5-.5v-1.045a.5.5 0 00-.5-.5h-9a.5.5 0 00-.5.5v1.045z"></path></svg><div class="notion-collection-column-title-body">slug</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-text">use-graphql-with-django.html</span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 13A6 6 0 107 1a6 6 0 000 12zM3.751 5.323A.2.2 0 013.909 5h6.182a.2.2 0 01.158.323L7.158 9.297a.2.2 0 01-.316 0L3.751 5.323z"></path></svg><div class="notion-collection-column-title-body">status</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-select"><div class="notion-property-select-item notion-item-red">Published</div></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M4 3a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zm0 4a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zm0 4a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zM2 4a1 1 0 110-2 1 1 0 010 2zm0 4a1 1 0 110-2 1 1 0 010 2zm0 4a1 1 0 110-2 1 1 0 010 2z"></path></svg><div class="notion-collection-column-title-body">tags</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-multi_select"><div class="notion-property-multi_select-item notion-item-orange">tech</div><div class="notion-property-multi_select-item notion-item-red">django</div><div class="notion-property-multi_select-item notion-item-brown">python</div><div class="notion-property-multi_select-item notion-item-pink">web</div><div class="notion-property-multi_select-item notion-item-gray">graphql</div></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 4.568a.5.5 0 00-.5-.5h-6a.5.5 0 00-.5.5v1.046a.5.5 0 00.5.5h6a.5.5 0 00.5-.5V4.568zM.5 1a.5.5 0 00-.5.5v1.045a.5.5 0 00.5.5h12a.5.5 0 00.5-.5V1.5a.5.5 0 00-.5-.5H.5zM0 8.682a.5.5 0 00.5.5h11a.5.5 0 00.5-.5V7.636a.5.5 0 00-.5-.5H.5a.5.5 0 00-.5.5v1.046zm0 3.068a.5.5 0 00.5.5h9a.5.5 0 00.5-.5v-1.045a.5.5 0 00-.5-.5h-9a.5.5 0 00-.5.5v1.045z"></path></svg><div class="notion-collection-column-title-body">summary</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-text">强是挺强，但适用场景依旧有限</span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 13A6 6 0 107 1a6 6 0 000 12zM3.751 5.323A.2.2 0 013.909 5h6.182a.2.2 0 01.158.323L7.158 9.297a.2.2 0 01-.316 0L3.751 5.323z"></path></svg><div class="notion-collection-column-title-body">type</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-select"><div class="notion-property-select-item notion-item-purple">Post</div></span></div></div></div></div><div class="notion-table-of-contents notion-gray notion-block-7cbbabf5b06b4f1b832fe664023382bd"><a href="#6f80cc74a749486d8ad82ae7a1aea572" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:0">什么是 GraphQL ？</span></a><a href="#5041039329414c21aaebd26612c47d03" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:0">它有什么有意思的特性</span></a><a href="#5be2fa55f8854b9dae359baadc092859" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">Fragments</span></a><a href="#51381a94e35a4a2790d130b10e46dbd2" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">Directives</span></a><a href="#f7baf2676dcd4b14a48a5960996fbfbb" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:0">和 REST 相比较有什么优势和劣势？</span></a><a href="#8b386b3470f74f38862ae13b9c8ee6e9" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">TLDR</span></a><a href="#1d318237ebd04d408d49f9a6ac2982d0" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">vs 扩展的 REST 协议</span></a><a href="#3db8daa2fcb0409baa596fd5472b9ff3" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:0">什么是 GraphQL 客户端?</span></a><a href="#499a5d133c9b493e946a692b0e21a062" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:0">服务端落地：GraphQL → Django</span></a><a href="#8c904f70489a4268a7b5c8f4ca2d51e6" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">支持 Relay</span></a><a href="#3d929743493649a6a43da55924cdfa5e" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">引入 graphene-django-extras</span></a><a href="#0068853173e54e1bacc12aa21d51205d" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">鉴权</span></a><a href="#10f53459be3844c7a1355a1ed5bd63b9" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:0">总结</span></a></div><div class="notion-callout notion-gray_background_co notion-block-2986488d269c41b787a73096363557d2"><span class="notion-page-icon" role="img" aria-label="😶‍🌫️">😶‍🌫️</span><div class="notion-callout-text">全文以后端开发视角写作，部分涉及到前端开发的介绍可能存在错误或者不准确，欢迎在评论区斧正</div></div><h3 class="notion-h notion-h2 notion-h-indent-0 notion-block-6f80cc74a749486d8ad82ae7a1aea572" data-id="6f80cc74a749486d8ad82ae7a1aea572"><span><div id="6f80cc74a749486d8ad82ae7a1aea572" class="notion-header-anchor"></div><a class="notion-hash-link" href="#6f80cc74a749486d8ad82ae7a1aea572" title="什么是 GraphQL ？"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">什么是 GraphQL ？</span></span></h3><div class="notion-text notion-block-9ce07e2a85a94064abc0f2e22d9324cf">先来看看 <a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://zh.wikipedia.org/wiki/GraphQL">wikipedia</a>：</div><blockquote class="notion-quote notion-block-5e3b15ce4caa4fc9a4bdf513a497a202">GraphQL 是一个开源的，面向 API 而创造出来的数据查询操作语言以及相应的服务端运行环境。</blockquote><div class="notion-text notion-block-46ff6eaaa64045318192214e00ed3b7a">GraphQL 首先是一种查询语言，它定义了一种通用的数据查询方式，可以理解为一种通用的 SQL，只不过前者面向抽象的数据集，后者往往是具体的关系型数据库。</div><div class="notion-text notion-block-2cbc564d204a449faf4f770a57101a88">其次，它还包括一种服务端运行时，用于实现查询语句解析、数据类型定义。</div><h3 class="notion-h notion-h2 notion-h-indent-0 notion-block-5041039329414c21aaebd26612c47d03" data-id="5041039329414c21aaebd26612c47d03"><span><div id="5041039329414c21aaebd26612c47d03" class="notion-header-anchor"></div><a class="notion-hash-link" href="#5041039329414c21aaebd26612c47d03" title="它有什么有意思的特性"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">它有什么有意思的特性</span></span></h3><div class="notion-text notion-block-78e75c481cda4072b1e02f6cd843e186">仅从后端开发视角，列举几个觉得有意思的特性</div><h4 class="notion-h notion-h3 notion-h-indent-1 notion-block-5be2fa55f8854b9dae359baadc092859" data-id="5be2fa55f8854b9dae359baadc092859"><span><div id="5be2fa55f8854b9dae359baadc092859" class="notion-header-anchor"></div><a class="notion-hash-link" href="#5be2fa55f8854b9dae359baadc092859" title="Fragments"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">Fragments</span></span></h4><pre class="notion-code language-graphql"><code class="language-graphql">query <span class="token function">HeroComparison</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">$first</span><span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">3</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">leftComparison</span><span class="token operator">:</span> <span class="token function">hero</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">episode</span><span class="token operator">:</span> <span class="token constant">EMPIRE</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>comparisonFields
  <span class="token punctuation">}</span>
  <span class="token literal-property property">rightComparison</span><span class="token operator">:</span> <span class="token function">hero</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">episode</span><span class="token operator">:</span> <span class="token constant">JEDI</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>comparisonFields
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

fragment comparisonFields on Character <span class="token punctuation">{</span>
  name
  <span class="token function">friendsConnection</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">first</span><span class="token operator">:</span> $first</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    totalCount
    edges <span class="token punctuation">{</span>
      node <span class="token punctuation">{</span>
        name
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><div class="notion-text notion-block-c04278bd4ae44492a254104fde035325">使用 Fragment 复用查询内容，并且可以定义参数</div><h4 class="notion-h notion-h3 notion-h-indent-1 notion-block-51381a94e35a4a2790d130b10e46dbd2" data-id="51381a94e35a4a2790d130b10e46dbd2"><span><div id="51381a94e35a4a2790d130b10e46dbd2" class="notion-header-anchor"></div><a class="notion-hash-link" href="#51381a94e35a4a2790d130b10e46dbd2" title="Directives"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">Directives</span></span></h4><pre class="notion-code language-graphql"><code class="language-graphql">query <span class="token function">Hero</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">$episode</span><span class="token operator">:</span> Episode<span class="token punctuation">,</span> <span class="token literal-property property">$withFriends</span><span class="token operator">:</span> Boolean<span class="token operator">!</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">hero</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">episode</span><span class="token operator">:</span> $episode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    name
    friends @<span class="token function">include</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">if</span><span class="token operator">:</span> $withFriends</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      name
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

# variables
<span class="token punctuation">{</span>
  <span class="token string-property property">"episode"</span><span class="token operator">:</span> <span class="token string">"JEDI"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"withFriends"</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span></code></pre><div class="notion-text notion-block-50804a4e6c7d45c1a89613654cb0eedd">可以通过通用的两种指令来控制一些字段的返回：</div><ul class="notion-list notion-list-disc notion-block-b6b987cd363943509af04767f54d1795"><li> <code class="notion-inline-code">@include(if: Boolean)</code> </li></ul><ul class="notion-list notion-list-disc notion-block-9d6988932833425689d6246356037357"><li> <code class="notion-inline-code">@skip(if: Boolean)</code> </li></ul><h3 class="notion-h notion-h2 notion-h-indent-0 notion-block-f7baf2676dcd4b14a48a5960996fbfbb" data-id="f7baf2676dcd4b14a48a5960996fbfbb"><span><div id="f7baf2676dcd4b14a48a5960996fbfbb" class="notion-header-anchor"></div><a class="notion-hash-link" href="#f7baf2676dcd4b14a48a5960996fbfbb" title="和 REST 相比较有什么优势和劣势？"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">和 REST 相比较有什么优势和劣势？</span></span></h3><h4 class="notion-h notion-h3 notion-h-indent-1 notion-block-8b386b3470f74f38862ae13b9c8ee6e9" data-id="8b386b3470f74f38862ae13b9c8ee6e9"><span><div id="8b386b3470f74f38862ae13b9c8ee6e9" class="notion-header-anchor"></div><a class="notion-hash-link" href="#8b386b3470f74f38862ae13b9c8ee6e9" title="TLDR"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">TLDR</span></span></h4><div class="notion-text notion-block-b286d02d551a49ceb9c46c7736257409">REST 更多是从 HTTP 协议出发的一种约定协议，因为受制于 HTTP 协议本身的设计，在<b>表达能力</b>上是弱于<b>作为查询语言</b>的 GraphQL 的。</div><div class="notion-text notion-block-a88e97e928ae41ab81936449989916a6">同时，REST 通常都是由后端开发者主动封装，而 GraphQL 则是由前端主动拼装。</div><div class="notion-text notion-block-865d80be70cf4e4aaacde0d426f1e966">所以如果面对的场景是<span class="notion-teal">前端需求复杂而多变，GraphQL 肯定比 REST 更适合快速迭代。</span></div><div class="notion-text notion-block-d59f255d52314c30b7292fcf4312e374">也正因此，GraphQL 在实现上更加繁复，所以<span class="notion-pink">面对 API 数量少、需求不会轻易的场景时，REST 反而是更适合的技术选型。</span></div><div class="notion-blank notion-block-dd6dda57e33e4cc4a158fe795567d923"> </div><div class="notion-text notion-block-bae7469dcdf3408cab30219494171505"><em>作为后端开发，学习和使用 GraphQL 的动力，更多是</em><em><b>想将自己从 CRUD 的泥沼中拯救出来，</b></em><em>将更多的精力放在其他更重要的技术上。</em></div><h4 class="notion-h notion-h3 notion-h-indent-1 notion-block-1d318237ebd04d408d49f9a6ac2982d0" data-id="1d318237ebd04d408d49f9a6ac2982d0"><span><div id="1d318237ebd04d408d49f9a6ac2982d0" class="notion-header-anchor"></div><a class="notion-hash-link" href="#1d318237ebd04d408d49f9a6ac2982d0" title="vs 扩展的 REST 协议"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">vs 扩展的 REST 协议</span></span></h4><div class="notion-text notion-block-9b5c1dee8abf461f85b0cc6ab7187b8c">（此小节中图片拷贝自<a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://www.howtographql.com/basics/1-graphql-is-th">网络</a>，懒得画）</div><div class="notion-text notion-block-9f3b0d45de334ab4bbd7ee7edf38e4ff">和 REST 一样，GraphQL 并不是什么开发框架，它只是定义了一种通用型查询的 <a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://en.wikipedia.org/wiki/Domain-specific_language">DSL</a>。</div><div class="notion-text notion-block-9a384f67fe30477f978ff21b22e36de9">而使用 REST 协议进行资源拉取，我们总是会面临一些实际的问题，而 GraphQL 可以在一定程度上解决。那么肯定会有同学在想，REST 是非常灵活的，完全可以通过自建一个查询语法，弥补上述的 REST 缺陷，何必要另外引入 GraphQL 徒增复杂度呢。</div><div class="notion-text notion-block-016edec76cf34328ac821ba4bc4268e3">说的没错，所以我们在阐述这些问题的时候，也会附上我们当前基于 REST 的解决方案。</div><div class="notion-blank notion-block-9151f0fa7aa04512bd8567f9b597b835"> </div><div class="notion-text notion-block-86523c26bb6f4ca881988768cfd86c64"><b>Overfetching：</b></div><div class="notion-text notion-block-261e9041ab2347b7aa5f4f2ac4bf7283">假如我们定义了一个 <code class="notion-inline-code">/comments</code> 的 API，输出评论列表。以 <a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://www.django-rest-framework.org/">django-rest-framework</a> 为例，我们都会定义一个 <code class="notion-inline-code">Serializer</code> 来声明它的输入和输出。</div><pre class="notion-code language-python"><code class="language-python">from rest_framework <span class="token keyword">import</span> serializers

<span class="token keyword">class</span> <span class="token class-name">CommentSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>Serializer<span class="token punctuation">)</span><span class="token operator">:</span>
    email <span class="token operator">=</span> serializers<span class="token punctuation">.</span><span class="token function">EmailField</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    content <span class="token operator">=</span> serializers<span class="token punctuation">.</span><span class="token function">CharField</span><span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">)</span>
    logo <span class="token operator">=</span> serializer<span class="token punctuation">.</span><span class="token function">ImageField</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token operator">...</span><span class="token punctuation">(</span>省略数不清的字段<span class="token punctuation">)</span>
    created <span class="token operator">=</span> serializers<span class="token punctuation">.</span><span class="token function">DateTimeField</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    ip_from <span class="token operator">=</span> serializers<span class="token punctuation">.</span><span class="token function">IPAddressField</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><div class="notion-text notion-block-9243ba0ad276413398efd52a86e73c76">看起来符合常理，它可以轻松满足大多数评论列表的需求。但是也许某一天，我们需要一个评论的精简列表的 API，当前返回内容中，除了 <code class="notion-inline-code">content</code> 以外的其他字段都变成多余了，那么后端开发需要重新定一个 <code class="notion-inline-code">MinimalCommentSerializer</code> 来满足新的需求。</div><div class="notion-text notion-block-c1041cb777b346d89717b6b8227d5719">在 REST 基础中，我们增加了 <code class="notion-inline-code">fields</code> 参数，并在 <code class="notion-inline-code">DRF Serializer</code> 里做了<a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/TencentBlueKing/bk-user/blob/8c633e0a3821beb839ed120c4514c5733e675862/src/api/bkuser_core/common/viewset.py#L71">特殊处理（你可以点击查看源码）</a>，实现的具体效果：</div><pre class="notion-code language-json"><code class="language-json"># 查询 comment，并限制结果返回字段
<span class="token operator">/</span>api<span class="token operator">/</span>comments<span class="token operator">?</span>fields<span class="token operator">=</span>email<span class="token punctuation">,</span>content

# 返回
<span class="token punctuation">{</span>
  <span class="token string-property property">"results"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"email"</span><span class="token operator">:</span> <span class="token string">"foo@bar.com"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"content"</span><span class="token operator">:</span> <span class="token string">"I love this blog, simple and good looking."</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre><div class="notion-text notion-block-f597e7e436cb44f4940b946ac14191db">而如果我们使用 GraphQL，写法上会更自然：</div><pre class="notion-code language-graphql"><code class="language-graphql">query <span class="token punctuation">{</span>
  comment <span class="token punctuation">{</span>
    email
    content
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><div class="notion-text notion-block-73155088d28a4e6f8b82bf2551ad1a67"><b>Underfetching</b></div><div class="notion-text notion-block-5b93503e6e0c47fa8165bb452f67c8f3">相较于 Overfetching 是获取了过多数据，Underfetching 则是在请求获取的数据不足够满足需求。</div><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-76d7c8f902c246cba62dfd7a00b5c990"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:720px;max-width:100%;flex-direction:column"><img style="object-fit:contain" src="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F7396e0b5-7539-4174-992e-c35a8076984e%2FUntitled.png?table=block&amp;id=76d7c8f9-02c2-46cb-a62d-fd7a00b5c990&amp;cache=v2" loading="lazy" alt="传统的 REST 协议" decoding="async"/><figcaption class="notion-asset-caption">传统的 REST 协议</figcaption></div></figure><div class="notion-text notion-block-f20ce9deab744d049c5c529571cf5b0a">假如我们需要获取所有用户维度的评论，我们需要先获取通过 <code class="notion-inline-code">/users</code> 所有用户 id，再使用 id 列表遍历查询 <code class="notion-inline-code">/users/&lt;id&gt;/comments</code> 来获取相关的列表。</div><div class="notion-text notion-block-664a1feb5c8f4030a77f313f8f2c05f0">在 REST 中，为了这个需求我们可能会额外为 <code class="notion-inline-code">/users</code> 增加一个参数 <code class="notion-inline-code">with_comments</code> </div><pre class="notion-code language-json"><code class="language-json"># 查询 users，并限制结果返回字段
<span class="token operator">/</span>api<span class="token operator">/</span>users<span class="token operator">?</span>with_comments<span class="token operator">=</span><span class="token number">1</span>

# 返回
<span class="token punctuation">{</span>
  <span class="token string-property property">"results"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"username"</span><span class="token operator">:</span> <span class="token string">"foo"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"telephone"</span><span class="token operator">:</span> <span class="token string">"12345"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"comments"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"email"</span><span class="token operator">:</span> <span class="token string">"foo@bar.com"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"content"</span><span class="token operator">:</span> <span class="token string">"I love this blog, simple and good looking."</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre><div class="notion-blank notion-block-d002648bd6984cb1ac8c6a0951653437"> </div><div class="notion-text notion-block-511e89a1906b47068da530351636a8ab">相较于自定义的 REST 协议，使用 GraphQL 可以更简单：</div><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-801be6ddb7bf4afd988363ef9ea359ea"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:624px;max-width:100%;flex-direction:column"><img style="object-fit:contain" src="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fc730795a-8b87-497e-a6c8-38c4c29f310a%2FUntitled.png?table=block&amp;id=801be6dd-b7bf-4afd-9883-63ef9ea359ea&amp;cache=v2" loading="lazy" alt="使用 GraphQL，只需要一次请求" decoding="async"/><figcaption class="notion-asset-caption">使用 GraphQL，只需要一次请求</figcaption></div></figure><hr class="notion-hr notion-block-a7cc3850d7d34e9394559e3c484535a8"/><div class="notion-blank notion-block-ae2e1ab9de4445e9af25da3b4283ed30"> </div><div class="notion-text notion-block-e5388855af4c4978ab5d79d928a68fac">相信通过上面的例子，我们可以清晰地看出，相较于 GraphQL ，基于 REST 扩展协议存在这些问题：</div><ul class="notion-list notion-list-disc notion-block-0c2d157b66104281b7465d60c317263c"><li>不够通用，用户有额外的学习成本，增加了额外的文档负担。</li></ul><ul class="notion-list notion-list-disc notion-block-bf511966e9b04e6f9565a4435370aaf7"><li>基于 REST ，单个请求只能针对单个对象进行描述。需要等待需求沉淀，由后端主动封装，迭代节奏会更慢。</li></ul><h3 class="notion-h notion-h2 notion-h-indent-0 notion-block-3db8daa2fcb0409baa596fd5472b9ff3" data-id="3db8daa2fcb0409baa596fd5472b9ff3"><span><div id="3db8daa2fcb0409baa596fd5472b9ff3" class="notion-header-anchor"></div><a class="notion-hash-link" href="#3db8daa2fcb0409baa596fd5472b9ff3" title="什么是 GraphQL 客户端?"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">什么是 GraphQL 客户端?</span></span></h3><div class="notion-text notion-block-b271423a2db348a9a08562e982457465">我们主要聚焦于 GraphQL 服务端提供，但是也需要先看一下所谓的客户端究竟做了什么。</div><div class="notion-text notion-block-e4ae6016eb264be39a05804c3bd07f25">简单来说，要想在原生 Javascript 中直接使用 GraphQL 并不是一件特别容易的事，需要一些库来协助拉取和管理 GraphQL 数据。</div><div class="notion-text notion-block-3114c568468f4b9cb5b95fe9120d51dd">相较于原生的 GraphQL ，客户端主要解决了几件事情：</div><ul class="notion-list notion-list-disc notion-block-2729ac7032e44245a0b78c928929cfda"><li>客户端数据拉取缓存问题（包括缓存一致性、更新缓存等）</li></ul><ul class="notion-list notion-list-disc notion-block-f3841eb2487b404d8002ecfebcd4e44b"><li>数据分页、声明式数据获取</li></ul><ul class="notion-list notion-list-disc notion-block-dd027b39a3d647529443d0b0220299df"><li>...</li></ul><div class="notion-text notion-block-5b0213aea8b443078ff3c6d9eb1455b5">主流的客户端框架主要有两种—— <a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://relay.dev/">Relay</a> 和 <a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://www.apollographql.com/">Apollo</a> ，我们仅从有限的角度来看下二者的异同：</div><div class="notion-collection notion-block-79eac296c4544b138687c18a99776607"><div class="notion-collection-header" style="padding-left:96px;padding-right:96px"><div class="notion-collection-header-title">Relay vs Apollo</div></div><div class="notion-table" style="width:1024px;max-width:1024px"><div class="notion-table-view" style="padding-left:96px;padding-right:96px"><div class="notion-table-header"><div class="notion-table-header-inner"><div class="notion-table-th"><div class="notion-table-view-header-cell" style="width:232.66949462890625px"><div class="notion-table-view-header-cell-inner"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7.74 8.697a.81.81 0 01.073.308.894.894 0 01-.9.888.867.867 0 01-.825-.592l-.333-.961H2.058l-.333.961a.882.882 0 01-.838.592A.884.884 0 010 9.005c0-.11.025-.222.062-.308l2.403-6.211c.222-.58.776-.986 1.442-.986.653 0 1.22.407 1.442.986l2.39 6.211zM2.6 6.824h2.613L3.907 3.102 2.6 6.824zm8.8-3.118c1.355 0 2.6.542 2.6 2.255V9.08a.8.8 0 01-.789.814.797.797 0 01-.788-.703c-.395.468-1.097.764-1.874.764-.949 0-2.07-.64-2.07-1.972 0-1.392 1.121-1.897 2.07-1.897.789 0 1.491.246 1.886.727v-.826c0-.604-.518-.998-1.306-.998-.469 0-.888.123-1.32.394a.64.64 0 01-.307.086.602.602 0 01-.592-.604c0-.221.123-.419.284-.517a3.963 3.963 0 012.206-.641zm-.222 5.188c.505 0 .998-.172 1.257-.517v-.74c-.259-.345-.752-.517-1.257-.517-.616 0-1.122.332-1.122.9 0 .554.506.874 1.122.874zM.656 11.125h12.688a.656.656 0 110 1.313H.656a.656.656 0 110-1.313z"></path></svg><div class="notion-collection-column-title-body"></div></div></div></div></div><div class="notion-table-th"><div class="notion-table-view-header-cell" style="width:232.66949462890625px"><div class="notion-table-view-header-cell-inner"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 4.568a.5.5 0 00-.5-.5h-6a.5.5 0 00-.5.5v1.046a.5.5 0 00.5.5h6a.5.5 0 00.5-.5V4.568zM.5 1a.5.5 0 00-.5.5v1.045a.5.5 0 00.5.5h12a.5.5 0 00.5-.5V1.5a.5.5 0 00-.5-.5H.5zM0 8.682a.5.5 0 00.5.5h11a.5.5 0 00.5-.5V7.636a.5.5 0 00-.5-.5H.5a.5.5 0 00-.5.5v1.046zm0 3.068a.5.5 0 00.5.5h9a.5.5 0 00.5-.5v-1.045a.5.5 0 00-.5-.5h-9a.5.5 0 00-.5.5v1.045z"></path></svg><div class="notion-collection-column-title-body">Relay</div></div></div></div></div><div class="notion-table-th"><div class="notion-table-view-header-cell" style="width:369.66949462890625px"><div class="notion-table-view-header-cell-inner"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 4.568a.5.5 0 00-.5-.5h-6a.5.5 0 00-.5.5v1.046a.5.5 0 00.5.5h6a.5.5 0 00.5-.5V4.568zM.5 1a.5.5 0 00-.5.5v1.045a.5.5 0 00.5.5h12a.5.5 0 00.5-.5V1.5a.5.5 0 00-.5-.5H.5zM0 8.682a.5.5 0 00.5.5h11a.5.5 0 00.5-.5V7.636a.5.5 0 00-.5-.5H.5a.5.5 0 00-.5.5v1.046zm0 3.068a.5.5 0 00.5.5h9a.5.5 0 00.5-.5v-1.045a.5.5 0 00-.5-.5h-9a.5.5 0 00-.5.5v1.045z"></path></svg><div class="notion-collection-column-title-body">Apollo</div></div></div></div></div></div></div><div class="notion-table-header-placeholder"></div><div class="notion-table-body"><div class="notion-table-row"><div class="notion-table-cell notion-table-cell-title" style="width:232.66949462890625px"><span class="notion-property notion-property-title"><a class="notion-page-link" href="https://www.notion.so/bc1b723e68814b8db570eaa51d4dd328"><span class="notion-page-title"><svg class="notion-page-title-icon notion-page-icon" alt="框架支持" viewBox="0 0 30 30" width="16"><path d="M16,1H4v28h22V11L16,1z M16,3.828L23.172,11H16V3.828z M24,27H6V3h8v10h10V27z M8,17h14v-2H8V17z M8,21h14v-2H8V21z M8,25h14v-2H8V25z"></path></svg><span class="notion-page-title-text">框架支持</span></span></a></span></div><div class="notion-table-cell notion-table-cell-text" style="width:232.66949462890625px"><span class="notion-property notion-property-text">仅支持 React, React Native</span></div><div class="notion-table-cell notion-table-cell-text" style="width:369.66949462890625px"><span class="notion-property notion-property-text">无框架限定</span></div></div><div class="notion-table-row"><div class="notion-table-cell notion-table-cell-title" style="width:232.66949462890625px"><span class="notion-property notion-property-title"><a class="notion-page-link" href="https://www.notion.so/574b8c14d70949388afad8250db9a9ee"><span class="notion-page-title"><svg class="notion-page-title-icon notion-page-icon" alt="GraphQL API" viewBox="0 0 30 30" width="16"><path d="M16,1H4v28h22V11L16,1z M16,3.828L23.172,11H16V3.828z M24,27H6V3h8v10h10V27z M8,17h14v-2H8V17z M8,21h14v-2H8V21z M8,25h14v-2H8V25z"></path></svg><span class="notion-page-title-text">GraphQL API</span></span></a></span></div><div class="notion-table-cell notion-table-cell-text" style="width:232.66949462890625px"><span class="notion-property notion-property-text">需要特定的 Schema 支持</span></div><div class="notion-table-cell notion-table-cell-text" style="width:369.66949462890625px"><span class="notion-property notion-property-text">无需特定的 Schema 支持</span></div></div><div class="notion-table-row"><div class="notion-table-cell notion-table-cell-title" style="width:232.66949462890625px"><span class="notion-property notion-property-title"><a class="notion-page-link" href="https://www.notion.so/c0029db1fe0c44948186e6eb55c57632"><span class="notion-page-title"><svg class="notion-page-title-icon notion-page-icon" alt="学习成本" viewBox="0 0 30 30" width="16"><path d="M16,1H4v28h22V11L16,1z M16,3.828L23.172,11H16V3.828z M24,27H6V3h8v10h10V27z M8,17h14v-2H8V17z M8,21h14v-2H8V21z M8,25h14v-2H8V25z"></path></svg><span class="notion-page-title-text">学习成本</span></span></a></span></div><div class="notion-table-cell notion-table-cell-text" style="width:232.66949462890625px"><span class="notion-property notion-property-text">较高</span></div><div class="notion-table-cell notion-table-cell-text" style="width:369.66949462890625px"><span class="notion-property notion-property-text">较低</span></div></div><div class="notion-table-row"><div class="notion-table-cell notion-table-cell-title" style="width:232.66949462890625px"><span class="notion-property notion-property-title"><a class="notion-page-link" href="https://www.notion.so/5cf89e43953a4289aef7334c7760d81a"><span class="notion-page-title"><svg class="notion-page-title-icon notion-page-icon" alt="生产力" viewBox="0 0 30 30" width="16"><path d="M16,1H4v28h22V11L16,1z M16,3.828L23.172,11H16V3.828z M24,27H6V3h8v10h10V27z M8,17h14v-2H8V17z M8,21h14v-2H8V21z M8,25h14v-2H8V25z"></path></svg><span class="notion-page-title-text">生产力</span></span></a></span></div><div class="notion-table-cell notion-table-cell-text" style="width:232.66949462890625px"><span class="notion-property notion-property-text">高</span></div><div class="notion-table-cell notion-table-cell-text" style="width:369.66949462890625px"><span class="notion-property notion-property-text">较低</span></div></div><div class="notion-table-row"><div class="notion-table-cell notion-table-cell-title" style="width:232.66949462890625px"><span class="notion-property notion-property-title"><a class="notion-page-link" href="https://www.notion.so/d710e6b7a1a2458493f3a4a06adc7f6e"><span class="notion-page-title"><svg class="notion-page-title-icon notion-page-icon" alt="灵活性" viewBox="0 0 30 30" width="16"><path d="M16,1H4v28h22V11L16,1z M16,3.828L23.172,11H16V3.828z M24,27H6V3h8v10h10V27z M8,17h14v-2H8V17z M8,21h14v-2H8V21z M8,25h14v-2H8V25z"></path></svg><span class="notion-page-title-text">灵活性</span></span></a></span></div><div class="notion-table-cell notion-table-cell-text" style="width:232.66949462890625px"><span class="notion-property notion-property-text">固定结构</span></div><div class="notion-table-cell notion-table-cell-text" style="width:369.66949462890625px"><span class="notion-property notion-property-text">较灵活</span></div></div><div class="notion-table-row"><div class="notion-table-cell notion-table-cell-title" style="width:232.66949462890625px"><span class="notion-property notion-property-title"><a class="notion-page-link" href="https://www.notion.so/4e0a6851a331441cbb68fd9b6fa17ffb"><span class="notion-page-title"><svg class="notion-page-title-icon notion-page-icon" alt="是否支持订阅" viewBox="0 0 30 30" width="16"><path d="M16,1H4v28h22V11L16,1z M16,3.828L23.172,11H16V3.828z M24,27H6V3h8v10h10V27z M8,17h14v-2H8V17z M8,21h14v-2H8V21z M8,25h14v-2H8V25z"></path></svg><span class="notion-page-title-text">是否支持订阅</span></span></a></span></div><div class="notion-table-cell notion-table-cell-text" style="width:232.66949462890625px"><span class="notion-property notion-property-text">否</span></div><div class="notion-table-cell notion-table-cell-text" style="width:369.66949462890625px"><span class="notion-property notion-property-text">是</span></div></div></div></div></div></div><div class="notion-text notion-block-25bbafb30a124becb56e2e541cd779e4">简而言之，Realy 更复杂，更能够应对大型应用，Apollo 更轻量，不过需要更多的手工劳动。</div><h3 class="notion-h notion-h2 notion-h-indent-0 notion-block-499a5d133c9b493e946a692b0e21a062" data-id="499a5d133c9b493e946a692b0e21a062"><span><div id="499a5d133c9b493e946a692b0e21a062" class="notion-header-anchor"></div><a class="notion-hash-link" href="#499a5d133c9b493e946a692b0e21a062" title="服务端落地：GraphQL → Django"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">服务端落地：GraphQL → Django</span></span></h3><div class="notion-text notion-block-d82aba35a7ee4c7e896c4366b1d5ec5e">想要将 GraphQL 引入现有的项目，我们需要安装两个基础的依赖：</div><ul class="notion-list notion-list-disc notion-block-850425fb270440e89da6348449515cbf"><li><a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/graphql-python/graphene-django">graphene-django</a> </li></ul><ul class="notion-list notion-list-disc notion-block-06516dcbe6bf497184297351f2d2b55c"><li><a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/carltongibson/django-filter">django-filter</a></li></ul><div class="notion-text notion-block-7f566dd96e93421b9e7552ca098c92db">二者分别负责两部分的工作：</div><ul class="notion-list notion-list-disc notion-block-269531b02e9c47c88da2441c19e7ccc0"><li>Django Model ⇒  Schema</li></ul><ul class="notion-list notion-list-disc notion-block-17baeebedf8c4e94a698faf2a0dfebd4"><li>Query  ⇒  Filter Django Model </li></ul><h4 class="notion-h notion-h3 notion-h-indent-1 notion-block-8c904f70489a4268a7b5c8f4ca2d51e6" data-id="8c904f70489a4268a7b5c8f4ca2d51e6"><span><div id="8c904f70489a4268a7b5c8f4ca2d51e6" class="notion-header-anchor"></div><a class="notion-hash-link" href="#8c904f70489a4268a7b5c8f4ca2d51e6" title="支持 Relay"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">支持 Relay</span></span></h4><div class="notion-text notion-block-e80c823d66984b70aef628752f33c177">graphene-django 本身 <a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://docs.graphene-python.org/projects/django/en/latest/tutorial-relay/">默认支持 Relay</a>，所以你可以很容易地开启</div><pre class="notion-code language-python"><code class="language-python">from graphene <span class="token keyword">import</span> relay
from graphene_django <span class="token keyword">import</span> DjangoObjectType
from ingredients<span class="token punctuation">.</span>models <span class="token keyword">import</span> Category

# Graphene will automatically map the Category model's fields onto the CategoryNode<span class="token punctuation">.</span>
# This is configured <span class="token keyword">in</span> the CategoryNode's Meta <span class="token keyword">class</span> <span class="token punctuation">(</span><span class="token keyword">as</span> you can see below<span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">CategoryNode</span><span class="token punctuation">(</span>DjangoObjectType<span class="token punctuation">)</span><span class="token operator">:</span>
    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token operator">:</span>
        model <span class="token operator">=</span> Category
        filter_fields <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'ingredients'</span><span class="token punctuation">]</span>
        interfaces <span class="token operator">=</span> <span class="token punctuation">(</span>relay<span class="token punctuation">.</span>Node<span class="token punctuation">,</span> <span class="token punctuation">)</span></code></pre><div class="notion-text notion-block-eecb673cd4084d57ad0a511380cd6b28">不过很多时候考虑到 Relay 的复杂度，有时都不适合引入，更何况 Relay 需要特殊的 Schema 支持：</div><div class="notion-row notion-block-419c60d4a1a84f0ba4d39bb116e55b71"><div class="notion-column notion-block-63a72f800f3946378539183410ea26ba" style="width:calc((100% - (1 * min(32px, 4vw))) * 0.5)"><pre class="notion-code language-graphql"><code class="language-graphql">query <span class="token punctuation">{</span>
  allIngredients <span class="token punctuation">{</span>
    edges <span class="token punctuation">{</span>
      node <span class="token punctuation">{</span>
        id<span class="token punctuation">,</span>
        name
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><figcaption class="notion-asset-caption">Relay Schema：edges、node 层级同样会出现在返回值</figcaption></div><div class="notion-spacer"></div><div class="notion-column notion-block-5c0491f03bc64f83aea39c6375e5f19d" style="width:calc((100% - (1 * min(32px, 4vw))) * 0.5)"><pre class="notion-code language-graphql"><code class="language-graphql">query <span class="token punctuation">{</span>
  allIngredients <span class="token punctuation">{</span>
    id
    name
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>



</code></pre><figcaption class="notion-asset-caption">原生 Schema： 明显更自然、简洁</figcaption></div><div class="notion-spacer"></div></div><div class="notion-text notion-block-25b4916ef4774955a012fbc141f700eb">这时候 graphene-django 就存在一个问题，当不使用 Relay 时，存在一些功能缺失：</div><ul class="notion-list notion-list-disc notion-block-ded5b120c51d4b1b8132a268a7d6b3f9"><li>Fragment \ Directives </li></ul><ul class="notion-list notion-list-disc notion-block-c75d9e445c274d5da510af554f9830a5"><li>分页、过滤</li></ul><ul class="notion-list notion-list-disc notion-block-33259eba02144fa9acda4e3e1eaf90ec"><li>通过 DRF Serializer 定义 Mutations</li></ul><div class="notion-text notion-block-21b3d48f64384238aad0c4a13b125c0f">所以我们需要引入额外的库来解决。</div><h4 class="notion-h notion-h3 notion-h-indent-1 notion-block-3d929743493649a6a43da55924cdfa5e" data-id="3d929743493649a6a43da55924cdfa5e"><span><div id="3d929743493649a6a43da55924cdfa5e" class="notion-header-anchor"></div><a class="notion-hash-link" href="#3d929743493649a6a43da55924cdfa5e" title="引入 graphene-django-extras"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">引入 <a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/eamigo86/graphene-django-extras">graphene-django-extras</a></span></span></h4><pre class="notion-code language-python"><code class="language-python">from graphene <span class="token keyword">import</span> ObjectType
from graphene_django_extras <span class="token keyword">import</span> DjangoListObjectField<span class="token punctuation">,</span> DjangoListObjectType
from graphene_django_extras<span class="token punctuation">.</span>paginations <span class="token keyword">import</span> LimitOffsetGraphqlPagination

<span class="token keyword">class</span> <span class="token class-name">CommentListType</span><span class="token punctuation">(</span>DjangoListObjectType<span class="token punctuation">)</span><span class="token operator">:</span>
    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token operator">:</span>
        model <span class="token operator">=</span> Comment
        fields <span class="token operator">=</span> <span class="token string">"__all__"</span>
        pagination <span class="token operator">=</span> <span class="token function">LimitOffsetGraphqlPagination</span><span class="token punctuation">(</span>default_limit<span class="token operator">=</span><span class="token number">25</span><span class="token punctuation">,</span> ordering<span class="token operator">=</span><span class="token string">"-id"</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Query</span><span class="token punctuation">(</span>ObjectType<span class="token punctuation">)</span><span class="token operator">:</span>
    comments <span class="token operator">=</span> <span class="token function">DjangoListObjectField</span><span class="token punctuation">(</span>CommentListType<span class="token punctuation">,</span> description<span class="token operator">=</span><span class="token string">"Query all comments"</span><span class="token punctuation">)</span></code></pre><div class="notion-text notion-block-7b3762d8e2ad445e9c38eac7bedd68e5"><b>支持复杂过滤查询</b></div><div class="notion-text notion-block-6ebe03413a0040f4b7b5295e3b67a824">可以在列表对象中增加 <code class="notion-inline-code">filter_fields</code> ，针对不同的字段支持不同的 Django 复杂查询方法。</div><pre class="notion-code language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">CommentListType</span><span class="token punctuation">(</span>DjangoListObjectType<span class="token punctuation">)</span><span class="token operator">:</span>
    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token operator">:</span>
        model <span class="token operator">=</span> Comment
        filter_fields <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"exact"</span><span class="token punctuation">,</span> <span class="token string">"in"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string-property property">"content"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"exact"</span><span class="token punctuation">,</span> <span class="token string">"icontains"</span><span class="token punctuation">,</span> <span class="token string">"istartswith"</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
        pagination <span class="token operator">=</span> <span class="token function">LimitOffsetGraphqlPagination</span><span class="token punctuation">(</span>default_limit<span class="token operator">=</span><span class="token number">25</span><span class="token punctuation">,</span> ordering<span class="token operator">=</span><span class="token string">"-username"</span><span class="token punctuation">)</span></code></pre><div class="notion-text notion-block-c71e31a767824aff9b82ee53004c179c">这样就可以将一些 Django 的查询能力释放到前端</div><pre class="notion-code language-graphql"><code class="language-graphql">query <span class="token punctuation">{</span>
  <span class="token function">comments</span><span class="token punctuation">(</span>id__In<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span> content_Icontains<span class="token operator">:</span> <span class="token string">"Amazing"</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    totalCount
    <span class="token function">results</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">10</span> <span class="token literal-property property">offset</span><span class="token operator">:</span> <span class="token number">0</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      id
      email
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> 
<span class="token punctuation">}</span></code></pre><div class="notion-text notion-block-208020ce25114ee2a60d8b07df687d43"><b>自定义查询字段</b></div><div class="notion-text notion-block-fa290cc6855049289a6df8b9537c6cf3">Django 默认的查询能力，对于一些特殊字段并不能完全覆盖需求，这时我们就需要针对这些内容手写一些处理逻辑。</div><pre class="notion-code language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Query</span><span class="token punctuation">(</span>ObjectType<span class="token punctuation">)</span><span class="token operator">:</span>
    user <span class="token operator">=</span> <span class="token function">Field</span><span class="token punctuation">(</span>UserType<span class="token punctuation">,</span> description<span class="token operator">=</span><span class="token string">"Retrieve certain user"</span><span class="token punctuation">,</span> id<span class="token operator">=</span><span class="token function">Int</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> username<span class="token operator">=</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

		def <span class="token function">resolve_user</span><span class="token punctuation">(</span>
        self<span class="token punctuation">,</span> <span class="token literal-property property">context</span><span class="token operator">:</span> <span class="token string">"GraphQLResolveInfo"</span><span class="token punctuation">,</span> <span class="token literal-property property">id</span><span class="token operator">:</span> Optional<span class="token punctuation">[</span>int<span class="token punctuation">]</span> <span class="token operator">=</span> None<span class="token punctuation">,</span> <span class="token literal-property property">username</span><span class="token operator">:</span> Optional<span class="token punctuation">[</span>str<span class="token punctuation">]</span> <span class="token operator">=</span> None
    <span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> User<span class="token operator">:</span>
        <span class="token keyword">if</span> id is not None<span class="token operator">:</span>
            <span class="token keyword">return</span> User<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>pk<span class="token operator">=</span>id<span class="token punctuation">)</span>

        <span class="token keyword">if</span> username is None<span class="token operator">:</span>
            raise <span class="token function">ValueError</span><span class="token punctuation">(</span><span class="token string">"username or pk at least one is required"</span><span class="token punctuation">)</span>

        # <span class="token keyword">do</span> some custom logic
        <span class="token operator">...</span>

        <span class="token keyword">return</span> User<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>username<span class="token operator">=</span>username<span class="token punctuation">)</span></code></pre><div class="notion-text notion-block-cce7dff50ba44dffa5f85844bfdcf91b">需要注意的是，当我们使用 <code class="notion-inline-code">resolve_</code> 函数去处理查询时，GraphQL 和 REST 本质上只是查询 DSL 有所区别，都会遇到类似像 <a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://stackoverflow.com/questions/97197/what-is-the-n1-selects-problem-in-orm-object-relational-mapping">N+1</a> 这样的慢查询问题，所以需要谨慎地将前端的查询转换成可靠的 Django ORM 查询。</div><h4 class="notion-h notion-h3 notion-h-indent-1 notion-block-0068853173e54e1bacc12aa21d51205d" data-id="0068853173e54e1bacc12aa21d51205d"><span><div id="0068853173e54e1bacc12aa21d51205d" class="notion-header-anchor"></div><a class="notion-hash-link" href="#0068853173e54e1bacc12aa21d51205d" title="鉴权"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">鉴权</span></span></h4><div class="notion-text notion-block-41b09c496df54886b6b685e8f38fb9c5">由于 API 请求并不再经过传统封装的 ViewSet，原有的鉴权组件不再能使用，你需要引入新的 <a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/redzej/graphene-permissions">graphene-permissions</a> 来解决针对用户的权限控制。</div><div class="notion-text notion-block-486546d75ed744b48491c065b47b6915">本文成文时，graphene-permissions 对于最新的 Graphene 3.x 有一些<a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/redzej/graphene-permissions/pull/36">小的兼容性问题</a>，由于该库代码量非常小，可以考虑复制到自己的项目手动维护。</div><pre class="notion-code language-python"><code class="language-python">from <span class="token punctuation">.</span>mixins <span class="token keyword">import</span> AuthNode
from <span class="token punctuation">.</span>permissions <span class="token keyword">import</span> AllowSuperuser

<span class="token keyword">class</span> <span class="token class-name">UserNode</span><span class="token punctuation">(</span>AuthNode<span class="token punctuation">,</span> DjangoObjectType<span class="token punctuation">)</span><span class="token operator">:</span>
    permission_classes <span class="token operator">=</span> <span class="token punctuation">(</span>AllowAuthenticated<span class="token punctuation">,</span><span class="token punctuation">)</span>

    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token operator">:</span>
        model <span class="token operator">=</span> User
        filter_fields <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'username'</span><span class="token punctuation">,</span><span class="token punctuation">)</span>
        interfaces <span class="token operator">=</span> <span class="token punctuation">(</span>relay<span class="token punctuation">.</span>Node<span class="token punctuation">,</span><span class="token punctuation">)</span></code></pre><div class="notion-blank notion-block-3a7758ed778747038fbc0b83f8c7ec6e"> </div><div class="notion-text notion-block-212d68c0638c45c1a66570938e3eb1c7">尴尬的是，如果你并不想用 Relay，我们需要针对 graphene-django-extras 做一些自己的定制，而原有的封装没有很好地暴露足够的接口，经过一番探索并无头绪，最终作罢🥴。</div><h3 class="notion-h notion-h2 notion-h-indent-0 notion-block-10f53459be3844c7a1355a1ed5bd63b9" data-id="10f53459be3844c7a1355a1ed5bd63b9"><span><div id="10f53459be3844c7a1355a1ed5bd63b9" class="notion-header-anchor"></div><a class="notion-hash-link" href="#10f53459be3844c7a1355a1ed5bd63b9" title="总结"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">总结</span></span></h3><ul class="notion-list notion-list-disc notion-block-9d67626a1d9641cd90f5af2e20aa6bc9"><li>GraphQL 在前端需求迭代频繁的场景下，比 REST 更符合现代开发节奏</li></ul><ul class="notion-list notion-list-disc notion-block-9f6415435fd9484fbc2ce5c4d2770bfe"><li>GraphQL 的语言设计比自定义扩展的 REST 更自然，更具备通用性</li></ul><ul class="notion-list notion-list-disc notion-block-2448995dbf5046fb8d4cf720a8a4991a"><li>GraphQL 会将比较多的工作放到客户端，适合成熟的客户端开发团队，反之 REST 是更好的选择</li></ul><ul class="notion-list notion-list-disc notion-block-df526e5ca78840c8a0cf8355e37cf7bf"><li>Django 相关的生态建设并不完善，没有一个足够强大、开箱即用的整合方案</li></ul><ul class="notion-list notion-list-disc notion-block-f819d57fbe4b469683400d4b084480c1"><li>由于查询并不是基于 Uri 维度，会给周边配套的生态—— 监控、日志等 ——带来一些新的挑战</li></ul><div class="notion-blank notion-block-ddaf5c2480f746f791a762c4707709f5"> </div></main></div></article><div class="flex justify-between font-medium text-gray-500 dark:text-gray-400"><a><button class="mt-2 cursor-pointer hover:text-black dark:hover:text-gray-100">← <!-- -->返回</button></a><a><button class="mt-2 cursor-pointer hover:text-black dark:hover:text-gray-100">↑ <!-- -->回到顶部</button></a></div><div></div></main><div class="mt-6 flex-shrink-0 m-auto w-full text-gray-500 dark:text-gray-400 transition-all max-w-3xl px-4"><hr class="border-gray-200 dark:border-gray-600"/><div class="my-4 text-sm leading-6"><div class="flex align-baseline justify-between flex-wrap"><p>© <!-- -->bluesyu<!-- --> <!-- -->2019 - 2022</p><p>powered by <a href="https://github.com/craigary/nobelium"><u>nobelium</u></a></p></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","date":{"start_date":"2021-11-27"},"type":["Post"],"slug":"use-graphql-with-django.html","tags":["tech","django","python","web","graphql"],"summary":"强是挺强，但适用场景依旧有限","title":"用 GraphQL 查询你的 Django 应用","status":["Published"],"createdTime":"Tue Oct 18 2022 02:10:50 GMT+0000 (Coordinated Universal Time)","fullWidth":false,"pageIcon":"😶‍🌫️","pageCover":"https://images.unsplash.com/photo-1610007863631-86d870c56b45?ixlib=rb-1.2.1\u0026q=85\u0026fm=jpg\u0026crop=entropy\u0026cs=srgb"},"blockMap":{"block":{"9a08823e-eec6-4cc0-9ec8-890cb0650aa7":{"role":"reader","value":{"id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","version":161,"type":"page","properties":{"NX\\Q":[["‣",[["d",{"type":"date","start_date":"2021-11-27"}]]]],"`gQ~":[["Post"]],"d]hq":[["use-graphql-with-django.html"]],"sD^m":[["tech,django,python,web,graphql"]],"wz|S":[["强是挺强，但适用场景依旧有限"]],"title":[["用 GraphQL 查询你的 Django 应用"]],"26ff3130-393a-45ac-92b5-7490d9b87515":[["post"]],"29e679ed-47a3-46c2-9eb4-9070171591b8":[["Yes"]],"b6d830ff-ce1d-4e76-a484-f0fc3f148c52":[["Yes"]],"f211bdc0-ee00-4186-9a7d-f68c055ec2ee":[["Published"]]},"content":["7cbbabf5-b06b-4f1b-832f-e664023382bd","2986488d-269c-41b7-87a7-3096363557d2","6f80cc74-a749-486d-8ad8-2ae7a1aea572","9ce07e2a-85a9-4064-abc0-f2e22d9324cf","5e3b15ce-4caa-4fc9-a4bd-f513a497a202","46ff6eaa-a640-4531-8192-214e00ed3b7a","2cbc564d-204a-449f-af4f-770a57101a88","50410393-2941-4c21-aaeb-d26612c47d03","78e75c48-1cda-4072-b1e0-2f6cd843e186","5be2fa55-f885-4b9d-ae35-9baadc092859","2ff9677b-de9e-42ed-bac3-6c6be3e2c507","c04278bd-4ae4-4492-a254-104fde035325","51381a94-e35a-4a27-90d1-30b10e46dbd2","52259eff-88e7-4e23-b4f1-21f53d90ad51","50804a4e-6c7d-45c1-a896-13654cb0eedd","b6b987cd-3639-4350-9af0-4767f54d1795","9d698893-2833-4256-89d6-246356037357","f7baf267-6dcd-4b14-a48a-5960996fbfbb","8b386b34-70f7-4f38-862a-e13b9c8ee6e9","b286d02d-551a-49ce-b9c4-6c7736257409","a88e97e9-28ae-41ab-8193-6449989916a6","865d80be-70cf-4e4a-aacd-e0d426f1e966","d59f255d-5231-4c30-b729-2fcf4312e374","dd6dda57-e33e-4cc4-a158-fe795567d923","bae7469d-cdf3-408c-ab30-219494171505","1d318237-ebd0-4d40-8d49-f9a6ac2982d0","9b5c1dee-8abf-461f-85b0-cc6ab7187b8c","9f3b0d45-de33-4ab4-bbd7-ee7edf38e4ff","9a384f67-fe30-477f-978f-f21b22e36de9","016edec7-6cf3-4328-ac82-1ba4bc4268e3","9151f0fa-7aa0-4512-bd85-67f9b597b835","86523c26-bb6f-4ca8-8198-8768cfd86c64","261e9041-ab23-47b7-aa5f-4f2ac4bf7283","cf7d83dd-7fc0-4154-86da-4babbc538739","9243ba0a-d276-4133-98ef-d52a86e73c76","c1041cb7-77b3-46d8-9717-b6b8227d5719","aa076ea1-5973-4fd8-9cce-01e3327859e6","f597e7e4-36cb-44f4-940b-946ac14191db","781a5510-0499-474f-9865-78abd700296f","73155088-d28a-4e6f-8b82-bf2551ad1a67","5b93503e-6e0c-47fa-8165-bb452f67c8f3","76d7c8f9-02c2-46cb-a62d-fd7a00b5c990","f20ce9de-ab74-4d04-9c5c-529571cf5b0a","664a1feb-5c8f-4030-a77f-313f8f2c05f0","1a7e5e42-b68b-4143-896d-70bf22d45a9c","d002648b-d698-4cb1-ac8c-6a0951653437","511e89a1-906b-4706-8da5-30351636a8ab","801be6dd-b7bf-4afd-9883-63ef9ea359ea","a7cc3850-d7d3-4e93-9455-9e3c484535a8","ae2e1ab9-de44-45e9-af25-da3b4283ed30","e5388855-af4c-4978-ab5d-79d928a68fac","0c2d157b-6610-4281-b746-5d60c317263c","bf511966-e9b0-4e6f-9565-a4435370aaf7","3db8daa2-fcb0-409b-aa59-6fd5472b9ff3","b271423a-2db3-48a9-a085-62e982457465","e4ae6016-eb26-4be3-9a05-804c3bd07f25","3114c568-468f-4b9c-b5b9-5fe9120d51dd","2729ac70-32e4-4245-a0b7-8c928929cfda","f3841eb2-487b-404d-8002-ecfebcd4e44b","dd027b39-a3d6-4752-9443-d0b0220299df","5b0213ae-a8b4-4307-8ff3-c6d9eb1455b5","79eac296-c454-4b13-8687-c18a99776607","25bbafb3-0a12-4bec-b56e-2e541cd779e4","499a5d13-3c9b-493e-946a-692b0e21a062","d82aba35-a7ee-4c7e-896c-4366b1d5ec5e","850425fb-2704-40e8-9da6-348449515cbf","06516dcb-e6bf-4971-8429-7351f2d2b55c","7f566dd9-6e93-421b-9e75-52ca098c92db","269531b0-2e9c-47c8-8da2-441c19e7ccc0","17baeebe-df8c-4e94-a698-faf2a0dfebd4","8c904f70-489a-4268-a7b5-c8f4ca2d51e6","e80c823d-6698-4b70-aef6-28752f33c177","0abf7ff8-7a1d-41ca-a4c4-3a4701ce0929","eecb673c-d408-4d57-ad0a-511380cd6b28","419c60d4-a1a8-4f0b-a4d3-9bb116e55b71","25b4916e-f477-4955-a012-fbc141f700eb","ded5b120-c51d-4b1b-8132-a268a7d6b3f9","c75d9e44-5c27-4d5d-a510-af554f9830a5","33259eba-0214-4fa9-acda-4e3e1eaf90ec","21b3d48f-6438-4238-aad0-c4a13b125c0f","3d929743-4936-49a6-a43d-a55924cdfa5e","04a75c8e-f823-4fa5-b327-6b55335d4f9c","7b3762d8-e2ad-445e-9c38-eac7bedd68e5","6ebe0341-3a00-40f4-b7b5-295e3b67a824","1dffee77-8967-495e-91f7-8afb0f20e759","c71e31a7-6782-4aff-9b82-ee53004c179c","3990890d-bf07-49df-95d2-b958b38d483e","208020ce-2511-4ee2-a60d-8b07df687d43","fa290cc6-8550-4928-9a6d-f8b9537c6cf3","8e141389-c010-4ee7-b3e3-0b1989e87bd0","cce7dff5-0ba4-4dff-a5f8-5844bfdcf91b","00688531-73e5-4e1b-acc1-2aa21d51205d","41b09c49-6df5-4886-b6b6-85e8f38fb9c5","486546d7-5ed7-44b4-8491-c065b47b6915","234a40a9-b6e6-4179-9ae8-60774d48446c","3a7758ed-7787-4703-8fbc-0b83f8c7ec6e","212d68c0-638c-45c1-a665-70938e3eb1c7","10f53459-be38-44c7-a135-5a1ed5bd63b9","9d67626a-1d96-41cd-90f5-af2e20aa6bc9","9f641543-5fd9-484f-bc2c-e5c4d2770bfe","2448995d-bf50-46fb-8d4c-f720a8a4991a","df526e5c-a788-40c8-a0cf-8355e37cf7bf","f819d57f-be4b-4696-8340-0d4b084480c1","ddaf5c24-80f7-46f7-91a7-62c4707709f5"],"format":{"page_icon":"😶‍🌫️","page_cover":"https://images.unsplash.com/photo-1610007863631-86d870c56b45?ixlib=rb-1.2.1\u0026q=85\u0026fm=jpg\u0026crop=entropy\u0026cs=srgb","page_full_width":false,"copied_from_pointer":{"id":"97932cef-8ad5-49c4-97a5-6b31aebabc41","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"page_cover_position":0.6282},"created_time":1666059050582,"last_edited_time":1666200480000,"parent_id":"e34bec60-9b02-4ad8-aaf8-83369409cc9f","parent_table":"collection","alive":true,"copied_from":"97932cef-8ad5-49c4-97a5-6b31aebabc41","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"a6089909-2d0d-43ef-af93-5e041712e826":{"role":"reader","value":{"id":"a6089909-2d0d-43ef-af93-5e041712e826","version":111,"type":"collection_view_page","view_ids":["065b98d2-d3b4-4dab-8b96-4eb118a3f311"],"collection_id":"e34bec60-9b02-4ad8-aaf8-83369409cc9f","format":{"block_locked":false,"block_locked_by":"2c0e0b01-f59e-4e03-b7b6-7d706eecada3","collection_pointer":{"id":"e34bec60-9b02-4ad8-aaf8-83369409cc9f","table":"collection","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"copied_from_pointer":{"id":"adc3552c-fc73-442a-b504-8d4b1eb0079a","table":"block","spaceId":"ac4cb96d-c8f8-4040-9bb2-868d9fc7f526"}},"permissions":[{"role":"editor","type":"user_permission","user_id":"f594524b-0941-4aea-99a2-9b9304033287"},{"role":"reader","type":"public_permission","added_timestamp":1666006306008}],"created_time":1665993658476,"last_edited_time":1666200600000,"parent_id":"b0a64676-90b9-4734-9c63-2d704ee573b6","parent_table":"space","alive":true,"copied_from":"adc3552c-fc73-442a-b504-8d4b1eb0079a","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"7cbbabf5-b06b-4f1b-832f-e664023382bd":{"role":"reader","value":{"id":"7cbbabf5-b06b-4f1b-832f-e664023382bd","version":1,"type":"table_of_contents","format":{"block_color":"gray","copied_from_pointer":{"id":"070ac75d-ce34-4550-b243-c12c647168f2","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050576,"last_edited_time":1666059050576,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"070ac75d-ce34-4550-b243-c12c647168f2","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"2986488d-269c-41b7-87a7-3096363557d2":{"role":"reader","value":{"id":"2986488d-269c-41b7-87a7-3096363557d2","version":1,"type":"callout","properties":{"title":[["全文以后端开发视角写作，部分涉及到前端开发的介绍可能存在错误或者不准确，欢迎在评论区斧正"]]},"format":{"page_icon":"😶‍🌫️","block_color":"gray_background","copied_from_pointer":{"id":"27559afd-fe9c-4a54-9c52-85de70e8f090","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050577,"last_edited_time":1666059050577,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"27559afd-fe9c-4a54-9c52-85de70e8f090","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"6f80cc74-a749-486d-8ad8-2ae7a1aea572":{"role":"reader","value":{"id":"6f80cc74-a749-486d-8ad8-2ae7a1aea572","version":1,"type":"sub_header","properties":{"title":[["什么是 GraphQL ？"]]},"format":{"copied_from_pointer":{"id":"ed167f6d-7dc1-485c-99cc-bed1637a1e3a","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050580,"last_edited_time":1666059050580,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"ed167f6d-7dc1-485c-99cc-bed1637a1e3a","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"9ce07e2a-85a9-4064-abc0-f2e22d9324cf":{"role":"reader","value":{"id":"9ce07e2a-85a9-4064-abc0-f2e22d9324cf","version":1,"type":"text","properties":{"title":[["先来看看 "],["wikipedia",[["a","https://zh.wikipedia.org/wiki/GraphQL"]]],["："]]},"format":{"copied_from_pointer":{"id":"c7c3229e-7a28-40e2-a1e2-579a215c6e01","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050580,"last_edited_time":1666059050580,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"c7c3229e-7a28-40e2-a1e2-579a215c6e01","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"5e3b15ce-4caa-4fc9-a4bd-f513a497a202":{"role":"reader","value":{"id":"5e3b15ce-4caa-4fc9-a4bd-f513a497a202","version":1,"type":"quote","properties":{"title":[["GraphQL 是一个开源的，面向 API 而创造出来的数据查询操作语言以及相应的服务端运行环境。"]]},"format":{"quote_size":"large","copied_from_pointer":{"id":"a0a81e8e-d9d6-41d6-b514-3f7a1af0adb8","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050579,"last_edited_time":1666059050579,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"a0a81e8e-d9d6-41d6-b514-3f7a1af0adb8","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"46ff6eaa-a640-4531-8192-214e00ed3b7a":{"role":"reader","value":{"id":"46ff6eaa-a640-4531-8192-214e00ed3b7a","version":1,"type":"text","properties":{"title":[["GraphQL 首先是一种查询语言，它定义了一种通用的数据查询方式，可以理解为一种通用的 SQL，只不过前者面向抽象的数据集，后者往往是具体的关系型数据库。"]]},"format":{"copied_from_pointer":{"id":"f99f4071-591f-48de-ba5c-865e074ce17b","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050581,"last_edited_time":1666059050581,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"f99f4071-591f-48de-ba5c-865e074ce17b","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"2cbc564d-204a-449f-af4f-770a57101a88":{"role":"reader","value":{"id":"2cbc564d-204a-449f-af4f-770a57101a88","version":1,"type":"text","properties":{"title":[["其次，它还包括一种服务端运行时，用于实现查询语句解析、数据类型定义。"]]},"format":{"copied_from_pointer":{"id":"c8a25180-4005-4925-aaa7-35c0ceb4fa6a","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050580,"last_edited_time":1666059050580,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"c8a25180-4005-4925-aaa7-35c0ceb4fa6a","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"50410393-2941-4c21-aaeb-d26612c47d03":{"role":"reader","value":{"id":"50410393-2941-4c21-aaeb-d26612c47d03","version":1,"type":"sub_header","properties":{"title":[["它有什么有意思的特性"]]},"format":{"copied_from_pointer":{"id":"66e78933-c6ae-469e-8461-8c0675fc3bcf","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050578,"last_edited_time":1666059050578,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"66e78933-c6ae-469e-8461-8c0675fc3bcf","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"78e75c48-1cda-4072-b1e0-2f6cd843e186":{"role":"reader","value":{"id":"78e75c48-1cda-4072-b1e0-2f6cd843e186","version":1,"type":"text","properties":{"title":[["仅从后端开发视角，列举几个觉得有意思的特性"]]},"format":{"copied_from_pointer":{"id":"62d1937f-a967-4bf4-9ab2-4e1c00782594","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050578,"last_edited_time":1666059050578,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"62d1937f-a967-4bf4-9ab2-4e1c00782594","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"5be2fa55-f885-4b9d-ae35-9baadc092859":{"role":"reader","value":{"id":"5be2fa55-f885-4b9d-ae35-9baadc092859","version":1,"type":"sub_sub_header","properties":{"title":[["Fragments"]]},"format":{"copied_from_pointer":{"id":"7b076e31-4f6c-459c-89f3-7a6b59eb284e","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050579,"last_edited_time":1666059050579,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"7b076e31-4f6c-459c-89f3-7a6b59eb284e","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"2ff9677b-de9e-42ed-bac3-6c6be3e2c507":{"role":"reader","value":{"id":"2ff9677b-de9e-42ed-bac3-6c6be3e2c507","version":1,"type":"code","properties":{"title":[["query HeroComparison($first: Int = 3) {\n  leftComparison: hero(episode: EMPIRE) {\n    ...comparisonFields\n  }\n  rightComparison: hero(episode: JEDI) {\n    ...comparisonFields\n  }\n}\n\nfragment comparisonFields on Character {\n  name\n  friendsConnection(first: $first) {\n    totalCount\n    edges {\n      node {\n        name\n      }\n    }\n  }\n}"]],"language":[["GraphQL"]]},"format":{"code_wrap":true,"copied_from_pointer":{"id":"f1496a5e-2ca7-4b79-a327-7ca42410cc39","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050580,"last_edited_time":1666059050580,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"f1496a5e-2ca7-4b79-a327-7ca42410cc39","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"c04278bd-4ae4-4492-a254-104fde035325":{"role":"reader","value":{"id":"c04278bd-4ae4-4492-a254-104fde035325","version":1,"type":"text","properties":{"title":[["使用 Fragment 复用查询内容，并且可以定义参数"]]},"format":{"copied_from_pointer":{"id":"17d38fee-1ad6-4327-80d3-ac2f2d1e58d0","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050577,"last_edited_time":1666059050577,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"17d38fee-1ad6-4327-80d3-ac2f2d1e58d0","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"51381a94-e35a-4a27-90d1-30b10e46dbd2":{"role":"reader","value":{"id":"51381a94-e35a-4a27-90d1-30b10e46dbd2","version":1,"type":"sub_sub_header","properties":{"title":[["Directives"]]},"format":{"copied_from_pointer":{"id":"a7ff5533-2c47-410f-8088-7ff5594150bf","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050579,"last_edited_time":1666059050579,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"a7ff5533-2c47-410f-8088-7ff5594150bf","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"52259eff-88e7-4e23-b4f1-21f53d90ad51":{"role":"reader","value":{"id":"52259eff-88e7-4e23-b4f1-21f53d90ad51","version":1,"type":"code","properties":{"title":[["query Hero($episode: Episode, $withFriends: Boolean!) {\n  hero(episode: $episode) {\n    name\n    friends @include(if: $withFriends) {\n      name\n    }\n  }\n}\n\n# variables\n{\n  \"episode\": \"JEDI\",\n  \"withFriends\": false\n}"]],"language":[["GraphQL"]]},"format":{"code_wrap":true,"copied_from_pointer":{"id":"7e4afa64-89d0-4e7f-832d-0395e911fbf0","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050579,"last_edited_time":1666059050579,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"7e4afa64-89d0-4e7f-832d-0395e911fbf0","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"50804a4e-6c7d-45c1-a896-13654cb0eedd":{"role":"reader","value":{"id":"50804a4e-6c7d-45c1-a896-13654cb0eedd","version":1,"type":"text","properties":{"title":[["可以通过通用的两种指令来控制一些字段的返回："]]},"format":{"copied_from_pointer":{"id":"3b4d9cd7-b53c-4277-bc3f-b83ab45ecd02","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050578,"last_edited_time":1666059050578,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"3b4d9cd7-b53c-4277-bc3f-b83ab45ecd02","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"b6b987cd-3639-4350-9af0-4767f54d1795":{"role":"reader","value":{"id":"b6b987cd-3639-4350-9af0-4767f54d1795","version":1,"type":"bulleted_list","properties":{"title":[[" "],["@include(if: Boolean)",[["c"]]],[" "]]},"format":{"copied_from_pointer":{"id":"9df2b270-c44a-468d-b13f-cc1c5315e87f","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050579,"last_edited_time":1666059050579,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"9df2b270-c44a-468d-b13f-cc1c5315e87f","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"9d698893-2833-4256-89d6-246356037357":{"role":"reader","value":{"id":"9d698893-2833-4256-89d6-246356037357","version":1,"type":"bulleted_list","properties":{"title":[[" "],["@skip(if: Boolean)",[["c"]]],[" "]]},"format":{"copied_from_pointer":{"id":"4e73cec4-c85d-48ae-b498-5dc4084b1b7a","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050578,"last_edited_time":1666059050578,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"4e73cec4-c85d-48ae-b498-5dc4084b1b7a","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"f7baf267-6dcd-4b14-a48a-5960996fbfbb":{"role":"reader","value":{"id":"f7baf267-6dcd-4b14-a48a-5960996fbfbb","version":1,"type":"sub_header","properties":{"title":[["和 REST 相比较有什么优势和劣势？"]]},"format":{"copied_from_pointer":{"id":"34abeca2-000d-4122-a150-7226c310451b","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050577,"last_edited_time":1666059050577,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"34abeca2-000d-4122-a150-7226c310451b","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"8b386b34-70f7-4f38-862a-e13b9c8ee6e9":{"role":"reader","value":{"id":"8b386b34-70f7-4f38-862a-e13b9c8ee6e9","version":1,"type":"sub_sub_header","properties":{"title":[["TLDR"]]},"format":{"copied_from_pointer":{"id":"3ccbc71e-18cf-4a9d-94d1-8a9ddfe5e513","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050578,"last_edited_time":1666059050578,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"3ccbc71e-18cf-4a9d-94d1-8a9ddfe5e513","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"b286d02d-551a-49ce-b9c4-6c7736257409":{"role":"reader","value":{"id":"b286d02d-551a-49ce-b9c4-6c7736257409","version":1,"type":"text","properties":{"title":[["REST 更多是从 HTTP 协议出发的一种约定协议，因为受制于 HTTP 协议本身的设计，在"],["表达能力",[["b"]]],["上是弱于"],["作为查询语言",[["b"]]],["的 GraphQL 的。"]]},"format":{"copied_from_pointer":{"id":"4ab0ea83-9a73-4772-93df-68a09e7408a6","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050578,"last_edited_time":1666059050578,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"4ab0ea83-9a73-4772-93df-68a09e7408a6","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"a88e97e9-28ae-41ab-8193-6449989916a6":{"role":"reader","value":{"id":"a88e97e9-28ae-41ab-8193-6449989916a6","version":1,"type":"text","properties":{"title":[["同时，REST 通常都是由后端开发者主动封装，而 GraphQL 则是由前端主动拼装。"]]},"format":{"copied_from_pointer":{"id":"2abe76de-09ba-40f0-b17d-2858b90ee00e","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050577,"last_edited_time":1666059050577,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"2abe76de-09ba-40f0-b17d-2858b90ee00e","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"865d80be-70cf-4e4a-aacd-e0d426f1e966":{"role":"reader","value":{"id":"865d80be-70cf-4e4a-aacd-e0d426f1e966","version":1,"type":"text","properties":{"title":[["所以如果面对的场景是"],["前端需求复杂而多变，GraphQL 肯定比 REST 更适合快速迭代。",[["h","teal"]]]]},"format":{"copied_from_pointer":{"id":"95321982-7c3b-49f6-b800-cf111759e7b9","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050579,"last_edited_time":1666059050579,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"95321982-7c3b-49f6-b800-cf111759e7b9","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"d59f255d-5231-4c30-b729-2fcf4312e374":{"role":"reader","value":{"id":"d59f255d-5231-4c30-b729-2fcf4312e374","version":1,"type":"text","properties":{"title":[["也正因此，GraphQL 在实现上更加繁复，所以"],["面对 API 数量少、需求不会轻易的场景时，REST 反而是更适合的技术选型。",[["h","pink"]]]]},"format":{"copied_from_pointer":{"id":"3680ccd7-14f3-4ed3-a2d9-6c9631e99e8b","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050577,"last_edited_time":1666059050577,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"3680ccd7-14f3-4ed3-a2d9-6c9631e99e8b","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"dd6dda57-e33e-4cc4-a158-fe795567d923":{"role":"reader","value":{"id":"dd6dda57-e33e-4cc4-a158-fe795567d923","version":1,"type":"text","format":{"copied_from_pointer":{"id":"be800f56-e638-4f89-a575-ac805a1d9131","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050580,"last_edited_time":1666059050580,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"be800f56-e638-4f89-a575-ac805a1d9131","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"bae7469d-cdf3-408c-ab30-219494171505":{"role":"reader","value":{"id":"bae7469d-cdf3-408c-ab30-219494171505","version":1,"type":"text","properties":{"title":[["作为后端开发，学习和使用 GraphQL 的动力，更多是",[["i"]]],["想将自己从 CRUD 的泥沼中拯救出来，",[["b"],["i"]]],["将更多的精力放在其他更重要的技术上。",[["i"]]]]},"format":{"copied_from_pointer":{"id":"7ebe44d4-0b06-49d8-8bae-9b91eaff2932","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050579,"last_edited_time":1666059050579,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"7ebe44d4-0b06-49d8-8bae-9b91eaff2932","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"1d318237-ebd0-4d40-8d49-f9a6ac2982d0":{"role":"reader","value":{"id":"1d318237-ebd0-4d40-8d49-f9a6ac2982d0","version":1,"type":"sub_sub_header","properties":{"title":[["vs 扩展的 REST 协议"]]},"format":{"copied_from_pointer":{"id":"d2f2475c-9e93-45c4-8790-43b889e115e1","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050580,"last_edited_time":1666059050580,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"d2f2475c-9e93-45c4-8790-43b889e115e1","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"9b5c1dee-8abf-461f-85b0-cc6ab7187b8c":{"role":"reader","value":{"id":"9b5c1dee-8abf-461f-85b0-cc6ab7187b8c","version":1,"type":"text","properties":{"title":[["（此小节中图片拷贝自"],["网络",[["a","https://www.howtographql.com/basics/1-graphql-is-th"]]],["，懒得画）"]]},"format":{"copied_from_pointer":{"id":"1da0f48f-5d88-44e0-8125-3c07567c4ff3","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050577,"last_edited_time":1666059050577,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"1da0f48f-5d88-44e0-8125-3c07567c4ff3","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"9f3b0d45-de33-4ab4-bbd7-ee7edf38e4ff":{"role":"reader","value":{"id":"9f3b0d45-de33-4ab4-bbd7-ee7edf38e4ff","version":1,"type":"text","properties":{"title":[["和 REST 一样，GraphQL 并不是什么开发框架，它只是定义了一种通用型查询的 "],["DSL",[["a","https://en.wikipedia.org/wiki/Domain-specific_language"]]],["。"]]},"format":{"copied_from_pointer":{"id":"07bd271a-f4bd-42b3-973e-a1c1fb9d4b4e","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050576,"last_edited_time":1666059050576,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"07bd271a-f4bd-42b3-973e-a1c1fb9d4b4e","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"9a384f67-fe30-477f-978f-f21b22e36de9":{"role":"reader","value":{"id":"9a384f67-fe30-477f-978f-f21b22e36de9","version":1,"type":"text","properties":{"title":[["而使用 REST 协议进行资源拉取，我们总是会面临一些实际的问题，而 GraphQL 可以在一定程度上解决。那么肯定会有同学在想，REST 是非常灵活的，完全可以通过自建一个查询语法，弥补上述的 REST 缺陷，何必要另外引入 GraphQL 徒增复杂度呢。"]]},"format":{"copied_from_pointer":{"id":"61810aa0-782d-4807-9d18-69127a65cf71","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050578,"last_edited_time":1666059050578,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"61810aa0-782d-4807-9d18-69127a65cf71","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"016edec7-6cf3-4328-ac82-1ba4bc4268e3":{"role":"reader","value":{"id":"016edec7-6cf3-4328-ac82-1ba4bc4268e3","version":1,"type":"text","properties":{"title":[["说的没错，所以我们在阐述这些问题的时候，也会附上我们当前基于 REST 的解决方案。"]]},"format":{"copied_from_pointer":{"id":"c5a2312b-1714-40ab-8ad4-f1f8e8af8273","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050580,"last_edited_time":1666059050580,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"c5a2312b-1714-40ab-8ad4-f1f8e8af8273","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"9151f0fa-7aa0-4512-bd85-67f9b597b835":{"role":"reader","value":{"id":"9151f0fa-7aa0-4512-bd85-67f9b597b835","version":1,"type":"text","format":{"copied_from_pointer":{"id":"816c6a79-8389-4493-aaa5-5b6c114994b6","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050579,"last_edited_time":1666059050579,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"816c6a79-8389-4493-aaa5-5b6c114994b6","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"86523c26-bb6f-4ca8-8198-8768cfd86c64":{"role":"reader","value":{"id":"86523c26-bb6f-4ca8-8198-8768cfd86c64","version":1,"type":"text","properties":{"title":[["Overfetching：",[["b"]]]]},"format":{"copied_from_pointer":{"id":"02874aae-cac8-4011-b620-226e22247ef7","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050576,"last_edited_time":1666059050576,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"02874aae-cac8-4011-b620-226e22247ef7","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"261e9041-ab23-47b7-aa5f-4f2ac4bf7283":{"role":"reader","value":{"id":"261e9041-ab23-47b7-aa5f-4f2ac4bf7283","version":1,"type":"text","properties":{"title":[["假如我们定义了一个 "],["/comments",[["c"]]],[" 的 API，输出评论列表。以 "],["django-rest-framework",[["a","https://www.django-rest-framework.org/"]]],[" 为例，我们都会定义一个 "],["Serializer",[["c"]]],[" 来声明它的输入和输出。"]]},"format":{"copied_from_pointer":{"id":"2fdd7f13-14b6-4990-a97e-e0fdc13c3e9d","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050577,"last_edited_time":1666059050577,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"2fdd7f13-14b6-4990-a97e-e0fdc13c3e9d","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"cf7d83dd-7fc0-4154-86da-4babbc538739":{"role":"reader","value":{"id":"cf7d83dd-7fc0-4154-86da-4babbc538739","version":1,"type":"code","properties":{"title":[["from rest_framework import serializers\n\nclass CommentSerializer(serializers.Serializer):\n    email = serializers.EmailField()\n    content = serializers.CharField(max_length=200)\n    logo = serializer.ImageField()\n    ...(省略数不清的字段)\n    created = serializers.DateTimeField()\n    ip_from = serializers.IPAddressField()"]],"language":[["Python"]]},"format":{"code_wrap":true,"copied_from_pointer":{"id":"5db71ee8-11f4-48c5-9aac-2dd6e11f01eb","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050578,"last_edited_time":1666059050578,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"5db71ee8-11f4-48c5-9aac-2dd6e11f01eb","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"9243ba0a-d276-4133-98ef-d52a86e73c76":{"role":"reader","value":{"id":"9243ba0a-d276-4133-98ef-d52a86e73c76","version":1,"type":"text","properties":{"title":[["看起来符合常理，它可以轻松满足大多数评论列表的需求。但是也许某一天，我们需要一个评论的精简列表的 API，当前返回内容中，除了 "],["content",[["c"]]],[" 以外的其他字段都变成多余了，那么后端开发需要重新定一个 "],["MinimalCommentSerializer",[["c"]]],[" 来满足新的需求。"]]},"format":{"copied_from_pointer":{"id":"ad82480c-23e0-424a-b575-4b3973c596ef","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050579,"last_edited_time":1666059050579,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"ad82480c-23e0-424a-b575-4b3973c596ef","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"c1041cb7-77b3-46d8-9717-b6b8227d5719":{"role":"reader","value":{"id":"c1041cb7-77b3-46d8-9717-b6b8227d5719","version":1,"type":"text","properties":{"title":[["在 REST 基础中，我们增加了 "],["fields",[["c"]]],[" 参数，并在 "],["DRF Serializer",[["c"]]],[" 里做了"],["特殊处理（你可以点击查看源码）",[["a","https://github.com/TencentBlueKing/bk-user/blob/8c633e0a3821beb839ed120c4514c5733e675862/src/api/bkuser_core/common/viewset.py#L71"]]],["，实现的具体效果："]]},"format":{"copied_from_pointer":{"id":"22fe8cf1-2886-4a8c-8aa9-2b38b12b91cf","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050577,"last_edited_time":1666059050577,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"22fe8cf1-2886-4a8c-8aa9-2b38b12b91cf","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"aa076ea1-5973-4fd8-9cce-01e3327859e6":{"role":"reader","value":{"id":"aa076ea1-5973-4fd8-9cce-01e3327859e6","version":1,"type":"code","properties":{"title":[["# 查询 comment，并限制结果返回字段\n/api/comments?fields=email,content\n\n# 返回\n{\n  \"results\": [\n    {\n      \"email\": \"foo@bar.com\",\n      \"content\": \"I love this blog, simple and good looking.\",\n    }\n  ]\n}"]],"language":[["JSON"]]},"format":{"code_wrap":true,"copied_from_pointer":{"id":"3835d9fd-7c59-4516-88ab-1b85caea2e9b","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050578,"last_edited_time":1666059050578,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"3835d9fd-7c59-4516-88ab-1b85caea2e9b","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"f597e7e4-36cb-44f4-940b-946ac14191db":{"role":"reader","value":{"id":"f597e7e4-36cb-44f4-940b-946ac14191db","version":1,"type":"text","properties":{"title":[["而如果我们使用 GraphQL，写法上会更自然："]]},"format":{"copied_from_pointer":{"id":"74495885-d612-4f47-a753-94763d4a577e","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050578,"last_edited_time":1666059050578,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"74495885-d612-4f47-a753-94763d4a577e","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"781a5510-0499-474f-9865-78abd700296f":{"role":"reader","value":{"id":"781a5510-0499-474f-9865-78abd700296f","version":1,"type":"code","properties":{"title":[["query {\n  comment {\n    email\n    content\n  }\n}"]],"language":[["GraphQL"]]},"format":{"code_wrap":true,"copied_from_pointer":{"id":"c02328bf-f521-4137-b9eb-7c3c9897480a","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050580,"last_edited_time":1666059050580,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"c02328bf-f521-4137-b9eb-7c3c9897480a","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"73155088-d28a-4e6f-8b82-bf2551ad1a67":{"role":"reader","value":{"id":"73155088-d28a-4e6f-8b82-bf2551ad1a67","version":1,"type":"text","properties":{"title":[["Underfetching",[["b"]]]]},"format":{"copied_from_pointer":{"id":"f22f7f2c-9c56-4265-a8ee-235621db8262","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050580,"last_edited_time":1666059050580,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"f22f7f2c-9c56-4265-a8ee-235621db8262","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"5b93503e-6e0c-47fa-8165-bb452f67c8f3":{"role":"reader","value":{"id":"5b93503e-6e0c-47fa-8165-bb452f67c8f3","version":1,"type":"text","properties":{"title":[["相较于 Overfetching 是获取了过多数据，Underfetching 则是在请求获取的数据不足够满足需求。"]]},"format":{"copied_from_pointer":{"id":"4a0f98e6-51ba-477e-915f-44be70cd7c59","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050578,"last_edited_time":1666059050578,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"4a0f98e6-51ba-477e-915f-44be70cd7c59","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"76d7c8f9-02c2-46cb-a62d-fd7a00b5c990":{"role":"reader","value":{"id":"76d7c8f9-02c2-46cb-a62d-fd7a00b5c990","version":1,"type":"image","properties":{"size":[["221.1KB"]],"title":[["Untitled"]],"source":[["https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7396e0b5-7539-4174-992e-c35a8076984e/Untitled.png"]],"caption":[["传统的 REST 协议"]]},"format":{"block_width":720,"display_source":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7396e0b5-7539-4174-992e-c35a8076984e/Untitled.png","block_full_width":false,"block_page_width":false,"block_aspect_ratio":0.8180943214629451,"copied_from_pointer":{"id":"bd11a60a-37ce-4f22-b9a6-84fc101dac1a","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"block_preserve_scale":true},"created_time":1666059050580,"last_edited_time":1666059050580,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"bd11a60a-37ce-4f22-b9a6-84fc101dac1a","file_ids":["7396e0b5-7539-4174-992e-c35a8076984e"],"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"f20ce9de-ab74-4d04-9c5c-529571cf5b0a":{"role":"reader","value":{"id":"f20ce9de-ab74-4d04-9c5c-529571cf5b0a","version":1,"type":"text","properties":{"title":[["假如我们需要获取所有用户维度的评论，我们需要先获取通过 "],["/users",[["c"]]],[" 所有用户 id，再使用 id 列表遍历查询 "],["/users/\u003cid\u003e/comments",[["c"]]],[" 来获取相关的列表。"]]},"format":{"copied_from_pointer":{"id":"f253ea5e-f7c9-4559-8251-ae1798d1d4d0","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050581,"last_edited_time":1666059050581,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"f253ea5e-f7c9-4559-8251-ae1798d1d4d0","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"664a1feb-5c8f-4030-a77f-313f8f2c05f0":{"role":"reader","value":{"id":"664a1feb-5c8f-4030-a77f-313f8f2c05f0","version":1,"type":"text","properties":{"title":[["在 REST 中，为了这个需求我们可能会额外为 "],["/users",[["c"]]],[" 增加一个参数 "],["with_comments",[["c"]]],[" "]]},"format":{"copied_from_pointer":{"id":"3810914a-a429-435d-bb27-fafde0e014ff","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050577,"last_edited_time":1666059050577,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"3810914a-a429-435d-bb27-fafde0e014ff","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"1a7e5e42-b68b-4143-896d-70bf22d45a9c":{"role":"reader","value":{"id":"1a7e5e42-b68b-4143-896d-70bf22d45a9c","version":1,"type":"code","properties":{"title":[["# 查询 users，并限制结果返回字段\n/api/users?with_comments=1\n\n# 返回\n{\n  \"results\": [\n    {\n      \"username\": \"foo\",\n      \"telephone\": \"12345\",\n      \"comments\": [\n        {\n          \"email\": \"foo@bar.com\",\n          \"content\": \"I love this blog, simple and good looking.\",\n        }\n      ]\n    }\n  ]\n}"]],"language":[["JSON"]]},"format":{"code_wrap":true,"copied_from_pointer":{"id":"03d8d2d5-e499-4c50-9bcd-2ba28c0d6e11","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050576,"last_edited_time":1666059050576,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"03d8d2d5-e499-4c50-9bcd-2ba28c0d6e11","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"d002648b-d698-4cb1-ac8c-6a0951653437":{"role":"reader","value":{"id":"d002648b-d698-4cb1-ac8c-6a0951653437","version":1,"type":"text","format":{"copied_from_pointer":{"id":"5a3e4e1c-b760-4969-be85-834f95257ddb","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050578,"last_edited_time":1666059050578,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"5a3e4e1c-b760-4969-be85-834f95257ddb","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"511e89a1-906b-4706-8da5-30351636a8ab":{"role":"reader","value":{"id":"511e89a1-906b-4706-8da5-30351636a8ab","version":1,"type":"text","properties":{"title":[["相较于自定义的 REST 协议，使用 GraphQL 可以更简单："]]},"format":{"copied_from_pointer":{"id":"1b58acfe-1570-4a63-9ad5-488b952b574f","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050577,"last_edited_time":1666059050577,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"1b58acfe-1570-4a63-9ad5-488b952b574f","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"801be6dd-b7bf-4afd-9883-63ef9ea359ea":{"role":"reader","value":{"id":"801be6dd-b7bf-4afd-9883-63ef9ea359ea","version":1,"type":"image","properties":{"size":[["100.6KB"]],"title":[["Untitled"]],"source":[["https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c730795a-8b87-497e-a6c8-38c4c29f310a/Untitled.png"]],"caption":[["使用 GraphQL，只需要一次请求"]]},"format":{"block_width":624,"display_source":"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c730795a-8b87-497e-a6c8-38c4c29f310a/Untitled.png","block_full_width":false,"block_page_width":false,"block_aspect_ratio":0.6040868454661558,"copied_from_pointer":{"id":"3ce1d8c1-4062-4a20-9043-7cc1420c1114","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"block_preserve_scale":true},"created_time":1666059050578,"last_edited_time":1666059050578,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"3ce1d8c1-4062-4a20-9043-7cc1420c1114","file_ids":["c730795a-8b87-497e-a6c8-38c4c29f310a"],"created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"a7cc3850-d7d3-4e93-9455-9e3c484535a8":{"role":"reader","value":{"id":"a7cc3850-d7d3-4e93-9455-9e3c484535a8","version":1,"type":"divider","format":{"copied_from_pointer":{"id":"749cd377-14ea-4b4c-b244-13718f6e3080","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050578,"last_edited_time":1666059050578,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"749cd377-14ea-4b4c-b244-13718f6e3080","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"ae2e1ab9-de44-45e9-af25-da3b4283ed30":{"role":"reader","value":{"id":"ae2e1ab9-de44-45e9-af25-da3b4283ed30","version":1,"type":"text","format":{"copied_from_pointer":{"id":"959ed72f-1506-4b43-98a8-444974f83ea0","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050579,"last_edited_time":1666059050579,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"959ed72f-1506-4b43-98a8-444974f83ea0","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"e5388855-af4c-4978-ab5d-79d928a68fac":{"role":"reader","value":{"id":"e5388855-af4c-4978-ab5d-79d928a68fac","version":1,"type":"text","properties":{"title":[["相信通过上面的例子，我们可以清晰地看出，相较于 GraphQL ，基于 REST 扩展协议存在这些问题："]]},"format":{"copied_from_pointer":{"id":"75b7fe2a-1f34-4d0c-94b2-a3afcb64d929","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050578,"last_edited_time":1666059050578,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"75b7fe2a-1f34-4d0c-94b2-a3afcb64d929","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"0c2d157b-6610-4281-b746-5d60c317263c":{"role":"reader","value":{"id":"0c2d157b-6610-4281-b746-5d60c317263c","version":1,"type":"bulleted_list","properties":{"title":[["不够通用，用户有额外的学习成本，增加了额外的文档负担。"]]},"format":{"copied_from_pointer":{"id":"0167bc0c-f850-4f7d-9fb5-4d47a45f1577","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050576,"last_edited_time":1666059050576,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"0167bc0c-f850-4f7d-9fb5-4d47a45f1577","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"bf511966-e9b0-4e6f-9565-a4435370aaf7":{"role":"reader","value":{"id":"bf511966-e9b0-4e6f-9565-a4435370aaf7","version":1,"type":"bulleted_list","properties":{"title":[["基于 REST ，单个请求只能针对单个对象进行描述。需要等待需求沉淀，由后端主动封装，迭代节奏会更慢。"]]},"format":{"copied_from_pointer":{"id":"e0abfcd6-7254-4aba-9208-6d0dc7db8369","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050580,"last_edited_time":1666059050580,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"e0abfcd6-7254-4aba-9208-6d0dc7db8369","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"3db8daa2-fcb0-409b-aa59-6fd5472b9ff3":{"role":"reader","value":{"id":"3db8daa2-fcb0-409b-aa59-6fd5472b9ff3","version":1,"type":"sub_header","properties":{"title":[["什么是 GraphQL 客户端?"]]},"format":{"copied_from_pointer":{"id":"303f98eb-35a3-494a-b4f0-91ba6ba1a165","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050577,"last_edited_time":1666059050577,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"303f98eb-35a3-494a-b4f0-91ba6ba1a165","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"b271423a-2db3-48a9-a085-62e982457465":{"role":"reader","value":{"id":"b271423a-2db3-48a9-a085-62e982457465","version":1,"type":"text","properties":{"title":[["我们主要聚焦于 GraphQL 服务端提供，但是也需要先看一下所谓的客户端究竟做了什么。"]]},"format":{"copied_from_pointer":{"id":"ee868418-d56c-4936-87af-6503408d1c54","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050580,"last_edited_time":1666059050580,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"ee868418-d56c-4936-87af-6503408d1c54","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"e4ae6016-eb26-4be3-9a05-804c3bd07f25":{"role":"reader","value":{"id":"e4ae6016-eb26-4be3-9a05-804c3bd07f25","version":1,"type":"text","properties":{"title":[["简单来说，要想在原生 Javascript 中直接使用 GraphQL 并不是一件特别容易的事，需要一些库来协助拉取和管理 GraphQL 数据。"]]},"format":{"copied_from_pointer":{"id":"0653c1a8-3da4-4dd3-b3aa-9ffa7ae2d9d7","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050576,"last_edited_time":1666059050576,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"0653c1a8-3da4-4dd3-b3aa-9ffa7ae2d9d7","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"3114c568-468f-4b9c-b5b9-5fe9120d51dd":{"role":"reader","value":{"id":"3114c568-468f-4b9c-b5b9-5fe9120d51dd","version":1,"type":"text","properties":{"title":[["相较于原生的 GraphQL ，客户端主要解决了几件事情："]]},"format":{"copied_from_pointer":{"id":"12d9b9f8-a65d-48e7-92d9-5313d4c64620","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050577,"last_edited_time":1666059050577,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"12d9b9f8-a65d-48e7-92d9-5313d4c64620","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"2729ac70-32e4-4245-a0b7-8c928929cfda":{"role":"reader","value":{"id":"2729ac70-32e4-4245-a0b7-8c928929cfda","version":1,"type":"bulleted_list","properties":{"title":[["客户端数据拉取缓存问题（包括缓存一致性、更新缓存等）"]]},"format":{"copied_from_pointer":{"id":"81371edf-cc6c-4b8b-bd80-2c1130de1a64","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050579,"last_edited_time":1666059050579,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"81371edf-cc6c-4b8b-bd80-2c1130de1a64","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"f3841eb2-487b-404d-8002-ecfebcd4e44b":{"role":"reader","value":{"id":"f3841eb2-487b-404d-8002-ecfebcd4e44b","version":1,"type":"bulleted_list","properties":{"title":[["数据分页、声明式数据获取"]]},"format":{"copied_from_pointer":{"id":"007b09f9-6999-4ef4-bff4-7e3a6edbd55f","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050576,"last_edited_time":1666059050576,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"007b09f9-6999-4ef4-bff4-7e3a6edbd55f","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"dd027b39-a3d6-4752-9443-d0b0220299df":{"role":"reader","value":{"id":"dd027b39-a3d6-4752-9443-d0b0220299df","version":1,"type":"bulleted_list","properties":{"title":[["..."]]},"format":{"copied_from_pointer":{"id":"4493363d-5af8-4667-bd50-dde03d548e46","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050578,"last_edited_time":1666059050578,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"4493363d-5af8-4667-bd50-dde03d548e46","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"5b0213ae-a8b4-4307-8ff3-c6d9eb1455b5":{"role":"reader","value":{"id":"5b0213ae-a8b4-4307-8ff3-c6d9eb1455b5","version":1,"type":"text","properties":{"title":[["主流的客户端框架主要有两种—— "],["Relay",[["a","https://relay.dev/"]]],[" 和 "],["Apollo",[["a","https://www.apollographql.com/"]]],[" ，我们仅从有限的角度来看下二者的异同："]]},"format":{"copied_from_pointer":{"id":"7fdadf47-4887-4b71-923e-dbf3900341c0","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050579,"last_edited_time":1666059050579,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"7fdadf47-4887-4b71-923e-dbf3900341c0","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"79eac296-c454-4b13-8687-c18a99776607":{"role":"reader","value":{"id":"79eac296-c454-4b13-8687-c18a99776607","version":1,"type":"collection_view","view_ids":["7b05a4dc-53e0-44e1-bf2b-4275922185c0"],"collection_id":"c44a4ca7-b3bf-4f39-91bb-b95da6ef6388","format":{"collection_pointer":{"id":"c44a4ca7-b3bf-4f39-91bb-b95da6ef6388","table":"collection","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"},"copied_from_pointer":{"id":"02c95bba-9d37-409c-a2c9-31458df7558c","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050576,"last_edited_time":1666059050576,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"02c95bba-9d37-409c-a2c9-31458df7558c","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"25bbafb3-0a12-4bec-b56e-2e541cd779e4":{"role":"reader","value":{"id":"25bbafb3-0a12-4bec-b56e-2e541cd779e4","version":1,"type":"text","properties":{"title":[["简而言之，Realy 更复杂，更能够应对大型应用，Apollo 更轻量，不过需要更多的手工劳动。"]]},"format":{"copied_from_pointer":{"id":"0db1bccf-d638-4c49-bfcc-7ecadcd6f632","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050577,"last_edited_time":1666059050577,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"0db1bccf-d638-4c49-bfcc-7ecadcd6f632","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"499a5d13-3c9b-493e-946a-692b0e21a062":{"role":"reader","value":{"id":"499a5d13-3c9b-493e-946a-692b0e21a062","version":1,"type":"sub_header","properties":{"title":[["服务端落地：GraphQL → Django"]]},"format":{"copied_from_pointer":{"id":"8ef96bd3-fd55-4061-a128-f36e795da9af","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050579,"last_edited_time":1666059050579,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"8ef96bd3-fd55-4061-a128-f36e795da9af","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"d82aba35-a7ee-4c7e-896c-4366b1d5ec5e":{"role":"reader","value":{"id":"d82aba35-a7ee-4c7e-896c-4366b1d5ec5e","version":1,"type":"text","properties":{"title":[["想要将 GraphQL 引入现有的项目，我们需要安装两个基础的依赖："]]},"format":{"copied_from_pointer":{"id":"913b630b-47f2-465a-b5f7-2db1b4e89d4f","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050579,"last_edited_time":1666059050579,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"913b630b-47f2-465a-b5f7-2db1b4e89d4f","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"850425fb-2704-40e8-9da6-348449515cbf":{"role":"reader","value":{"id":"850425fb-2704-40e8-9da6-348449515cbf","version":1,"type":"bulleted_list","properties":{"title":[["graphene-django",[["a","https://github.com/graphql-python/graphene-django"]]],[" "]]},"format":{"copied_from_pointer":{"id":"76ba0a08-f79c-4849-ad91-ebfe5d68ddfa","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050578,"last_edited_time":1666059050578,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"76ba0a08-f79c-4849-ad91-ebfe5d68ddfa","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"06516dcb-e6bf-4971-8429-7351f2d2b55c":{"role":"reader","value":{"id":"06516dcb-e6bf-4971-8429-7351f2d2b55c","version":1,"type":"bulleted_list","properties":{"title":[["django-filter",[["a","https://github.com/carltongibson/django-filter"]]]]},"format":{"copied_from_pointer":{"id":"a6bda339-bbb0-4ada-ac5d-dbd028085e0e","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050579,"last_edited_time":1666059050579,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"a6bda339-bbb0-4ada-ac5d-dbd028085e0e","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"7f566dd9-6e93-421b-9e75-52ca098c92db":{"role":"reader","value":{"id":"7f566dd9-6e93-421b-9e75-52ca098c92db","version":1,"type":"text","properties":{"title":[["二者分别负责两部分的工作："]]},"format":{"copied_from_pointer":{"id":"5021890f-75eb-4c74-a5f9-35f78f813ae4","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050578,"last_edited_time":1666059050578,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"5021890f-75eb-4c74-a5f9-35f78f813ae4","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"269531b0-2e9c-47c8-8da2-441c19e7ccc0":{"role":"reader","value":{"id":"269531b0-2e9c-47c8-8da2-441c19e7ccc0","version":1,"type":"bulleted_list","properties":{"title":[["Django Model ⇒  Schema"]]},"format":{"copied_from_pointer":{"id":"c275854c-2936-4f7b-b186-3530b184d1d6","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050580,"last_edited_time":1666059050580,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"c275854c-2936-4f7b-b186-3530b184d1d6","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"17baeebe-df8c-4e94-a698-faf2a0dfebd4":{"role":"reader","value":{"id":"17baeebe-df8c-4e94-a698-faf2a0dfebd4","version":1,"type":"bulleted_list","properties":{"title":[["Query  ⇒  Filter Django Model "]]},"format":{"copied_from_pointer":{"id":"adf3a33d-3f48-4dc9-8d89-7cea8d8341dc","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050579,"last_edited_time":1666059050579,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"adf3a33d-3f48-4dc9-8d89-7cea8d8341dc","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"8c904f70-489a-4268-a7b5-c8f4ca2d51e6":{"role":"reader","value":{"id":"8c904f70-489a-4268-a7b5-c8f4ca2d51e6","version":1,"type":"sub_sub_header","properties":{"title":[["支持 Relay"]]},"format":{"copied_from_pointer":{"id":"4e1a43ab-5bd4-4c8f-9852-61fe97511947","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050578,"last_edited_time":1666059050578,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"4e1a43ab-5bd4-4c8f-9852-61fe97511947","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"e80c823d-6698-4b70-aef6-28752f33c177":{"role":"reader","value":{"id":"e80c823d-6698-4b70-aef6-28752f33c177","version":1,"type":"text","properties":{"title":[["graphene-django 本身 "],["默认支持 Relay",[["a","https://docs.graphene-python.org/projects/django/en/latest/tutorial-relay/"]]],["，所以你可以很容易地开启"]]},"format":{"copied_from_pointer":{"id":"718fb9ee-6a8e-40bd-851e-6a80c7dddad5","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050578,"last_edited_time":1666059050578,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"718fb9ee-6a8e-40bd-851e-6a80c7dddad5","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"0abf7ff8-7a1d-41ca-a4c4-3a4701ce0929":{"role":"reader","value":{"id":"0abf7ff8-7a1d-41ca-a4c4-3a4701ce0929","version":1,"type":"code","properties":{"title":[["from graphene import relay\nfrom graphene_django import DjangoObjectType\nfrom ingredients.models import Category\n\n# Graphene will automatically map the Category model's fields onto the CategoryNode.\n# This is configured in the CategoryNode's Meta class (as you can see below)\nclass CategoryNode(DjangoObjectType):\n    class Meta:\n        model = Category\n        filter_fields = ['name', 'ingredients']\n        interfaces = (relay.Node, )"]],"language":[["Python"]]},"format":{"code_wrap":true,"copied_from_pointer":{"id":"381e6333-9ca3-4114-bdc9-754d939d17c2","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050577,"last_edited_time":1666059050577,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"381e6333-9ca3-4114-bdc9-754d939d17c2","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"eecb673c-d408-4d57-ad0a-511380cd6b28":{"role":"reader","value":{"id":"eecb673c-d408-4d57-ad0a-511380cd6b28","version":1,"type":"text","properties":{"title":[["不过很多时候考虑到 Relay 的复杂度，有时都不适合引入，更何况 Relay 需要特殊的 Schema 支持："]]},"format":{"copied_from_pointer":{"id":"b00040d9-04fe-42f9-be3b-a70e91935826","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050579,"last_edited_time":1666059050579,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"b00040d9-04fe-42f9-be3b-a70e91935826","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"419c60d4-a1a8-4f0b-a4d3-9bb116e55b71":{"role":"reader","value":{"id":"419c60d4-a1a8-4f0b-a4d3-9bb116e55b71","version":1,"type":"column_list","content":["63a72f80-0f39-4637-8539-183410ea26ba","5c0491f0-3bc6-4f83-aea3-9c6375e5f19d"],"format":{"copied_from_pointer":{"id":"ed4e6fbf-8f42-439d-95ff-f5e49684e816","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050580,"last_edited_time":1666059050580,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"ed4e6fbf-8f42-439d-95ff-f5e49684e816","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"5c0491f0-3bc6-4f83-aea3-9c6375e5f19d":{"role":"reader","value":{"id":"5c0491f0-3bc6-4f83-aea3-9c6375e5f19d","version":1,"type":"column","content":["f6ea2926-d498-4e02-83ec-1b31f13d0a93"],"format":{"column_ratio":0.5,"copied_from_pointer":{"id":"c75ef76d-87b2-46d8-a068-e00cc6b0c403","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050581,"last_edited_time":1666059050581,"parent_id":"419c60d4-a1a8-4f0b-a4d3-9bb116e55b71","parent_table":"block","alive":true,"copied_from":"c75ef76d-87b2-46d8-a068-e00cc6b0c403","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"63a72f80-0f39-4637-8539-183410ea26ba":{"role":"reader","value":{"id":"63a72f80-0f39-4637-8539-183410ea26ba","version":1,"type":"column","content":["68a3d44f-9f8e-44f0-bf95-dc87ff41a940"],"format":{"column_ratio":0.5,"copied_from_pointer":{"id":"5340675c-b132-4528-9262-f6cf428e64f8","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050581,"last_edited_time":1666059050581,"parent_id":"419c60d4-a1a8-4f0b-a4d3-9bb116e55b71","parent_table":"block","alive":true,"copied_from":"5340675c-b132-4528-9262-f6cf428e64f8","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"f6ea2926-d498-4e02-83ec-1b31f13d0a93":{"role":"reader","value":{"id":"f6ea2926-d498-4e02-83ec-1b31f13d0a93","version":1,"type":"code","properties":{"title":[["query {\n  allIngredients {\n    id\n    name\n  }\n}\n\n\n\n"]],"caption":[["原生 Schema： 明显更自然、简洁"]],"language":[["GraphQL"]]},"format":{"code_wrap":true,"copied_from_pointer":{"id":"d7d15992-7e74-40d0-a27a-3a2552eaeb55","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050581,"last_edited_time":1666059050581,"parent_id":"5c0491f0-3bc6-4f83-aea3-9c6375e5f19d","parent_table":"block","alive":true,"copied_from":"d7d15992-7e74-40d0-a27a-3a2552eaeb55","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"68a3d44f-9f8e-44f0-bf95-dc87ff41a940":{"role":"reader","value":{"id":"68a3d44f-9f8e-44f0-bf95-dc87ff41a940","version":1,"type":"code","properties":{"title":[["query {\n  allIngredients {\n    edges {\n      node {\n        id,\n        name\n      }\n    }\n  }\n}"]],"caption":[["Relay Schema：edges、node 层级同样会出现在返回值"]],"language":[["GraphQL"]]},"format":{"code_wrap":true,"copied_from_pointer":{"id":"fdc74507-4789-48fd-9057-663a97d7f8b2","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050581,"last_edited_time":1666059050581,"parent_id":"63a72f80-0f39-4637-8539-183410ea26ba","parent_table":"block","alive":true,"copied_from":"fdc74507-4789-48fd-9057-663a97d7f8b2","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"25b4916e-f477-4955-a012-fbc141f700eb":{"role":"reader","value":{"id":"25b4916e-f477-4955-a012-fbc141f700eb","version":1,"type":"text","properties":{"title":[["这时候 graphene-django 就存在一个问题，当不使用 Relay 时，存在一些功能缺失："]]},"format":{"copied_from_pointer":{"id":"794cdaaa-4607-4ae2-bb00-f8bd9ebbf28e","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050579,"last_edited_time":1666059050579,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"794cdaaa-4607-4ae2-bb00-f8bd9ebbf28e","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"ded5b120-c51d-4b1b-8132-a268a7d6b3f9":{"role":"reader","value":{"id":"ded5b120-c51d-4b1b-8132-a268a7d6b3f9","version":1,"type":"bulleted_list","properties":{"title":[["Fragment \\ Directives "]]},"format":{"copied_from_pointer":{"id":"82c4a6d4-3c4f-4d4b-b218-f8054bedb333","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050579,"last_edited_time":1666059050579,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"82c4a6d4-3c4f-4d4b-b218-f8054bedb333","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"c75d9e44-5c27-4d5d-a510-af554f9830a5":{"role":"reader","value":{"id":"c75d9e44-5c27-4d5d-a510-af554f9830a5","version":1,"type":"bulleted_list","properties":{"title":[["分页、过滤"]]},"format":{"copied_from_pointer":{"id":"a1d1170d-57e2-43c5-96c8-42cb3bc3794d","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050579,"last_edited_time":1666059050579,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"a1d1170d-57e2-43c5-96c8-42cb3bc3794d","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"33259eba-0214-4fa9-acda-4e3e1eaf90ec":{"role":"reader","value":{"id":"33259eba-0214-4fa9-acda-4e3e1eaf90ec","version":1,"type":"bulleted_list","properties":{"title":[["通过 DRF Serializer 定义 Mutations"]]},"format":{"copied_from_pointer":{"id":"2ed3024d-b64d-4cd6-b7b4-fd3dff761523","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050577,"last_edited_time":1666059050577,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"2ed3024d-b64d-4cd6-b7b4-fd3dff761523","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"21b3d48f-6438-4238-aad0-c4a13b125c0f":{"role":"reader","value":{"id":"21b3d48f-6438-4238-aad0-c4a13b125c0f","version":1,"type":"text","properties":{"title":[["所以我们需要引入额外的库来解决。"]]},"format":{"copied_from_pointer":{"id":"9af4cffa-256b-4398-9657-0ad34fc32ba6","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050579,"last_edited_time":1666059050579,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"9af4cffa-256b-4398-9657-0ad34fc32ba6","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"3d929743-4936-49a6-a43d-a55924cdfa5e":{"role":"reader","value":{"id":"3d929743-4936-49a6-a43d-a55924cdfa5e","version":1,"type":"sub_sub_header","properties":{"title":[["引入 "],["graphene-django-extras",[["a","https://github.com/eamigo86/graphene-django-extras"]]]]},"format":{"copied_from_pointer":{"id":"bd6bbe6a-6236-4ab7-bd68-51eb0dc25b27","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050580,"last_edited_time":1666059050580,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"bd6bbe6a-6236-4ab7-bd68-51eb0dc25b27","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"04a75c8e-f823-4fa5-b327-6b55335d4f9c":{"role":"reader","value":{"id":"04a75c8e-f823-4fa5-b327-6b55335d4f9c","version":1,"type":"code","properties":{"title":[["from graphene import ObjectType\nfrom graphene_django_extras import DjangoListObjectField, DjangoListObjectType\nfrom graphene_django_extras.paginations import LimitOffsetGraphqlPagination\n\nclass CommentListType(DjangoListObjectType):\n    class Meta:\n        model = Comment\n        fields = \"__all__\"\n        pagination = LimitOffsetGraphqlPagination(default_limit=25, ordering=\"-id\")\n\nclass Query(ObjectType):\n    comments = DjangoListObjectField(CommentListType, description=\"Query all comments\")"]],"language":[["Python"]]},"format":{"code_wrap":true,"copied_from_pointer":{"id":"a57f6e1b-98a4-40bf-a1b8-29a5853cf31a","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050579,"last_edited_time":1666059050579,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"a57f6e1b-98a4-40bf-a1b8-29a5853cf31a","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"7b3762d8-e2ad-445e-9c38-eac7bedd68e5":{"role":"reader","value":{"id":"7b3762d8-e2ad-445e-9c38-eac7bedd68e5","version":1,"type":"text","properties":{"title":[["支持复杂过滤查询",[["b"]]]]},"format":{"copied_from_pointer":{"id":"f119d7f5-9aab-468f-9c7d-53d824b8b34d","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050580,"last_edited_time":1666059050580,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"f119d7f5-9aab-468f-9c7d-53d824b8b34d","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"6ebe0341-3a00-40f4-b7b5-295e3b67a824":{"role":"reader","value":{"id":"6ebe0341-3a00-40f4-b7b5-295e3b67a824","version":1,"type":"text","properties":{"title":[["可以在列表对象中增加 "],["filter_fields",[["c"]]],[" ，针对不同的字段支持不同的 Django 复杂查询方法。"]]},"format":{"copied_from_pointer":{"id":"74be6f22-ba9c-4d03-afb8-9191ae4d970c","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050578,"last_edited_time":1666059050578,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"74be6f22-ba9c-4d03-afb8-9191ae4d970c","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"1dffee77-8967-495e-91f7-8afb0f20e759":{"role":"reader","value":{"id":"1dffee77-8967-495e-91f7-8afb0f20e759","version":1,"type":"code","properties":{"title":[["class CommentListType(DjangoListObjectType):\n    class Meta:\n        model = Comment\n        filter_fields = {\n            \"id\": [\"exact\", \"in\"],\n            \"content\": [\"exact\", \"icontains\", \"istartswith\"]\n        }\n        pagination = LimitOffsetGraphqlPagination(default_limit=25, ordering=\"-username\")"]],"language":[["Python"]]},"format":{"code_wrap":true,"copied_from_pointer":{"id":"b907e4d4-34cb-4efd-b031-3d05489b9db1","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050580,"last_edited_time":1666059050580,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"b907e4d4-34cb-4efd-b031-3d05489b9db1","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"c71e31a7-6782-4aff-9b82-ee53004c179c":{"role":"reader","value":{"id":"c71e31a7-6782-4aff-9b82-ee53004c179c","version":1,"type":"text","properties":{"title":[["这样就可以将一些 Django 的查询能力释放到前端"]]},"format":{"copied_from_pointer":{"id":"f3b6a1c0-8716-4a42-84fb-d319a1ff5422","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050581,"last_edited_time":1666059050581,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"f3b6a1c0-8716-4a42-84fb-d319a1ff5422","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"3990890d-bf07-49df-95d2-b958b38d483e":{"role":"reader","value":{"id":"3990890d-bf07-49df-95d2-b958b38d483e","version":1,"type":"code","properties":{"title":[["query {\n  comments(id__In: [1, 2, 3] content_Icontains: \"Amazing\"){\n    totalCount\n    results(limit: 10 offset: 0){\n      id\n      email\n    }\n  } \n}"]],"language":[["GraphQL"]]},"format":{"code_wrap":true,"copied_from_pointer":{"id":"55bc40b1-07b1-4d2a-9d9c-ce384a2cda1f","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050578,"last_edited_time":1666059050578,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"55bc40b1-07b1-4d2a-9d9c-ce384a2cda1f","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"208020ce-2511-4ee2-a60d-8b07df687d43":{"role":"reader","value":{"id":"208020ce-2511-4ee2-a60d-8b07df687d43","version":1,"type":"text","properties":{"title":[["自定义查询字段",[["b"]]]]},"format":{"copied_from_pointer":{"id":"c2b1ad63-ba76-4eda-9e8b-209e41c54d94","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050580,"last_edited_time":1666059050580,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"c2b1ad63-ba76-4eda-9e8b-209e41c54d94","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"fa290cc6-8550-4928-9a6d-f8b9537c6cf3":{"role":"reader","value":{"id":"fa290cc6-8550-4928-9a6d-f8b9537c6cf3","version":1,"type":"text","properties":{"title":[["Django 默认的查询能力，对于一些特殊字段并不能完全覆盖需求，这时我们就需要针对这些内容手写一些处理逻辑。"]]},"format":{"copied_from_pointer":{"id":"15911f94-8d90-4e4a-a96f-b01a66e43896","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050577,"last_edited_time":1666059050577,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"15911f94-8d90-4e4a-a96f-b01a66e43896","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"8e141389-c010-4ee7-b3e3-0b1989e87bd0":{"role":"reader","value":{"id":"8e141389-c010-4ee7-b3e3-0b1989e87bd0","version":1,"type":"code","properties":{"title":[["class Query(ObjectType):\n    user = Field(UserType, description=\"Retrieve certain user\", id=Int(), username=String())\n\n\t\tdef resolve_user(\n        self, context: \"GraphQLResolveInfo\", id: Optional[int] = None, username: Optional[str] = None\n    ) -\u003e User:\n        if id is not None:\n            return User.objects.get(pk=id)\n\n        if username is None:\n            raise ValueError(\"username or pk at least one is required\")\n\n        # do some custom logic\n        ...\n\n        return User.objects.get(username=username)"]],"language":[["Python"]]},"format":{"code_wrap":true,"copied_from_pointer":{"id":"50f90962-ddd6-4628-a160-410b5bf2db59","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050578,"last_edited_time":1666059050578,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"50f90962-ddd6-4628-a160-410b5bf2db59","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"cce7dff5-0ba4-4dff-a5f8-5844bfdcf91b":{"role":"reader","value":{"id":"cce7dff5-0ba4-4dff-a5f8-5844bfdcf91b","version":1,"type":"text","properties":{"title":[["需要注意的是，当我们使用 "],["resolve_",[["c"]]],[" 函数去处理查询时，GraphQL 和 REST 本质上只是查询 DSL 有所区别，都会遇到类似像 "],["N+1",[["a","https://stackoverflow.com/questions/97197/what-is-the-n1-selects-problem-in-orm-object-relational-mapping"]]],[" 这样的慢查询问题，所以需要谨慎地将前端的查询转换成可靠的 Django ORM 查询。"]]},"format":{"copied_from_pointer":{"id":"e26841f9-a042-4f21-8f75-b85893476cad","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050580,"last_edited_time":1666059050580,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"e26841f9-a042-4f21-8f75-b85893476cad","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"00688531-73e5-4e1b-acc1-2aa21d51205d":{"role":"reader","value":{"id":"00688531-73e5-4e1b-acc1-2aa21d51205d","version":1,"type":"sub_sub_header","properties":{"title":[["鉴权"]]},"format":{"copied_from_pointer":{"id":"19c10ac2-c3b5-42d5-a362-3e4b5cba3e13","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050577,"last_edited_time":1666059050577,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"19c10ac2-c3b5-42d5-a362-3e4b5cba3e13","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"41b09c49-6df5-4886-b6b6-85e8f38fb9c5":{"role":"reader","value":{"id":"41b09c49-6df5-4886-b6b6-85e8f38fb9c5","version":1,"type":"text","properties":{"title":[["由于 API 请求并不再经过传统封装的 ViewSet，原有的鉴权组件不再能使用，你需要引入新的 "],["graphene-permissions",[["a","https://github.com/redzej/graphene-permissions"]]],[" 来解决针对用户的权限控制。"]]},"format":{"copied_from_pointer":{"id":"b312c5b8-6ad6-476a-8f7d-15db530e9a00","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050580,"last_edited_time":1666059050580,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"b312c5b8-6ad6-476a-8f7d-15db530e9a00","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"486546d7-5ed7-44b4-8491-c065b47b6915":{"role":"reader","value":{"id":"486546d7-5ed7-44b4-8491-c065b47b6915","version":1,"type":"text","properties":{"title":[["本文成文时，graphene-permissions 对于最新的 Graphene 3.x 有一些"],["小的兼容性问题",[["a","https://github.com/redzej/graphene-permissions/pull/36"]]],["，由于该库代码量非常小，可以考虑复制到自己的项目手动维护。"]]},"format":{"copied_from_pointer":{"id":"1aa5ae48-1172-4180-8b18-7244a8178736","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050577,"last_edited_time":1666059050577,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"1aa5ae48-1172-4180-8b18-7244a8178736","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"234a40a9-b6e6-4179-9ae8-60774d48446c":{"role":"reader","value":{"id":"234a40a9-b6e6-4179-9ae8-60774d48446c","version":1,"type":"code","properties":{"title":[["from .mixins import AuthNode\nfrom .permissions import AllowSuperuser\n\nclass UserNode(AuthNode, DjangoObjectType):\n    permission_classes = (AllowAuthenticated,)\n\n    class Meta:\n        model = User\n        filter_fields = ('username',)\n        interfaces = (relay.Node,)"]],"language":[["Python"]]},"format":{"code_wrap":true,"copied_from_pointer":{"id":"2ca85752-3607-458d-99de-756db2559c1e","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050577,"last_edited_time":1666059050577,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"2ca85752-3607-458d-99de-756db2559c1e","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"3a7758ed-7787-4703-8fbc-0b83f8c7ec6e":{"role":"reader","value":{"id":"3a7758ed-7787-4703-8fbc-0b83f8c7ec6e","version":1,"type":"text","format":{"copied_from_pointer":{"id":"1a98d82e-656e-4b33-b14a-e5085179f1df","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050577,"last_edited_time":1666059050577,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"1a98d82e-656e-4b33-b14a-e5085179f1df","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"212d68c0-638c-45c1-a665-70938e3eb1c7":{"role":"reader","value":{"id":"212d68c0-638c-45c1-a665-70938e3eb1c7","version":1,"type":"text","properties":{"title":[["尴尬的是，如果你并不想用 Relay，我们需要针对 graphene-django-extras 做一些自己的定制，而原有的封装没有很好地暴露足够的接口，经过一番探索并无头绪，最终作罢🥴。"]]},"format":{"copied_from_pointer":{"id":"552edd6e-2049-4ff6-b888-31823dabb287","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050578,"last_edited_time":1666059050578,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"552edd6e-2049-4ff6-b888-31823dabb287","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"10f53459-be38-44c7-a135-5a1ed5bd63b9":{"role":"reader","value":{"id":"10f53459-be38-44c7-a135-5a1ed5bd63b9","version":1,"type":"sub_header","properties":{"title":[["总结"]]},"format":{"copied_from_pointer":{"id":"d2e3815b-178d-4af5-b1fb-06ed324a0333","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050580,"last_edited_time":1666059050580,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"d2e3815b-178d-4af5-b1fb-06ed324a0333","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"9d67626a-1d96-41cd-90f5-af2e20aa6bc9":{"role":"reader","value":{"id":"9d67626a-1d96-41cd-90f5-af2e20aa6bc9","version":1,"type":"bulleted_list","properties":{"title":[["GraphQL 在前端需求迭代频繁的场景下，比 REST 更符合现代开发节奏"]]},"format":{"copied_from_pointer":{"id":"8006978d-3b35-45b8-b772-c9b0e48d7370","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050579,"last_edited_time":1666059050579,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"8006978d-3b35-45b8-b772-c9b0e48d7370","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"9f641543-5fd9-484f-bc2c-e5c4d2770bfe":{"role":"reader","value":{"id":"9f641543-5fd9-484f-bc2c-e5c4d2770bfe","version":1,"type":"bulleted_list","properties":{"title":[["GraphQL 的语言设计比自定义扩展的 REST 更自然，更具备通用性"]]},"format":{"copied_from_pointer":{"id":"822f102d-e133-4e1d-a28a-4a7fe89148ad","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050579,"last_edited_time":1666059050579,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"822f102d-e133-4e1d-a28a-4a7fe89148ad","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"2448995d-bf50-46fb-8d4c-f720a8a4991a":{"role":"reader","value":{"id":"2448995d-bf50-46fb-8d4c-f720a8a4991a","version":1,"type":"bulleted_list","properties":{"title":[["GraphQL 会将比较多的工作放到客户端，适合成熟的客户端开发团队，反之 REST 是更好的选择"]]},"format":{"copied_from_pointer":{"id":"bcbebbb8-c409-4e60-8a21-d67c5bc1db04","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050580,"last_edited_time":1666059050580,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"bcbebbb8-c409-4e60-8a21-d67c5bc1db04","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"df526e5c-a788-40c8-a0cf-8355e37cf7bf":{"role":"reader","value":{"id":"df526e5c-a788-40c8-a0cf-8355e37cf7bf","version":1,"type":"bulleted_list","properties":{"title":[["Django 相关的生态建设并不完善，没有一个足够强大、开箱即用的整合方案"]]},"format":{"copied_from_pointer":{"id":"6c2b3cc5-89d8-43ad-94ad-2816284fd0e9","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050578,"last_edited_time":1666059050578,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"6c2b3cc5-89d8-43ad-94ad-2816284fd0e9","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"f819d57f-be4b-4696-8340-0d4b084480c1":{"role":"reader","value":{"id":"f819d57f-be4b-4696-8340-0d4b084480c1","version":1,"type":"bulleted_list","properties":{"title":[["由于查询并不是基于 Uri 维度，会给周边配套的生态—— 监控、日志等 ——带来一些新的挑战"]]},"format":{"copied_from_pointer":{"id":"6765a5f9-b9d1-4d50-85e9-cc9f4329a3e7","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050578,"last_edited_time":1666059050578,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"6765a5f9-b9d1-4d50-85e9-cc9f4329a3e7","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"ddaf5c24-80f7-46f7-91a7-62c4707709f5":{"role":"reader","value":{"id":"ddaf5c24-80f7-46f7-91a7-62c4707709f5","version":1,"type":"text","format":{"copied_from_pointer":{"id":"2a4c609a-e22e-40ce-8622-e7fad72fb07b","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050577,"last_edited_time":1666059050577,"parent_id":"9a08823e-eec6-4cc0-9ec8-890cb0650aa7","parent_table":"block","alive":true,"copied_from":"2a4c609a-e22e-40ce-8622-e7fad72fb07b","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"bc1b723e-6881-4b8d-b570-eaa51d4dd328":{"role":"reader","value":{"id":"bc1b723e-6881-4b8d-b570-eaa51d4dd328","version":1,"type":"page","properties":{"V}\u003c`":[["无框架限定"]],"cVEk":[["仅支持 React, React Native"]],"title":[["框架支持"]]},"format":{"copied_from_pointer":{"id":"f72dde1d-9421-4c77-8aa6-0e5a5c1e3592","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050581,"last_edited_time":1666059050581,"parent_id":"c44a4ca7-b3bf-4f39-91bb-b95da6ef6388","parent_table":"collection","alive":true,"copied_from":"f72dde1d-9421-4c77-8aa6-0e5a5c1e3592","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"574b8c14-d709-4938-8afa-d8250db9a9ee":{"role":"reader","value":{"id":"574b8c14-d709-4938-8afa-d8250db9a9ee","version":1,"type":"page","properties":{"V}\u003c`":[["无需特定的 Schema 支持"]],"cVEk":[["需要特定的 Schema 支持"]],"title":[["GraphQL API"]]},"format":{"copied_from_pointer":{"id":"bcc57ebb-42ee-4f4f-906a-0fc4318f77fa","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050581,"last_edited_time":1666059050581,"parent_id":"c44a4ca7-b3bf-4f39-91bb-b95da6ef6388","parent_table":"collection","alive":true,"copied_from":"bcc57ebb-42ee-4f4f-906a-0fc4318f77fa","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"c0029db1-fe0c-4494-8186-e6eb55c57632":{"role":"reader","value":{"id":"c0029db1-fe0c-4494-8186-e6eb55c57632","version":1,"type":"page","properties":{"V}\u003c`":[["较低"]],"cVEk":[["较高"]],"title":[["学习成本"]]},"format":{"copied_from_pointer":{"id":"f96836ca-a663-478d-bdc6-cc7fd1b6d1bf","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050581,"last_edited_time":1666059050581,"parent_id":"c44a4ca7-b3bf-4f39-91bb-b95da6ef6388","parent_table":"collection","alive":true,"copied_from":"f96836ca-a663-478d-bdc6-cc7fd1b6d1bf","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"5cf89e43-953a-4289-aef7-334c7760d81a":{"role":"reader","value":{"id":"5cf89e43-953a-4289-aef7-334c7760d81a","version":1,"type":"page","properties":{"V}\u003c`":[["较低"]],"cVEk":[["高"]],"title":[["生产力"]]},"format":{"copied_from_pointer":{"id":"60fbd807-b858-45ac-91d2-fc0572cbb659","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050581,"last_edited_time":1666059050581,"parent_id":"c44a4ca7-b3bf-4f39-91bb-b95da6ef6388","parent_table":"collection","alive":true,"copied_from":"60fbd807-b858-45ac-91d2-fc0572cbb659","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"d710e6b7-a1a2-4584-93f3-a4a06adc7f6e":{"role":"reader","value":{"id":"d710e6b7-a1a2-4584-93f3-a4a06adc7f6e","version":1,"type":"page","properties":{"V}\u003c`":[["较灵活"]],"cVEk":[["固定结构"]],"title":[["灵活性"]]},"format":{"copied_from_pointer":{"id":"9a35d9de-e902-4385-a9df-2ff98a38eda9","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050581,"last_edited_time":1666059050581,"parent_id":"c44a4ca7-b3bf-4f39-91bb-b95da6ef6388","parent_table":"collection","alive":true,"copied_from":"9a35d9de-e902-4385-a9df-2ff98a38eda9","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"4e0a6851-a331-441c-bb68-fd9b6fa17ffb":{"role":"reader","value":{"id":"4e0a6851-a331-441c-bb68-fd9b6fa17ffb","version":1,"type":"page","properties":{"V}\u003c`":[["是"]],"cVEk":[["否"]],"title":[["是否支持订阅"]]},"format":{"copied_from_pointer":{"id":"0eab256b-81eb-4851-b551-ec99713141a3","table":"block","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"created_time":1666059050581,"last_edited_time":1666059050581,"parent_id":"c44a4ca7-b3bf-4f39-91bb-b95da6ef6388","parent_table":"collection","alive":true,"copied_from":"0eab256b-81eb-4851-b551-ec99713141a3","created_by_table":"notion_user","created_by_id":"f594524b-0941-4aea-99a2-9b9304033287","last_edited_by_table":"notion_user","last_edited_by_id":"f594524b-0941-4aea-99a2-9b9304033287","space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}}},"collection":{"e34bec60-9b02-4ad8-aaf8-83369409cc9f":{"role":"reader","value":{"id":"e34bec60-9b02-4ad8-aaf8-83369409cc9f","version":92,"name":[["布鲁斯鱼的妙想天开 "]],"schema":{"NX\\Q":{"name":"date","type":"date"},"`gQ~":{"name":"type","type":"select","options":[{"id":"5aff2f95-fd1e-489b-8840-bf10bc9519cb","color":"purple","value":"Post"},{"id":"374d2bc6-a144-4832-8ca4-474aaae0ea1f","color":"orange","value":"Page"}]},"d]hq":{"name":"slug","type":"text"},"sD^m":{"name":"tags","type":"multi_select","options":[{"id":"790180f1-0c2e-4730-a1ef-c5463df34680","color":"brown","value":"python"},{"id":"5d668f5e-7204-4c7e-b57e-5558bd27efaf","color":"gray","value":"pep"},{"id":"9081ab60-29ee-4a5b-9989-f50cf36ecb9b","color":"orange","value":"tech"},{"id":"c0225229-afab-45e4-b69b-b71029b39835","color":"red","value":"django"},{"id":"90084124-d1d5-49fb-86e7-4b133c051d81","color":"default","value":"orm"},{"id":"10ace7d0-10e6-4617-970e-acf2d9348d0f","color":"yellow","value":"best-practice"},{"id":"1b9671ca-93e5-402d-a73e-f9aca38e4358","color":"pink","value":"web"},{"id":"c7015bc7-2283-4b3d-8d19-3075724a10df","color":"blue","value":"blog"},{"id":"22d9ce60-f854-4122-b0fc-4f4c3a41979e","color":"green","value":"guide"},{"id":"6e99d746-1829-43e3-a828-214a1ae79b4a","color":"purple","value":"ELK"},{"id":"45ebe27a-5445-4cc3-91c9-ec1f1296dcf4","color":"brown","value":"pytest"},{"id":"9f679b83-f407-4130-b5b7-f969329300bf","color":"brown","value":"unittest"},{"id":"e30656d1-1ff2-434c-a2cb-8b3c75c9d1a1","color":"gray","value":"fun"},{"id":"5146a8a4-5647-4ce0-8a7b-1a6320adee06","color":"blue","value":"back-pressure"},{"id":"36828c03-3b80-417d-82a3-b1066ad5ca60","color":"green","value":"Dependency injection"},{"id":"9602332d-afbb-41e8-baed-bd0dd39a5e21","color":"brown","value":"k8s"},{"id":"82cd2499-ddd4-43ad-9298-fba21fe29cfa","color":"brown","value":"helm"},{"id":"f0a44444-e52d-4db2-9262-aa29d7ded8e3","color":"blue","value":"celery"},{"id":"a87e284b-1c48-422e-9811-eba8a167f97a","color":"red","value":"amqp"},{"id":"dc50dbb3-8e3a-4747-95d8-c9098e70e088","color":"default","value":"tcp"},{"id":"90b243e4-95f4-459e-b5b7-42f09020978b","color":"gray","value":"graphql"},{"id":"00f0130d-3a96-4e5a-8b5e-77e14e0a3ff7","color":"purple","value":"logstash"},{"id":"a921b879-fcef-4ace-8c96-7a6e11fe2358","color":"orange","value":"konajdk"},{"id":"b8e6dc68-925c-4d32-84d9-580d1a34c3a6","color":"orange","value":"regex"},{"id":"fc66930c-fa10-44b1-b553-5f6acc796321","color":"gray","value":"nfa"},{"id":"f9255cb2-7e85-4bce-8042-472643ff3b58","color":"orange","value":"dfa"},{"id":"e00a51c2-af1c-4bfd-a118-e83e73f3e1a3","color":"purple","value":"security"},{"id":"45105ec0-49be-430b-aead-ef83cfbc8b02","color":"pink","value":"reading"},{"id":"4c3a21fd-3ba5-44a2-8c5e-ef6e9100c32c","color":"brown","value":"software-engineering"},{"id":"4cd1d179-3466-4d7e-baf2-99a4c0250a78","color":"blue","value":"google"},{"id":"22973bbb-4038-4f9b-a30c-c0ab6506d65d","color":"gray","value":"note"},{"id":"1ca18016-ff4e-41e0-af37-6ea457fc4bd8","color":"orange","value":"go"}]},"wz|S":{"name":"summary","type":"text"},"title":{"name":"title","type":"title"},"f211bdc0-ee00-4186-9a7d-f68c055ec2ee":{"name":"status","type":"select","options":[{"id":"22460321-fea2-4c7c-b352-a674760780ac","color":"orange","value":"Idea"},{"id":"41d5f5c6-b53c-42bc-8e0f-fc9402048480","color":"yellow","value":"Draft"},{"id":"c7390b31-9fab-4e21-94ee-7e67ea077a97","color":"blue","value":"Revise"},{"id":"7abc61d4-b405-480d-b699-12588755fa65","color":"red","value":"Published"}]}},"icon":"🗯️","format":{"copied_from_pointer":{"id":"6a42b751-ff40-4f34-aa6a-1830a3344cb7","table":"collection","spaceId":"ac4cb96d-c8f8-4040-9bb2-868d9fc7f526"},"collection_page_properties":[{"visible":false,"property":"NX\\Q"},{"visible":false,"property":"d]hq"},{"visible":false,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"visible":false,"property":"sD^m"},{"visible":false,"property":"wz|S"},{"visible":false,"property":"`gQ~"}]},"parent_id":"a6089909-2d0d-43ef-af93-5e041712e826","parent_table":"block","alive":true,"file_ids":["6cf3dc36-2f98-4f0e-9679-1bdbb1485129","5520bd92-e709-4c0d-ad58-06923f23f7e9","624d393a-62e3-4464-a1bf-1c79ecd4fbda","d52f6766-3e32-4c3d-8529-46e1f214360f"],"copied_from":"6a42b751-ff40-4f34-aa6a-1830a3344cb7","migrated":true,"space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6","deleted_schema":{"0d330ccb-d222-4440-a0de-6cccfe926a33":{"name":"url","type":"text"},"26ff3130-393a-45ac-92b5-7490d9b87515":{"name":"template","type":"select","options":[{"id":"V*ea","color":"purple","value":"post"}]},"29e679ed-47a3-46c2-9eb4-9070171591b8":{"name":"inList","type":"checkbox"},"2af12d30-97f0-4310-b38c-02e6a554245f":{"name":"publish","type":"checkbox"},"2bf55746-6864-4bb6-b585-77b81f140da1":{"name":"inList","type":"checkbox"},"487aab80-eb42-4dd6-a386-d58672ff59fa":{"name":"description","type":"text"},"53819e0d-5bc6-40de-a8bc-498fdf840fbc":{"name":"description","type":"text"},"67c34d44-b9f2-42c1-b35c-4a534c03bdd9":{"name":"inList","type":"checkbox"},"69fb2cd3-221c-476b-86c2-ab74f4490cc9":{"name":"template","type":"select","options":[{"id":"V*ea","color":"purple","value":"post"}]},"ab0a009c-1080-47c3-aecc-b26dc703a4e0":{"name":"url","type":"text"},"ad8f0878-e947-4188-8970-1ca14665f6e3":{"name":"inMenu","type":"checkbox"},"b2c6f9d4-31e2-4230-b57e-4bdb21a3d635":{"name":"template","type":"select","options":[{"id":"V*ea","color":"purple","value":"post"}]},"b387319f-5770-457e-8453-1d2f2708f9f1":{"name":"url","type":"text"},"b6d830ff-ce1d-4e76-a484-f0fc3f148c52":{"name":"publish","type":"checkbox"},"c0b15f23-eddd-4316-95d1-a92a4edbc710":{"name":"publish","type":"checkbox"},"e3660c02-9d93-463b-9495-addeeabd3e80":{"name":"description","type":"text"}}}},"c44a4ca7-b3bf-4f39-91bb-b95da6ef6388":{"role":"reader","value":{"id":"c44a4ca7-b3bf-4f39-91bb-b95da6ef6388","version":1,"name":[["Relay vs Apollo "]],"schema":{"V}\u003c`":{"name":"Apollo","type":"text"},"cVEk":{"name":"Relay","type":"text"},"title":{"name":"","type":"title"}},"format":{"copied_from_pointer":{"id":"cab32c34-58f4-4388-8b9f-6e2f1d7fee65","table":"collection","spaceId":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"parent_id":"79eac296-c454-4b13-8687-c18a99776607","parent_table":"block","alive":true,"copied_from":"cab32c34-58f4-4388-8b9f-6e2f1d7fee65","migrated":true,"space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}}},"space":{},"collection_view":{"065b98d2-d3b4-4dab-8b96-4eb118a3f311":{"role":"reader","value":{"id":"065b98d2-d3b4-4dab-8b96-4eb118a3f311","version":32,"type":"table","name":"Default view","format":{"table_wrap":false,"table_properties":[{"width":371,"visible":true,"property":"title"},{"width":243,"visible":true,"property":"d]hq"},{"width":159,"visible":true,"property":"NX\\Q"},{"width":147,"visible":true,"property":"wz|S"},{"width":356,"visible":true,"property":"sD^m"},{"width":124,"visible":true,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"width":100,"visible":true,"property":"`gQ~"}]},"parent_id":"a6089909-2d0d-43ef-af93-5e041712e826","parent_table":"block","alive":true,"page_sort":["b1e1d645-db95-42e5-8995-39a80eda6460","e8cd3732-dc1c-43ae-959a-a5a611ec098a","e876558d-e878-47f6-8c95-21be678990a5","5a971ded-d3c5-41be-bef9-ddfff48d43a2","8db8b240-e1c5-4dd7-bf74-72584d7a2ce0","daf94ca4-ec56-47a3-84ed-b1e2479acc4b","d1a2db9b-6820-421e-9b80-017ce7478587","67ea9f83-b9f6-416b-afcb-7c64f7533e6c","45939470-9819-47e8-b12b-999cfefa0aad","c60dc33d-8efb-44be-a863-7a87ad047932","fe4b8d5f-7c49-42c6-a7d5-1cb71c4f7e86","b7233a67-c367-4198-831e-f12089568d1f","4f3bf306-92c4-41b7-a43e-957129a1240a","6a789607-66cf-498e-9b32-eb3fa69a84f4","c9429034-dabd-4a25-8782-97f20c808a60","38c49fe2-37f8-4a7f-a99f-9edb9ddad4c2","474eb638-9f6b-46bf-8004-77668293f199","81d6dfab-69cb-43a0-aa04-e9725f0b67e1","7703d956-84db-46cd-b538-48eae1af68b5","9f937c73-dac9-4ed7-9b01-beefcb321f16","3cf9dcb9-e7db-406c-80ab-c65c11fbf906","5827ab53-e051-455b-b90a-3bdc20158c2c","fa7acd3b-dea9-4fb1-b859-5345f35163c6","696dfc48-62c3-494d-96d0-ec5fa84637e8","79df93cf-9b10-452e-bc62-f39e8cd2d124","9bb8e52d-c459-4528-b1b3-c2378207253a","5da038ef-f419-4a11-aa48-587b3787e040","b4a2c9d4-6a2c-49e6-988d-89a538dfe0f6","c374a479-5cc7-4c54-ba69-6a4d76dc25ad","d470fa67-0e7c-40d8-86ac-9b5a8be88dc8","986be38b-9780-4bb9-bdcd-4e361ddbd888","b7613f56-c2d4-4aae-b967-b7471ade86d0","e357d1fc-7466-4d6a-8d48-71b76ea97cdc","e1735855-4089-4af6-bd4d-0d59f7a76cb4","9b34581a-955a-4229-99d0-8f2a6d0e69ce","b4414811-0599-45cf-b047-fa95eac42d89","c28a8a01-911a-40a2-a607-d3af8cb24017","461d07ae-4b4a-49de-bdcb-341af1153201","3df59023-cb68-4a65-afd1-7f0b8c21cb57","0e3223d1-03df-40fb-90f9-cc8559d776b5","4f45b7d6-cd5b-46ab-b2a6-37ae20bf5f21","fa475a21-5f38-43d4-9a89-67c40b3129ae","97cbc634-fe3a-4b9b-9da6-ac4aaa94772f","8a0d34bc-7e8c-4a68-88a5-5276274f612a","623f8788-a20f-45fd-bb82-08935f59b44d","7ee398f0-450b-47cb-9b53-f5e7736590d2","eae9f077-591e-4841-903b-db395513c834","367d0f2a-0b10-4dbb-b53a-613152f124f9","398e2e28-3997-49bc-a138-0467d4da8531","8aaf4633-e879-44dc-82c8-3c9fb9d3a6f8","1eb5e5f2-8dc9-4ffc-b5e1-09b67be27a83","83465fb9-205b-41fc-83a6-424692ee0a0e","fb1d18d0-6403-4e8a-840e-134553748ff5","4407cb77-3838-4ba5-b474-f15222cd3dba","1880b0f2-e036-42d0-9550-0fb08a962397","d8d60bd6-33f6-458f-a7d6-209ef2fb05a1","29bf65ff-888b-4a76-a8dd-bf54f02c3864","bad1d4ae-fd4a-4671-ae94-dd53d94e0eae","0d59792d-db1c-4ae7-8d7c-4f013be40dcf","337dc259-2805-4b1c-a60f-1b3e6c7badb8","4b1b21a8-c278-4bc6-88f1-1a35d407f4d7","7946aba2-d6d0-45ef-8779-23fa15db8f2d","c18dbce6-9e8c-4f4b-b74a-0994e7c1bc3f","84aa87b7-39e7-493c-87b9-5cae4de95449","1446eadb-8c01-4295-be3a-ecf19361c143","fe8a7d94-e9ba-457d-8f19-10fe53e6ca3c","98a5a0b6-b07b-4065-a73f-2949ad28ac47","099219ec-fb4b-459d-a538-f6c3d54f6ca2","e047becf-e696-42e3-84c9-4f6278c844ae","975051d4-ebbc-4b3f-98cf-1a52e5e4761d","e5d98bee-b2d5-4b45-ab0b-b77da24aebe7","acac2668-1062-4e7a-b095-eda067da8413","179025c4-d8a8-4c47-b621-9fd6a6f3339b","d256e5ed-5eac-43bb-a32e-581774962c23","b843dacf-b655-4b1c-a61c-434b67f18154","56a80c2d-0520-415a-a77a-1db82eff0b3a","9c40a253-b9e8-42cd-8a99-62aaa9789a5e","d3a05020-0948-489a-80ac-fedebc035c58","0ee4f3e9-0451-411f-b903-0c83d30e5b67","769f1163-e45e-4c3b-87a7-3b551895d9be","7e217dcd-e4e5-4bcd-b2de-00fcb5ab7fba","28e3d2f6-abb8-4711-b21e-ce1937e3e546","04d4f00b-9608-4d83-949e-b32313ace34e","41f93fa3-0496-4ea7-8ac3-0a8beaf346da","f0db9e3e-0e99-4465-ae65-6a9a8d8a6468","279e794f-519c-44f5-ab04-422fba916b72","f0b2f8a5-7dfd-48dc-ba1f-419a7fda1fff","e874f269-1938-40be-974b-2e499c1f4590","65265d92-050f-4fb5-b529-a514079cdd83","5fc98358-411a-40d7-a5d0-c4089026ca1f","15fcd77a-6097-4ee9-9835-9d6e85897fd6","6f8b1275-2d88-40e2-b76b-375f3c028b03","33273042-efcc-45bc-8f28-b65a1c2c65ad","c18bd396-be21-4ce2-ab22-32a45c28e37f","ba597bcf-7582-4fd2-8049-6333ef3e4453","4edecef8-106d-489d-be1d-d1b528c4cdc9","b03b3109-e900-4daf-b852-a590324ab747","8cba5326-9daa-4c2c-b763-5476dc8a7a91","9ab4aa63-ce81-415f-bf95-e632006a1aea","e3644bfb-4244-4a82-a7d7-d7cdb65aa1ed","b6a1f5b5-febd-4c26-9e29-520290eb5719","51e53e64-e6dd-4fd6-8062-5d4455f0a1cb","f4ec684b-e5f1-44e9-a8a7-aca27f7ca6f3","177fa228-9099-4dd5-8969-c67f9c78bd0c","d5ab0d7a-0123-473f-84d4-81740defb9b4","548f6d36-c509-4b79-9c4b-59f227c7f550","c0901673-4f5e-4e51-ad87-0217f2d33a0c","0787f8d6-dc99-47c6-946e-2b008814bebc","0ade5216-1103-486a-aff0-a709ff825b02","a2c4dd21-985c-497d-b421-c2d8a9ec0eeb","908a498c-f7e3-4668-8afd-f179a027b4d9","4945e5c3-033d-467c-a8b3-b1479c1fdf0a","854f4584-28d5-43bd-938e-88d0957c78e3","6a6574f8-d63d-4fed-99c5-38f3df0364ac","5639d091-037c-4284-8260-ade765dbbc90","c9669745-2229-4d95-89a1-8f008e8bebc6","78ebe658-6ba5-4478-a53c-ad468984e7e3","c7f44558-498f-44bd-a8a3-504955dde6b1","d928387b-107b-4f27-b0c5-75301ed7fc55","833556aa-d685-488c-88d0-b136b456ff5f","0bfe1b9e-b115-49f4-9279-7b106f7661af","1465efce-6026-4d50-a952-1aff8c10dea1","f8f308d6-f4c4-4b0f-b7a3-df78d41ce55d","ebd71155-4a59-46a0-bbb2-40687ddbcf9d","29fc49e0-b597-4f2e-9d53-b7dd247adf4b","692194e6-08d3-4e36-a94f-dc403d6226e6","da9db882-26ea-4516-815c-75f2f9ddab59","9a08823e-eec6-4cc0-9ec8-890cb0650aa7","f7327b98-b06a-423a-8b9f-646e5ba2123f","a6c3c98f-9ef9-45de-9d52-4baec7327464","9d18b689-cdc2-4d3f-81da-a690c700caee","6ad26f7b-1828-4d64-a948-3cc6367f6901","3927ece3-9931-46e8-8e7e-91d5e0b5c326","f6ba5dfd-5000-4e15-80b4-7d3456bc676a","0c0d5bfd-8642-460a-aedc-5a8277725196","fd036365-88c0-4feb-8482-6b4298cacdcc"],"query2":{"filter":{"operator":"and"},"aggregations":[{"property":"title","aggregator":"count"}]},"space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}},"7b05a4dc-53e0-44e1-bf2b-4275922185c0":{"role":"reader","value":{"id":"7b05a4dc-53e0-44e1-bf2b-4275922185c0","version":1,"type":"table","format":{"table_properties":[{"width":232.66949462890625,"visible":true,"property":"title"},{"width":232.66949462890625,"visible":true,"property":"cVEk"},{"width":369.66949462890625,"visible":true,"property":"V}\u003c`"}]},"parent_id":"79eac296-c454-4b13-8687-c18a99776607","parent_table":"block","alive":true,"page_sort":["a61ecda2-037c-4054-957f-4d12b02c2d72","bc1b723e-6881-4b8d-b570-eaa51d4dd328","574b8c14-d709-4938-8afa-d8250db9a9ee","c0029db1-fe0c-4494-8186-e6eb55c57632","5cf89e43-953a-4289-aef7-334c7760d81a","d710e6b7-a1a2-4584-93f3-a4a06adc7f6e","4e0a6851-a331-441c-bb68-fd9b6fa17ffb"],"space_id":"b0a64676-90b9-4734-9c63-2d704ee573b6"}}},"notion_user":{},"collection_query":{"c44a4ca7-b3bf-4f39-91bb-b95da6ef6388":{"7b05a4dc-53e0-44e1-bf2b-4275922185c0":{"collection_group_results":{"type":"results","blockIds":["bc1b723e-6881-4b8d-b570-eaa51d4dd328","574b8c14-d709-4938-8afa-d8250db9a9ee","c0029db1-fe0c-4494-8186-e6eb55c57632","5cf89e43-953a-4289-aef7-334c7760d81a","d710e6b7-a1a2-4584-93f3-a4a06adc7f6e","4e0a6851-a331-441c-bb68-fd9b6fa17ffb"],"hasMore":false}}}},"signed_urls":{}},"emailHash":"d54f099771ff5f17709b76693f693e2e"},"__N_SSG":true},"page":"/[slug]","query":{"slug":"use-graphql-with-django.html"},"buildId":"D9Djqk3Urz4RpQzb05P1Z","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>